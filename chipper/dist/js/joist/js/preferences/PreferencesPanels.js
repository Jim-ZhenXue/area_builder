// Copyright 2021-2024, University of Colorado Boulder
/**
 * The panels that contain preferences controls. There is one panel for every tab, and it is shown when the
 * corresponding tab is selected.
 *
 * Once the dialog is created it is never destroyed so listeners do not need to be disposed.
 *
 * @author Jesse Greenberg (PhET Interactive Simulations)
 */ import optionize from '../../../phet-core/js/optionize.js';
import { AlignGroup, Node } from '../../../scenery/js/imports.js';
import Tandem from '../../../tandem/js/Tandem.js';
import joist from '../joist.js';
import AudioPreferencesPanel from './AudioPreferencesPanel.js';
import InputPreferencesPanel from './InputPreferencesPanel.js';
import LocalizationPreferencesPanel from './LocalizationPreferencesPanel.js';
import OverviewPreferencesPanel from './OverviewPreferencesPanel.js';
import PreferencesType from './PreferencesType.js';
import SimulationPreferencesPanel from './SimulationPreferencesPanel.js';
import VisualPreferencesPanel from './VisualPreferencesPanel.js';
let PreferencesPanels = class PreferencesPanels extends Node {
    /**
   * Returns the visible content panel Node for the selected PreferencesType.
   * NOTE: Loop shouldn't be necessary, create a map that goes from PreferencesType -> content.
   */ getSelectedContent() {
        for(let i = 0; i < this.content.length; i++){
            const currentContent = this.content[i];
            if (currentContent.selectedTabValue === this.selectedTabProperty.value) {
                return currentContent;
            }
        }
        assert && assert(false, 'should never not have a selected panel content.');
        return null;
    }
    /**
   * Focus the selected panel. The panel should not be focusable until this is requested, so it is set to be
   * focusable before the focus() call. When focus is removed from the panel, it should become non-focusable
   * again. That is handled in PreferencesPanelContainer class.
   */ focusSelectedPanel() {
        const selectedContent = this.getSelectedContent();
        selectedContent.panelContent.focusable = true;
        selectedContent.panelContent.focus();
    }
    /**
   * @param node - the potential content for the selected panel that is focusable
   * @returns true if the provided node is the currently selected panel
   */ isFocusableSelectedContent(node) {
        const selectedContent = this.getSelectedContent();
        return node === selectedContent.panelContent; // the panelContent is what is focused in focusSelectedPanel()
    }
    /**
   * @param preferencesModel
   * @param supportedTabs - list of Tabs supported by this Dialog
   * @param selectedTabProperty
   * @param preferencesTabs
   * @param [providedOptions]
   */ constructor(preferencesModel, supportedTabs, selectedTabProperty, preferencesTabs, providedOptions){
        const options = optionize()({
            phetioVisiblePropertyInstrumented: false,
            isDisposable: false
        }, providedOptions);
        const tandem = options.tandem;
        // Don't instrument the actual PreferencesPanels Node. Then if it doesn't have any children, it won't be in the Studio Tree)
        options.tandem = Tandem.OPT_OUT;
        super(options), // Each Preferences Panel as a Node collected into this array for layout and other management.
        this.content = [];
        this.selectedTabProperty = selectedTabProperty;
        const panelAlignGroup = new AlignGroup({
            matchVertical: false
        });
        let overviewPreferencesPanel = null;
        if (supportedTabs.includes(PreferencesType.OVERVIEW)) {
            overviewPreferencesPanel = new OverviewPreferencesPanel(selectedTabProperty, preferencesTabs.getTabVisibleProperty(PreferencesType.OVERVIEW));
            const overviewBox = panelAlignGroup.createBox(overviewPreferencesPanel);
            this.addChild(overviewBox);
            this.content.push(new PreferencesPanelContainer(overviewPreferencesPanel, PreferencesType.OVERVIEW));
        }
        let simulationPreferencesPanel = null;
        if (supportedTabs.includes(PreferencesType.SIMULATION)) {
            simulationPreferencesPanel = new SimulationPreferencesPanel(preferencesModel.simulationModel, selectedTabProperty, preferencesTabs.getTabVisibleProperty(PreferencesType.SIMULATION), {
                tandem: tandem.createTandem('simulationPreferencesPanel')
            });
            const simulationBox = panelAlignGroup.createBox(simulationPreferencesPanel);
            this.addChild(simulationBox);
            this.content.push(new PreferencesPanelContainer(simulationPreferencesPanel, PreferencesType.SIMULATION));
        }
        let visualPreferencesPanel = null;
        if (supportedTabs.includes(PreferencesType.VISUAL)) {
            visualPreferencesPanel = new VisualPreferencesPanel(preferencesModel.visualModel, selectedTabProperty, preferencesTabs.getTabVisibleProperty(PreferencesType.VISUAL), {
                tandem: tandem.createTandem('visualPreferencesPanel')
            });
            const visualBox = panelAlignGroup.createBox(visualPreferencesPanel);
            this.addChild(visualBox);
            this.content.push(new PreferencesPanelContainer(visualPreferencesPanel, PreferencesType.VISUAL));
        }
        let audioPreferencesPanel = null;
        if (supportedTabs.includes(PreferencesType.AUDIO)) {
            audioPreferencesPanel = new AudioPreferencesPanel(preferencesModel.audioModel, selectedTabProperty, preferencesTabs.getTabVisibleProperty(PreferencesType.AUDIO), {
                tandem: tandem.createTandem('audioPreferencesPanel')
            });
            const audioBox = panelAlignGroup.createBox(audioPreferencesPanel);
            this.addChild(audioBox);
            this.content.push(new PreferencesPanelContainer(audioPreferencesPanel, PreferencesType.AUDIO));
        }
        let inputPreferencesPanel = null;
        if (supportedTabs.includes(PreferencesType.INPUT)) {
            inputPreferencesPanel = new InputPreferencesPanel(preferencesModel.inputModel, selectedTabProperty, preferencesTabs.getTabVisibleProperty(PreferencesType.INPUT), {
                tandem: tandem.createTandem('inputPreferencesPanel')
            });
            const inputBox = panelAlignGroup.createBox(inputPreferencesPanel);
            this.addChild(inputBox);
            this.content.push(new PreferencesPanelContainer(inputPreferencesPanel, PreferencesType.INPUT));
        }
        let localizationPreferencesPanel = null;
        if (supportedTabs.includes(PreferencesType.LOCALIZATION)) {
            localizationPreferencesPanel = new LocalizationPreferencesPanel(preferencesModel.localizationModel, selectedTabProperty, preferencesTabs.getTabVisibleProperty(PreferencesType.LOCALIZATION), {
                tandem: tandem.createTandem('localizationPreferencesPanel')
            });
            const localizationBox = panelAlignGroup.createBox(localizationPreferencesPanel);
            this.addChild(localizationBox);
            this.content.push(new PreferencesPanelContainer(localizationPreferencesPanel, PreferencesType.LOCALIZATION));
        }
    }
};
/**
 * An inner class that manages the panelContent and its value. A listener as added to the panel so that
 * whenever focus is lost from the panel, it is removed from the traversal order.
 */ let PreferencesPanelContainer = class PreferencesPanelContainer extends Node {
    constructor(panelContent, selectedTabValue){
        super();
        this.panelContent = panelContent;
        this.selectedTabValue = selectedTabValue;
        panelContent.addInputListener({
            focusout: (event)=>{
                panelContent.focusable = false;
            }
        });
    }
};
joist.register('PreferencesPanels', PreferencesPanels);
export default PreferencesPanels;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2pvaXN0L2pzL3ByZWZlcmVuY2VzL1ByZWZlcmVuY2VzUGFuZWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxuXG4vKipcbiAqIFRoZSBwYW5lbHMgdGhhdCBjb250YWluIHByZWZlcmVuY2VzIGNvbnRyb2xzLiBUaGVyZSBpcyBvbmUgcGFuZWwgZm9yIGV2ZXJ5IHRhYiwgYW5kIGl0IGlzIHNob3duIHdoZW4gdGhlXG4gKiBjb3JyZXNwb25kaW5nIHRhYiBpcyBzZWxlY3RlZC5cbiAqXG4gKiBPbmNlIHRoZSBkaWFsb2cgaXMgY3JlYXRlZCBpdCBpcyBuZXZlciBkZXN0cm95ZWQgc28gbGlzdGVuZXJzIGRvIG5vdCBuZWVkIHRvIGJlIGRpc3Bvc2VkLlxuICpcbiAqIEBhdXRob3IgSmVzc2UgR3JlZW5iZXJnIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxuICovXG5cbmltcG9ydCBUUmVhZE9ubHlQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi9heG9uL2pzL1RSZWFkT25seVByb3BlcnR5LmpzJztcbmltcG9ydCBvcHRpb25pemUsIHsgRW1wdHlTZWxmT3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xuaW1wb3J0IFBpY2tSZXF1aXJlZCBmcm9tICcuLi8uLi8uLi9waGV0LWNvcmUvanMvdHlwZXMvUGlja1JlcXVpcmVkLmpzJztcbmltcG9ydCB7IEFsaWduR3JvdXAsIE5vZGUsIE5vZGVPcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcbmltcG9ydCBUYW5kZW0gZnJvbSAnLi4vLi4vLi4vdGFuZGVtL2pzL1RhbmRlbS5qcyc7XG5pbXBvcnQgam9pc3QgZnJvbSAnLi4vam9pc3QuanMnO1xuaW1wb3J0IEF1ZGlvUHJlZmVyZW5jZXNQYW5lbCBmcm9tICcuL0F1ZGlvUHJlZmVyZW5jZXNQYW5lbC5qcyc7XG5pbXBvcnQgSW5wdXRQcmVmZXJlbmNlc1BhbmVsIGZyb20gJy4vSW5wdXRQcmVmZXJlbmNlc1BhbmVsLmpzJztcbmltcG9ydCBMb2NhbGl6YXRpb25QcmVmZXJlbmNlc1BhbmVsIGZyb20gJy4vTG9jYWxpemF0aW9uUHJlZmVyZW5jZXNQYW5lbC5qcyc7XG5pbXBvcnQgT3ZlcnZpZXdQcmVmZXJlbmNlc1BhbmVsIGZyb20gJy4vT3ZlcnZpZXdQcmVmZXJlbmNlc1BhbmVsLmpzJztcbmltcG9ydCBQcmVmZXJlbmNlc01vZGVsIGZyb20gJy4vUHJlZmVyZW5jZXNNb2RlbC5qcyc7XG5pbXBvcnQgUHJlZmVyZW5jZXNUYWJzIGZyb20gJy4vUHJlZmVyZW5jZXNUYWJzLmpzJztcbmltcG9ydCBQcmVmZXJlbmNlc1R5cGUgZnJvbSAnLi9QcmVmZXJlbmNlc1R5cGUuanMnO1xuaW1wb3J0IFNpbXVsYXRpb25QcmVmZXJlbmNlc1BhbmVsIGZyb20gJy4vU2ltdWxhdGlvblByZWZlcmVuY2VzUGFuZWwuanMnO1xuaW1wb3J0IFZpc3VhbFByZWZlcmVuY2VzUGFuZWwgZnJvbSAnLi9WaXN1YWxQcmVmZXJlbmNlc1BhbmVsLmpzJztcblxudHlwZSBTZWxmT3B0aW9ucyA9IEVtcHR5U2VsZk9wdGlvbnM7XG50eXBlIFByZWZlcmVuY2VzUGFuZWxzT3B0aW9ucyA9IFNlbGZPcHRpb25zICYgTm9kZU9wdGlvbnMgJiBQaWNrUmVxdWlyZWQ8Tm9kZU9wdGlvbnMsICd0YW5kZW0nPjtcblxuY2xhc3MgUHJlZmVyZW5jZXNQYW5lbHMgZXh0ZW5kcyBOb2RlIHtcblxuICAvLyBFYWNoIFByZWZlcmVuY2VzIFBhbmVsIGFzIGEgTm9kZSBjb2xsZWN0ZWQgaW50byB0aGlzIGFycmF5IGZvciBsYXlvdXQgYW5kIG90aGVyIG1hbmFnZW1lbnQuXG4gIHByaXZhdGUgcmVhZG9ubHkgY29udGVudDogUHJlZmVyZW5jZXNQYW5lbENvbnRhaW5lcltdID0gW107XG5cbiAgLy8gUHJvcGVydHkgY29udHJvbGxpbmcgdGhlIHNlbGVjdGVkIHRhYiwgc28gd2UgY2FuIGNvbnRyb2wgd2hpY2ggcGFuZWwgc2hvdWxkIGJlIHZpc2libGUuXG4gIHByaXZhdGUgcmVhZG9ubHkgc2VsZWN0ZWRUYWJQcm9wZXJ0eTogVFJlYWRPbmx5UHJvcGVydHk8UHJlZmVyZW5jZXNUeXBlPjtcblxuICAvKipcbiAgICogQHBhcmFtIHByZWZlcmVuY2VzTW9kZWxcbiAgICogQHBhcmFtIHN1cHBvcnRlZFRhYnMgLSBsaXN0IG9mIFRhYnMgc3VwcG9ydGVkIGJ5IHRoaXMgRGlhbG9nXG4gICAqIEBwYXJhbSBzZWxlY3RlZFRhYlByb3BlcnR5XG4gICAqIEBwYXJhbSBwcmVmZXJlbmNlc1RhYnNcbiAgICogQHBhcmFtIFtwcm92aWRlZE9wdGlvbnNdXG4gICAqL1xuICBwdWJsaWMgY29uc3RydWN0b3IoIHByZWZlcmVuY2VzTW9kZWw6IFByZWZlcmVuY2VzTW9kZWwsIHN1cHBvcnRlZFRhYnM6IFByZWZlcmVuY2VzVHlwZVtdLFxuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkVGFiUHJvcGVydHk6IFRSZWFkT25seVByb3BlcnR5PFByZWZlcmVuY2VzVHlwZT4sIHByZWZlcmVuY2VzVGFiczogUHJlZmVyZW5jZXNUYWJzLFxuICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVkT3B0aW9ucz86IFByZWZlcmVuY2VzUGFuZWxzT3B0aW9ucyApIHtcbiAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uaXplPFByZWZlcmVuY2VzUGFuZWxzT3B0aW9ucywgU2VsZk9wdGlvbnMsIE5vZGVPcHRpb25zPigpKCB7XG4gICAgICBwaGV0aW9WaXNpYmxlUHJvcGVydHlJbnN0cnVtZW50ZWQ6IGZhbHNlLFxuICAgICAgaXNEaXNwb3NhYmxlOiBmYWxzZVxuICAgIH0sIHByb3ZpZGVkT3B0aW9ucyApO1xuXG4gICAgY29uc3QgdGFuZGVtID0gb3B0aW9ucy50YW5kZW07XG5cbiAgICAvLyBEb24ndCBpbnN0cnVtZW50IHRoZSBhY3R1YWwgUHJlZmVyZW5jZXNQYW5lbHMgTm9kZS4gVGhlbiBpZiBpdCBkb2Vzbid0IGhhdmUgYW55IGNoaWxkcmVuLCBpdCB3b24ndCBiZSBpbiB0aGUgU3R1ZGlvIFRyZWUpXG4gICAgb3B0aW9ucy50YW5kZW0gPSBUYW5kZW0uT1BUX09VVDtcblxuICAgIHN1cGVyKCBvcHRpb25zICk7XG5cbiAgICB0aGlzLnNlbGVjdGVkVGFiUHJvcGVydHkgPSBzZWxlY3RlZFRhYlByb3BlcnR5O1xuXG4gICAgY29uc3QgcGFuZWxBbGlnbkdyb3VwID0gbmV3IEFsaWduR3JvdXAoIHtcbiAgICAgIG1hdGNoVmVydGljYWw6IGZhbHNlXG4gICAgfSApO1xuXG4gICAgbGV0IG92ZXJ2aWV3UHJlZmVyZW5jZXNQYW5lbDogTm9kZSB8IG51bGwgPSBudWxsO1xuICAgIGlmICggc3VwcG9ydGVkVGFicy5pbmNsdWRlcyggUHJlZmVyZW5jZXNUeXBlLk9WRVJWSUVXICkgKSB7XG4gICAgICBvdmVydmlld1ByZWZlcmVuY2VzUGFuZWwgPSBuZXcgT3ZlcnZpZXdQcmVmZXJlbmNlc1BhbmVsKCBzZWxlY3RlZFRhYlByb3BlcnR5LCBwcmVmZXJlbmNlc1RhYnMuZ2V0VGFiVmlzaWJsZVByb3BlcnR5KCBQcmVmZXJlbmNlc1R5cGUuT1ZFUlZJRVcgKSApO1xuICAgICAgY29uc3Qgb3ZlcnZpZXdCb3ggPSBwYW5lbEFsaWduR3JvdXAuY3JlYXRlQm94KCBvdmVydmlld1ByZWZlcmVuY2VzUGFuZWwgKTtcbiAgICAgIHRoaXMuYWRkQ2hpbGQoIG92ZXJ2aWV3Qm94ICk7XG4gICAgICB0aGlzLmNvbnRlbnQucHVzaCggbmV3IFByZWZlcmVuY2VzUGFuZWxDb250YWluZXIoIG92ZXJ2aWV3UHJlZmVyZW5jZXNQYW5lbCwgUHJlZmVyZW5jZXNUeXBlLk9WRVJWSUVXICkgKTtcbiAgICB9XG5cbiAgICBsZXQgc2ltdWxhdGlvblByZWZlcmVuY2VzUGFuZWw6IE5vZGUgfCBudWxsID0gbnVsbDtcbiAgICBpZiAoIHN1cHBvcnRlZFRhYnMuaW5jbHVkZXMoIFByZWZlcmVuY2VzVHlwZS5TSU1VTEFUSU9OICkgKSB7XG4gICAgICBzaW11bGF0aW9uUHJlZmVyZW5jZXNQYW5lbCA9IG5ldyBTaW11bGF0aW9uUHJlZmVyZW5jZXNQYW5lbChcbiAgICAgICAgcHJlZmVyZW5jZXNNb2RlbC5zaW11bGF0aW9uTW9kZWwsIHNlbGVjdGVkVGFiUHJvcGVydHksIHByZWZlcmVuY2VzVGFicy5nZXRUYWJWaXNpYmxlUHJvcGVydHkoIFByZWZlcmVuY2VzVHlwZS5TSU1VTEFUSU9OICksIHtcbiAgICAgICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdzaW11bGF0aW9uUHJlZmVyZW5jZXNQYW5lbCcgKVxuICAgICAgICB9ICk7XG4gICAgICBjb25zdCBzaW11bGF0aW9uQm94ID0gcGFuZWxBbGlnbkdyb3VwLmNyZWF0ZUJveCggc2ltdWxhdGlvblByZWZlcmVuY2VzUGFuZWwgKTtcbiAgICAgIHRoaXMuYWRkQ2hpbGQoIHNpbXVsYXRpb25Cb3ggKTtcbiAgICAgIHRoaXMuY29udGVudC5wdXNoKCBuZXcgUHJlZmVyZW5jZXNQYW5lbENvbnRhaW5lciggc2ltdWxhdGlvblByZWZlcmVuY2VzUGFuZWwsIFByZWZlcmVuY2VzVHlwZS5TSU1VTEFUSU9OICkgKTtcbiAgICB9XG5cbiAgICBsZXQgdmlzdWFsUHJlZmVyZW5jZXNQYW5lbDogTm9kZSB8IG51bGwgPSBudWxsO1xuICAgIGlmICggc3VwcG9ydGVkVGFicy5pbmNsdWRlcyggUHJlZmVyZW5jZXNUeXBlLlZJU1VBTCApICkge1xuICAgICAgdmlzdWFsUHJlZmVyZW5jZXNQYW5lbCA9IG5ldyBWaXN1YWxQcmVmZXJlbmNlc1BhbmVsKFxuICAgICAgICBwcmVmZXJlbmNlc01vZGVsLnZpc3VhbE1vZGVsLFxuICAgICAgICBzZWxlY3RlZFRhYlByb3BlcnR5LFxuICAgICAgICBwcmVmZXJlbmNlc1RhYnMuZ2V0VGFiVmlzaWJsZVByb3BlcnR5KCBQcmVmZXJlbmNlc1R5cGUuVklTVUFMICksIHtcbiAgICAgICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICd2aXN1YWxQcmVmZXJlbmNlc1BhbmVsJyApXG4gICAgICAgIH0gKTtcbiAgICAgIGNvbnN0IHZpc3VhbEJveCA9IHBhbmVsQWxpZ25Hcm91cC5jcmVhdGVCb3goIHZpc3VhbFByZWZlcmVuY2VzUGFuZWwgKTtcbiAgICAgIHRoaXMuYWRkQ2hpbGQoIHZpc3VhbEJveCApO1xuICAgICAgdGhpcy5jb250ZW50LnB1c2goIG5ldyBQcmVmZXJlbmNlc1BhbmVsQ29udGFpbmVyKCB2aXN1YWxQcmVmZXJlbmNlc1BhbmVsLCBQcmVmZXJlbmNlc1R5cGUuVklTVUFMICkgKTtcbiAgICB9XG5cbiAgICBsZXQgYXVkaW9QcmVmZXJlbmNlc1BhbmVsOiBOb2RlIHwgbnVsbCA9IG51bGw7XG4gICAgaWYgKCBzdXBwb3J0ZWRUYWJzLmluY2x1ZGVzKCBQcmVmZXJlbmNlc1R5cGUuQVVESU8gKSApIHtcbiAgICAgIGF1ZGlvUHJlZmVyZW5jZXNQYW5lbCA9IG5ldyBBdWRpb1ByZWZlcmVuY2VzUGFuZWwoXG4gICAgICAgIHByZWZlcmVuY2VzTW9kZWwuYXVkaW9Nb2RlbCxcbiAgICAgICAgc2VsZWN0ZWRUYWJQcm9wZXJ0eSxcbiAgICAgICAgcHJlZmVyZW5jZXNUYWJzLmdldFRhYlZpc2libGVQcm9wZXJ0eSggUHJlZmVyZW5jZXNUeXBlLkFVRElPICksIHtcbiAgICAgICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdhdWRpb1ByZWZlcmVuY2VzUGFuZWwnIClcbiAgICAgICAgfSApO1xuICAgICAgY29uc3QgYXVkaW9Cb3ggPSBwYW5lbEFsaWduR3JvdXAuY3JlYXRlQm94KCBhdWRpb1ByZWZlcmVuY2VzUGFuZWwgKTtcbiAgICAgIHRoaXMuYWRkQ2hpbGQoIGF1ZGlvQm94ICk7XG4gICAgICB0aGlzLmNvbnRlbnQucHVzaCggbmV3IFByZWZlcmVuY2VzUGFuZWxDb250YWluZXIoIGF1ZGlvUHJlZmVyZW5jZXNQYW5lbCwgUHJlZmVyZW5jZXNUeXBlLkFVRElPICkgKTtcbiAgICB9XG5cbiAgICBsZXQgaW5wdXRQcmVmZXJlbmNlc1BhbmVsOiBOb2RlIHwgbnVsbCA9IG51bGw7XG4gICAgaWYgKCBzdXBwb3J0ZWRUYWJzLmluY2x1ZGVzKCBQcmVmZXJlbmNlc1R5cGUuSU5QVVQgKSApIHtcbiAgICAgIGlucHV0UHJlZmVyZW5jZXNQYW5lbCA9IG5ldyBJbnB1dFByZWZlcmVuY2VzUGFuZWwoXG4gICAgICAgIHByZWZlcmVuY2VzTW9kZWwuaW5wdXRNb2RlbCxcbiAgICAgICAgc2VsZWN0ZWRUYWJQcm9wZXJ0eSxcbiAgICAgICAgcHJlZmVyZW5jZXNUYWJzLmdldFRhYlZpc2libGVQcm9wZXJ0eSggUHJlZmVyZW5jZXNUeXBlLklOUFVUICksIHtcbiAgICAgICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdpbnB1dFByZWZlcmVuY2VzUGFuZWwnIClcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIGNvbnN0IGlucHV0Qm94ID0gcGFuZWxBbGlnbkdyb3VwLmNyZWF0ZUJveCggaW5wdXRQcmVmZXJlbmNlc1BhbmVsICk7XG4gICAgICB0aGlzLmFkZENoaWxkKCBpbnB1dEJveCApO1xuICAgICAgdGhpcy5jb250ZW50LnB1c2goIG5ldyBQcmVmZXJlbmNlc1BhbmVsQ29udGFpbmVyKCBpbnB1dFByZWZlcmVuY2VzUGFuZWwsIFByZWZlcmVuY2VzVHlwZS5JTlBVVCApICk7XG4gICAgfVxuXG4gICAgbGV0IGxvY2FsaXphdGlvblByZWZlcmVuY2VzUGFuZWw6IE5vZGUgfCBudWxsID0gbnVsbDtcbiAgICBpZiAoIHN1cHBvcnRlZFRhYnMuaW5jbHVkZXMoIFByZWZlcmVuY2VzVHlwZS5MT0NBTElaQVRJT04gKSApIHtcbiAgICAgIGxvY2FsaXphdGlvblByZWZlcmVuY2VzUGFuZWwgPSBuZXcgTG9jYWxpemF0aW9uUHJlZmVyZW5jZXNQYW5lbChcbiAgICAgICAgcHJlZmVyZW5jZXNNb2RlbC5sb2NhbGl6YXRpb25Nb2RlbCxcbiAgICAgICAgc2VsZWN0ZWRUYWJQcm9wZXJ0eSxcbiAgICAgICAgcHJlZmVyZW5jZXNUYWJzLmdldFRhYlZpc2libGVQcm9wZXJ0eSggUHJlZmVyZW5jZXNUeXBlLkxPQ0FMSVpBVElPTiApLFxuICAgICAgICB7XG4gICAgICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnbG9jYWxpemF0aW9uUHJlZmVyZW5jZXNQYW5lbCcgKVxuICAgICAgICB9ICk7XG4gICAgICBjb25zdCBsb2NhbGl6YXRpb25Cb3ggPSBwYW5lbEFsaWduR3JvdXAuY3JlYXRlQm94KCBsb2NhbGl6YXRpb25QcmVmZXJlbmNlc1BhbmVsICk7XG4gICAgICB0aGlzLmFkZENoaWxkKCBsb2NhbGl6YXRpb25Cb3ggKTtcbiAgICAgIHRoaXMuY29udGVudC5wdXNoKCBuZXcgUHJlZmVyZW5jZXNQYW5lbENvbnRhaW5lciggbG9jYWxpemF0aW9uUHJlZmVyZW5jZXNQYW5lbCwgUHJlZmVyZW5jZXNUeXBlLkxPQ0FMSVpBVElPTiApICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHZpc2libGUgY29udGVudCBwYW5lbCBOb2RlIGZvciB0aGUgc2VsZWN0ZWQgUHJlZmVyZW5jZXNUeXBlLlxuICAgKiBOT1RFOiBMb29wIHNob3VsZG4ndCBiZSBuZWNlc3NhcnksIGNyZWF0ZSBhIG1hcCB0aGF0IGdvZXMgZnJvbSBQcmVmZXJlbmNlc1R5cGUgLT4gY29udGVudC5cbiAgICovXG4gIHByaXZhdGUgZ2V0U2VsZWN0ZWRDb250ZW50KCk6IFByZWZlcmVuY2VzUGFuZWxDb250YWluZXIgfCBudWxsIHtcbiAgICBmb3IgKCBsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbnRlbnQubGVuZ3RoOyBpKysgKSB7XG4gICAgICBjb25zdCBjdXJyZW50Q29udGVudCA9IHRoaXMuY29udGVudFsgaSBdO1xuICAgICAgaWYgKCBjdXJyZW50Q29udGVudC5zZWxlY3RlZFRhYlZhbHVlID09PSB0aGlzLnNlbGVjdGVkVGFiUHJvcGVydHkudmFsdWUgKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50Q29udGVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgYXNzZXJ0ICYmIGFzc2VydCggZmFsc2UsICdzaG91bGQgbmV2ZXIgbm90IGhhdmUgYSBzZWxlY3RlZCBwYW5lbCBjb250ZW50LicgKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb2N1cyB0aGUgc2VsZWN0ZWQgcGFuZWwuIFRoZSBwYW5lbCBzaG91bGQgbm90IGJlIGZvY3VzYWJsZSB1bnRpbCB0aGlzIGlzIHJlcXVlc3RlZCwgc28gaXQgaXMgc2V0IHRvIGJlXG4gICAqIGZvY3VzYWJsZSBiZWZvcmUgdGhlIGZvY3VzKCkgY2FsbC4gV2hlbiBmb2N1cyBpcyByZW1vdmVkIGZyb20gdGhlIHBhbmVsLCBpdCBzaG91bGQgYmVjb21lIG5vbi1mb2N1c2FibGVcbiAgICogYWdhaW4uIFRoYXQgaXMgaGFuZGxlZCBpbiBQcmVmZXJlbmNlc1BhbmVsQ29udGFpbmVyIGNsYXNzLlxuICAgKi9cbiAgcHVibGljIGZvY3VzU2VsZWN0ZWRQYW5lbCgpOiB2b2lkIHtcbiAgICBjb25zdCBzZWxlY3RlZENvbnRlbnQgPSB0aGlzLmdldFNlbGVjdGVkQ29udGVudCgpO1xuICAgIHNlbGVjdGVkQ29udGVudCEucGFuZWxDb250ZW50LmZvY3VzYWJsZSA9IHRydWU7XG4gICAgc2VsZWN0ZWRDb250ZW50IS5wYW5lbENvbnRlbnQuZm9jdXMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gbm9kZSAtIHRoZSBwb3RlbnRpYWwgY29udGVudCBmb3IgdGhlIHNlbGVjdGVkIHBhbmVsIHRoYXQgaXMgZm9jdXNhYmxlXG4gICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHByb3ZpZGVkIG5vZGUgaXMgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBwYW5lbFxuICAgKi9cbiAgcHVibGljIGlzRm9jdXNhYmxlU2VsZWN0ZWRDb250ZW50KCBub2RlOiBOb2RlICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHNlbGVjdGVkQ29udGVudCA9IHRoaXMuZ2V0U2VsZWN0ZWRDb250ZW50KCk7XG4gICAgcmV0dXJuIG5vZGUgPT09IHNlbGVjdGVkQ29udGVudCEucGFuZWxDb250ZW50OyAvLyB0aGUgcGFuZWxDb250ZW50IGlzIHdoYXQgaXMgZm9jdXNlZCBpbiBmb2N1c1NlbGVjdGVkUGFuZWwoKVxuICB9XG59XG5cbi8qKlxuICogQW4gaW5uZXIgY2xhc3MgdGhhdCBtYW5hZ2VzIHRoZSBwYW5lbENvbnRlbnQgYW5kIGl0cyB2YWx1ZS4gQSBsaXN0ZW5lciBhcyBhZGRlZCB0byB0aGUgcGFuZWwgc28gdGhhdFxuICogd2hlbmV2ZXIgZm9jdXMgaXMgbG9zdCBmcm9tIHRoZSBwYW5lbCwgaXQgaXMgcmVtb3ZlZCBmcm9tIHRoZSB0cmF2ZXJzYWwgb3JkZXIuXG4gKi9cbmNsYXNzIFByZWZlcmVuY2VzUGFuZWxDb250YWluZXIgZXh0ZW5kcyBOb2RlIHtcbiAgcHVibGljIHJlYWRvbmx5IHBhbmVsQ29udGVudDogTm9kZTtcbiAgcHVibGljIHJlYWRvbmx5IHNlbGVjdGVkVGFiVmFsdWU6IFByZWZlcmVuY2VzVHlwZTtcblxuICBwdWJsaWMgY29uc3RydWN0b3IoIHBhbmVsQ29udGVudDogTm9kZSwgc2VsZWN0ZWRUYWJWYWx1ZTogUHJlZmVyZW5jZXNUeXBlICkge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLnBhbmVsQ29udGVudCA9IHBhbmVsQ29udGVudDtcbiAgICB0aGlzLnNlbGVjdGVkVGFiVmFsdWUgPSBzZWxlY3RlZFRhYlZhbHVlO1xuXG4gICAgcGFuZWxDb250ZW50LmFkZElucHV0TGlzdGVuZXIoIHtcbiAgICAgIGZvY3Vzb3V0OiBldmVudCA9PiB7XG4gICAgICAgIHBhbmVsQ29udGVudC5mb2N1c2FibGUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9ICk7XG4gIH1cbn1cblxuam9pc3QucmVnaXN0ZXIoICdQcmVmZXJlbmNlc1BhbmVscycsIFByZWZlcmVuY2VzUGFuZWxzICk7XG5leHBvcnQgZGVmYXVsdCBQcmVmZXJlbmNlc1BhbmVsczsiXSwibmFtZXMiOlsib3B0aW9uaXplIiwiQWxpZ25Hcm91cCIsIk5vZGUiLCJUYW5kZW0iLCJqb2lzdCIsIkF1ZGlvUHJlZmVyZW5jZXNQYW5lbCIsIklucHV0UHJlZmVyZW5jZXNQYW5lbCIsIkxvY2FsaXphdGlvblByZWZlcmVuY2VzUGFuZWwiLCJPdmVydmlld1ByZWZlcmVuY2VzUGFuZWwiLCJQcmVmZXJlbmNlc1R5cGUiLCJTaW11bGF0aW9uUHJlZmVyZW5jZXNQYW5lbCIsIlZpc3VhbFByZWZlcmVuY2VzUGFuZWwiLCJQcmVmZXJlbmNlc1BhbmVscyIsImdldFNlbGVjdGVkQ29udGVudCIsImkiLCJjb250ZW50IiwibGVuZ3RoIiwiY3VycmVudENvbnRlbnQiLCJzZWxlY3RlZFRhYlZhbHVlIiwic2VsZWN0ZWRUYWJQcm9wZXJ0eSIsInZhbHVlIiwiYXNzZXJ0IiwiZm9jdXNTZWxlY3RlZFBhbmVsIiwic2VsZWN0ZWRDb250ZW50IiwicGFuZWxDb250ZW50IiwiZm9jdXNhYmxlIiwiZm9jdXMiLCJpc0ZvY3VzYWJsZVNlbGVjdGVkQ29udGVudCIsIm5vZGUiLCJwcmVmZXJlbmNlc01vZGVsIiwic3VwcG9ydGVkVGFicyIsInByZWZlcmVuY2VzVGFicyIsInByb3ZpZGVkT3B0aW9ucyIsIm9wdGlvbnMiLCJwaGV0aW9WaXNpYmxlUHJvcGVydHlJbnN0cnVtZW50ZWQiLCJpc0Rpc3Bvc2FibGUiLCJ0YW5kZW0iLCJPUFRfT1VUIiwicGFuZWxBbGlnbkdyb3VwIiwibWF0Y2hWZXJ0aWNhbCIsIm92ZXJ2aWV3UHJlZmVyZW5jZXNQYW5lbCIsImluY2x1ZGVzIiwiT1ZFUlZJRVciLCJnZXRUYWJWaXNpYmxlUHJvcGVydHkiLCJvdmVydmlld0JveCIsImNyZWF0ZUJveCIsImFkZENoaWxkIiwicHVzaCIsIlByZWZlcmVuY2VzUGFuZWxDb250YWluZXIiLCJzaW11bGF0aW9uUHJlZmVyZW5jZXNQYW5lbCIsIlNJTVVMQVRJT04iLCJzaW11bGF0aW9uTW9kZWwiLCJjcmVhdGVUYW5kZW0iLCJzaW11bGF0aW9uQm94IiwidmlzdWFsUHJlZmVyZW5jZXNQYW5lbCIsIlZJU1VBTCIsInZpc3VhbE1vZGVsIiwidmlzdWFsQm94IiwiYXVkaW9QcmVmZXJlbmNlc1BhbmVsIiwiQVVESU8iLCJhdWRpb01vZGVsIiwiYXVkaW9Cb3giLCJpbnB1dFByZWZlcmVuY2VzUGFuZWwiLCJJTlBVVCIsImlucHV0TW9kZWwiLCJpbnB1dEJveCIsImxvY2FsaXphdGlvblByZWZlcmVuY2VzUGFuZWwiLCJMT0NBTElaQVRJT04iLCJsb2NhbGl6YXRpb25Nb2RlbCIsImxvY2FsaXphdGlvbkJveCIsImFkZElucHV0TGlzdGVuZXIiLCJmb2N1c291dCIsImV2ZW50IiwicmVnaXN0ZXIiXSwibWFwcGluZ3MiOiJBQUFBLHNEQUFzRDtBQUV0RDs7Ozs7OztDQU9DLEdBR0QsT0FBT0EsZUFBcUMscUNBQXFDO0FBRWpGLFNBQVNDLFVBQVUsRUFBRUMsSUFBSSxRQUFxQixpQ0FBaUM7QUFDL0UsT0FBT0MsWUFBWSwrQkFBK0I7QUFDbEQsT0FBT0MsV0FBVyxjQUFjO0FBQ2hDLE9BQU9DLDJCQUEyQiw2QkFBNkI7QUFDL0QsT0FBT0MsMkJBQTJCLDZCQUE2QjtBQUMvRCxPQUFPQyxrQ0FBa0Msb0NBQW9DO0FBQzdFLE9BQU9DLDhCQUE4QixnQ0FBZ0M7QUFHckUsT0FBT0MscUJBQXFCLHVCQUF1QjtBQUNuRCxPQUFPQyxnQ0FBZ0Msa0NBQWtDO0FBQ3pFLE9BQU9DLDRCQUE0Qiw4QkFBOEI7QUFLakUsSUFBQSxBQUFNQyxvQkFBTixNQUFNQSwwQkFBMEJWO0lBOEc5Qjs7O0dBR0MsR0FDRCxBQUFRVyxxQkFBdUQ7UUFDN0QsSUFBTSxJQUFJQyxJQUFJLEdBQUdBLElBQUksSUFBSSxDQUFDQyxPQUFPLENBQUNDLE1BQU0sRUFBRUYsSUFBTTtZQUM5QyxNQUFNRyxpQkFBaUIsSUFBSSxDQUFDRixPQUFPLENBQUVE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