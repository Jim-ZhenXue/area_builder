// Copyright 2021-2024, University of Colorado Boulder
/**
 * Section of the "Audio" panel of the PreferencesDialog related to sound.
 *
 * @author Jesse Greenberg (PhET Interactive Simulations)
 */ import PatternStringProperty from '../../../axon/js/PatternStringProperty.js';
import merge from '../../../phet-core/js/merge.js';
import optionize, { combineOptions } from '../../../phet-core/js/optionize.js';
import { SceneryConstants, Text, VBox, VoicingRichText, VoicingText } from '../../../scenery/js/imports.js';
import Checkbox from '../../../sun/js/Checkbox.js';
import ToggleSwitch from '../../../sun/js/ToggleSwitch.js';
import Tandem from '../../../tandem/js/Tandem.js';
import joist from '../joist.js';
import JoistStrings from '../JoistStrings.js';
import PreferencesControl from './PreferencesControl.js';
import PreferencesDialog from './PreferencesDialog.js';
import PreferencesDialogConstants from './PreferencesDialogConstants.js';
import PreferencesPanelSection from './PreferencesPanelSection.js';
// constants
const soundsLabelStringProperty = JoistStrings.preferences.tabs.audio.sounds.titleStringProperty;
const extraSoundsLabelStringProperty = JoistStrings.preferences.tabs.audio.sounds.extraSounds.titleStringProperty;
const soundDescriptionStringProperty = JoistStrings.preferences.tabs.audio.sounds.descriptionStringProperty;
const extraSoundsDescriptionStringProperty = JoistStrings.preferences.tabs.audio.sounds.extraSounds.descriptionStringProperty;
const soundsOnStringProperty = JoistStrings.a11y.preferences.tabs.audio.sounds.soundsOnStringProperty;
const soundsOffStringProperty = JoistStrings.a11y.preferences.tabs.audio.sounds.soundsOffStringProperty;
const extraSoundsOnStringProperty = JoistStrings.a11y.preferences.tabs.audio.sounds.extraSounds.extraSoundsOnStringProperty;
const extraSoundsOffStringProperty = JoistStrings.a11y.preferences.tabs.audio.sounds.extraSounds.extraSoundsOffStringProperty;
const labelledDescriptionPatternStringProperty = JoistStrings.a11y.preferences.tabs.labelledDescriptionPatternStringProperty;
let SoundPanelSection = class SoundPanelSection extends PreferencesPanelSection {
    /**
   * @param audioModel - configuration for audio preferences, see PreferencesModel
   * @param [providedOptions]
   */ constructor(audioModel, providedOptions){
        const options = optionize()({
            includeTitleToggleSwitch: true
        }, providedOptions);
        const soundLabel = new Text(soundsLabelStringProperty, PreferencesDialog.PANEL_SECTION_LABEL_OPTIONS);
        const soundEnabledStringProperty = new PatternStringProperty(labelledDescriptionPatternStringProperty, {
            label: soundsLabelStringProperty,
            description: soundDescriptionStringProperty
        }, {
            tandem: Tandem.OPT_OUT
        });
        const soundEnabledVoicingText = new VoicingText(soundDescriptionStringProperty, merge({}, PreferencesDialog.PANEL_SECTION_CONTENT_OPTIONS, {
            readingBlockNameResponse: soundEnabledStringProperty
        }));
        const soundEnabledSwitch = new ToggleSwitch(audioModel.soundEnabledProperty, false, true, combineOptions({
            visible: options.includeTitleToggleSwitch,
            accessibleName: soundsLabelStringProperty,
            leftValueContextResponse: soundsOffStringProperty,
            rightValueContextResponse: soundsOnStringProperty
        }, PreferencesDialogConstants.TOGGLE_SWITCH_OPTIONS));
        const soundEnabledControl = new PreferencesControl({
            labelNode: soundLabel,
            descriptionNode: soundEnabledVoicingText,
            allowDescriptionStretch: false,
            controlNode: soundEnabledSwitch
        });
        let extraSoundContent = null;
        if (audioModel.supportsExtraSound) {
            const enhancedSoundLabel = new Text(extraSoundsLabelStringProperty, PreferencesDialog.PANEL_SECTION_CONTENT_OPTIONS);
            const extraSoundCheckbox = new Checkbox(audioModel.extraSoundEnabledProperty, enhancedSoundLabel, {
                // pdom
                labelTagName: 'label',
                labelContent: extraSoundsLabelStringProperty,
                // voicing
                voicingNameResponse: extraSoundsLabelStringProperty,
                voicingIgnoreVoicingManagerProperties: true,
                voiceNameResponseOnSelection: false,
                // both voicing and pdom
                checkedContextResponse: extraSoundsOnStringProperty,
                uncheckedContextResponse: extraSoundsOffStringProperty,
                // phet-io
                tandem: Tandem.OPT_OUT // We don't want to instrument components for preferences, https://github.com/phetsims/joist/issues/744#issuecomment-1196028362
            });
            const extraSoundReadingBlockNameResponsePatternStringProperty = new PatternStringProperty(labelledDescriptionPatternStringProperty, {
                label: extraSoundsLabelStringProperty,
                description: extraSoundsDescriptionStringProperty
            }, {
                tandem: Tandem.OPT_OUT
            });
            const extraSoundDescription = new VoicingRichText(extraSoundsDescriptionStringProperty, merge({}, PreferencesDialog.PANEL_SECTION_CONTENT_OPTIONS, {
                lineWrap: 300,
                maxHeight: 100,
                readingBlockNameResponse: extraSoundReadingBlockNameResponsePatternStringProperty,
                disabledOpacity: SceneryConstants.DISABLED_OPACITY // TODO: Workaround for setting enabled on this RichText instead of to the parent VBox, https://github.com/phetsims/scenery/issues/1514
            }));
            extraSoundContent = new VBox({
                children: [
                    extraSoundCheckbox,
                    extraSoundDescription
                ],
                align: 'left',
                spacing: 5,
                tagName: 'div' // Must have PDOM content to support toggling enabled in the PDOM. Could be removed after https://github.com/phetsims/scenery/issues/1514
            });
            const extraSoundEnabledListener = (enabled)=>{
                // TODO: Workaround for now, see https://github.com/phetsims/scenery/issues/1514. PDOM does not
                //       correctly propagate enabled state to descendants when ancestor (extraSoundContent) becomes disabled.
                extraSoundContent.children.forEach((child)=>child.setEnabled(enabled));
            };
            audioModel.soundEnabledProperty.link(extraSoundEnabledListener);
        }
        super({
            titleNode: soundEnabledControl,
            contentNode: extraSoundContent
        });
    }
};
joist.register('SoundPanelSection', SoundPanelSection);
export default SoundPanelSection;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2pvaXN0L2pzL3ByZWZlcmVuY2VzL1NvdW5kUGFuZWxTZWN0aW9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxuXG4vKipcbiAqIFNlY3Rpb24gb2YgdGhlIFwiQXVkaW9cIiBwYW5lbCBvZiB0aGUgUHJlZmVyZW5jZXNEaWFsb2cgcmVsYXRlZCB0byBzb3VuZC5cbiAqXG4gKiBAYXV0aG9yIEplc3NlIEdyZWVuYmVyZyAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcbiAqL1xuXG5pbXBvcnQgUGF0dGVyblN0cmluZ1Byb3BlcnR5IGZyb20gJy4uLy4uLy4uL2F4b24vanMvUGF0dGVyblN0cmluZ1Byb3BlcnR5LmpzJztcbmltcG9ydCBtZXJnZSBmcm9tICcuLi8uLi8uLi9waGV0LWNvcmUvanMvbWVyZ2UuanMnO1xuaW1wb3J0IG9wdGlvbml6ZSwgeyBjb21iaW5lT3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xuaW1wb3J0IHsgTm9kZSwgU2NlbmVyeUNvbnN0YW50cywgVGV4dCwgVkJveCwgVm9pY2luZ1JpY2hUZXh0LCBWb2ljaW5nVGV4dCB9IGZyb20gJy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XG5pbXBvcnQgQ2hlY2tib3ggZnJvbSAnLi4vLi4vLi4vc3VuL2pzL0NoZWNrYm94LmpzJztcbmltcG9ydCBUb2dnbGVTd2l0Y2gsIHsgVG9nZ2xlU3dpdGNoT3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uL3N1bi9qcy9Ub2dnbGVTd2l0Y2guanMnO1xuaW1wb3J0IFRhbmRlbSBmcm9tICcuLi8uLi8uLi90YW5kZW0vanMvVGFuZGVtLmpzJztcbmltcG9ydCBqb2lzdCBmcm9tICcuLi9qb2lzdC5qcyc7XG5pbXBvcnQgSm9pc3RTdHJpbmdzIGZyb20gJy4uL0pvaXN0U3RyaW5ncy5qcyc7XG5pbXBvcnQgUHJlZmVyZW5jZXNDb250cm9sIGZyb20gJy4vUHJlZmVyZW5jZXNDb250cm9sLmpzJztcbmltcG9ydCBQcmVmZXJlbmNlc0RpYWxvZyBmcm9tICcuL1ByZWZlcmVuY2VzRGlhbG9nLmpzJztcbmltcG9ydCBQcmVmZXJlbmNlc0RpYWxvZ0NvbnN0YW50cyBmcm9tICcuL1ByZWZlcmVuY2VzRGlhbG9nQ29uc3RhbnRzLmpzJztcbmltcG9ydCB7IEF1ZGlvTW9kZWwgfSBmcm9tICcuL1ByZWZlcmVuY2VzTW9kZWwuanMnO1xuaW1wb3J0IFByZWZlcmVuY2VzUGFuZWxTZWN0aW9uLCB7IFByZWZlcmVuY2VzUGFuZWxTZWN0aW9uT3B0aW9ucyB9IGZyb20gJy4vUHJlZmVyZW5jZXNQYW5lbFNlY3Rpb24uanMnO1xuXG4vLyBjb25zdGFudHNcbmNvbnN0IHNvdW5kc0xhYmVsU3RyaW5nUHJvcGVydHkgPSBKb2lzdFN0cmluZ3MucHJlZmVyZW5jZXMudGFicy5hdWRpby5zb3VuZHMudGl0bGVTdHJpbmdQcm9wZXJ0eTtcbmNvbnN0IGV4dHJhU291bmRzTGFiZWxTdHJpbmdQcm9wZXJ0eSA9IEpvaXN0U3RyaW5ncy5wcmVmZXJlbmNlcy50YWJzLmF1ZGlvLnNvdW5kcy5leHRyYVNvdW5kcy50aXRsZVN0cmluZ1Byb3BlcnR5O1xuY29uc3Qgc291bmREZXNjcmlwdGlvblN0cmluZ1Byb3BlcnR5ID0gSm9pc3RTdHJpbmdzLnByZWZlcmVuY2VzLnRhYnMuYXVkaW8uc291bmRzLmRlc2NyaXB0aW9uU3RyaW5nUHJvcGVydHk7XG5jb25zdCBleHRyYVNvdW5kc0Rlc2NyaXB0aW9uU3RyaW5nUHJvcGVydHkgPSBKb2lzdFN0cmluZ3MucHJlZmVyZW5jZXMudGFicy5hdWRpby5zb3VuZHMuZXh0cmFTb3VuZHMuZGVzY3JpcHRpb25TdHJpbmdQcm9wZXJ0eTtcbmNvbnN0IHNvdW5kc09uU3RyaW5nUHJvcGVydHkgPSBKb2lzdFN0cmluZ3MuYTExeS5wcmVmZXJlbmNlcy50YWJzLmF1ZGlvLnNvdW5kcy5zb3VuZHNPblN0cmluZ1Byb3BlcnR5O1xuY29uc3Qgc291bmRzT2ZmU3RyaW5nUHJvcGVydHkgPSBKb2lzdFN0cmluZ3MuYTExeS5wcmVmZXJlbmNlcy50YWJzLmF1ZGlvLnNvdW5kcy5zb3VuZHNPZmZTdHJpbmdQcm9wZXJ0eTtcbmNvbnN0IGV4dHJhU291bmRzT25TdHJpbmdQcm9wZXJ0eSA9IEpvaXN0U3RyaW5ncy5hMTF5LnByZWZlcmVuY2VzLnRhYnMuYXVkaW8uc291bmRzLmV4dHJhU291bmRzLmV4dHJhU291bmRzT25TdHJpbmdQcm9wZXJ0eTtcbmNvbnN0IGV4dHJhU291bmRzT2ZmU3RyaW5nUHJvcGVydHkgPSBKb2lzdFN0cmluZ3MuYTExeS5wcmVmZXJlbmNlcy50YWJzLmF1ZGlvLnNvdW5kcy5leHRyYVNvdW5kcy5leHRyYVNvdW5kc09mZlN0cmluZ1Byb3BlcnR5O1xuY29uc3QgbGFiZWxsZWREZXNjcmlwdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eSA9IEpvaXN0U3RyaW5ncy5hMTF5LnByZWZlcmVuY2VzLnRhYnMubGFiZWxsZWREZXNjcmlwdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eTtcblxudHlwZSBTZWxmT3B0aW9ucyA9IHtcblxuICAvLyBXaGV0aGVyIHRvIGluY2x1ZGUgdGhlIHRvZ2dsZSBzd2l0Y2ggaW4gdGhlIHRpdGxlIGNvbnRlbnQgZm9yIHRoaXMgUHJlZmVyZW5jZXNQYW5lbFNlY3Rpb24uIEl0IGlzIHBvc3NpYmxlIHRoYXRcbiAgLy8gdGhlIHRvZ2dsZSBmb3IgU291bmQgY2FuIGJlIHJlZHVuZGFudCB3aGVuIFNvdW5kIGlzIHRoZSBvbmx5IEF1ZGlvIGZlYXR1cmUgc3VwcG9ydGVkLiBJbiB0aGF0IGNhc2UsIGNvbnRyb2wgb2ZcbiAgLy8gU291bmQgc2hvdWxkIGdvIHRocm91Z2ggdGhlIFwiQWxsIEF1ZGlvXCIgdG9nZ2xlLlxuICBpbmNsdWRlVGl0bGVUb2dnbGVTd2l0Y2g/OiBib29sZWFuO1xufTtcblxudHlwZSBTb3VuZFBhbmVsU2VjdGlvbk9wdGlvbnMgPSBTZWxmT3B0aW9ucyAmIFByZWZlcmVuY2VzUGFuZWxTZWN0aW9uT3B0aW9ucztcblxuY2xhc3MgU291bmRQYW5lbFNlY3Rpb24gZXh0ZW5kcyBQcmVmZXJlbmNlc1BhbmVsU2VjdGlvbiB7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBhdWRpb01vZGVsIC0gY29uZmlndXJhdGlvbiBmb3IgYXVkaW8gcHJlZmVyZW5jZXMsIHNlZSBQcmVmZXJlbmNlc01vZGVsXG4gICAqIEBwYXJhbSBbcHJvdmlkZWRPcHRpb25zXVxuICAgKi9cbiAgcHVibGljIGNvbnN0cnVjdG9yKCBhdWRpb01vZGVsOiBBdWRpb01vZGVsLCBwcm92aWRlZE9wdGlvbnM/OiBTb3VuZFBhbmVsU2VjdGlvbk9wdGlvbnMgKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbml6ZTxTb3VuZFBhbmVsU2VjdGlvbk9wdGlvbnMsIFNlbGZPcHRpb25zLCBQcmVmZXJlbmNlc1BhbmVsU2VjdGlvbk9wdGlvbnM+KCkoIHtcbiAgICAgIGluY2x1ZGVUaXRsZVRvZ2dsZVN3aXRjaDogdHJ1ZVxuICAgIH0sIHByb3ZpZGVkT3B0aW9ucyApO1xuXG4gICAgY29uc3Qgc291bmRMYWJlbCA9IG5ldyBUZXh0KCBzb3VuZHNMYWJlbFN0cmluZ1Byb3BlcnR5LCBQcmVmZXJlbmNlc0RpYWxvZy5QQU5FTF9TRUNUSU9OX0xBQkVMX09QVElPTlMgKTtcblxuICAgIGNvbnN0IHNvdW5kRW5hYmxlZFN0cmluZ1Byb3BlcnR5ID0gbmV3IFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSggbGFiZWxsZWREZXNjcmlwdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eSwge1xuICAgICAgbGFiZWw6IHNvdW5kc0xhYmVsU3RyaW5nUHJvcGVydHksXG4gICAgICBkZXNjcmlwdGlvbjogc291bmREZXNjcmlwdGlvblN0cmluZ1Byb3BlcnR5XG4gICAgfSwgeyB0YW5kZW06IFRhbmRlbS5PUFRfT1VUIH0gKTtcbiAgICBjb25zdCBzb3VuZEVuYWJsZWRWb2ljaW5nVGV4dCA9IG5ldyBWb2ljaW5nVGV4dCggc291bmREZXNjcmlwdGlvblN0cmluZ1Byb3BlcnR5LCBtZXJnZSgge30sIFByZWZlcmVuY2VzRGlhbG9nLlBBTkVMX1NFQ1RJT05fQ09OVEVOVF9PUFRJT05TLCB7XG4gICAgICByZWFkaW5nQmxvY2tOYW1lUmVzcG9uc2U6IHNvdW5kRW5hYmxlZFN0cmluZ1Byb3BlcnR5XG4gICAgfSApICk7XG4gICAgY29uc3Qgc291bmRFbmFibGVkU3dpdGNoID0gbmV3IFRvZ2dsZVN3aXRjaCggYXVkaW9Nb2RlbC5zb3VuZEVuYWJsZWRQcm9wZXJ0eSwgZmFsc2UsIHRydWUsIGNvbWJpbmVPcHRpb25zPFRvZ2dsZVN3aXRjaE9wdGlvbnM+KCB7XG4gICAgICB2aXNpYmxlOiBvcHRpb25zLmluY2x1ZGVUaXRsZVRvZ2dsZVN3aXRjaCxcbiAgICAgIGFjY2Vzc2libGVOYW1lOiBzb3VuZHNMYWJlbFN0cmluZ1Byb3BlcnR5LFxuICAgICAgbGVmdFZhbHVlQ29udGV4dFJlc3BvbnNlOiBzb3VuZHNPZmZTdHJpbmdQcm9wZXJ0eSxcbiAgICAgIHJpZ2h0VmFsdWVDb250ZXh0UmVzcG9uc2U6IHNvdW5kc09uU3RyaW5nUHJvcGVydHlcbiAgICB9LCBQcmVmZXJlbmNlc0RpYWxvZ0NvbnN0YW50cy5UT0dHTEVfU1dJVENIX09QVElPTlMgKSApO1xuICAgIGNvbnN0IHNvdW5kRW5hYmxlZENvbnRyb2wgPSBuZXcgUHJlZmVyZW5jZXNDb250cm9sKCB7XG4gICAgICBsYWJlbE5vZGU6IHNvdW5kTGFiZWwsXG4gICAgICBkZXNjcmlwdGlvbk5vZGU6IHNvdW5kRW5hYmxlZFZvaWNpbmdUZXh0LFxuICAgICAgYWxsb3dEZXNjcmlwdGlvblN0cmV0Y2g6IGZhbHNlLFxuICAgICAgY29udHJvbE5vZGU6IHNvdW5kRW5hYmxlZFN3aXRjaFxuICAgIH0gKTtcblxuICAgIGxldCBleHRyYVNvdW5kQ29udGVudDogTm9kZSB8IG51bGwgPSBudWxsO1xuICAgIGlmICggYXVkaW9Nb2RlbC5zdXBwb3J0c0V4dHJhU291bmQgKSB7XG4gICAgICBjb25zdCBlbmhhbmNlZFNvdW5kTGFiZWwgPSBuZXcgVGV4dCggZXh0cmFTb3VuZHNMYWJlbFN0cmluZ1Byb3BlcnR5LCBQcmVmZXJlbmNlc0RpYWxvZy5QQU5FTF9TRUNUSU9OX0NPTlRFTlRfT1BUSU9OUyApO1xuICAgICAgY29uc3QgZXh0cmFTb3VuZENoZWNrYm94ID0gbmV3IENoZWNrYm94KCBhdWRpb01vZGVsLmV4dHJhU291bmRFbmFibGVkUHJvcGVydHksIGVuaGFuY2VkU291bmRMYWJlbCwge1xuXG4gICAgICAgIC8vIHBkb21cbiAgICAgICAgbGFiZWxUYWdOYW1lOiAnbGFiZWwnLFxuICAgICAgICBsYWJlbENvbnRlbnQ6IGV4dHJhU291bmRzTGFiZWxTdHJpbmdQcm9wZXJ0eSxcblxuICAgICAgICAvLyB2b2ljaW5nXG4gICAgICAgIHZvaWNpbmdOYW1lUmVzcG9uc2U6IGV4dHJhU291bmRzTGFiZWxTdHJpbmdQcm9wZXJ0eSxcbiAgICAgICAgdm9pY2luZ0lnbm9yZVZvaWNpbmdNYW5hZ2VyUHJvcGVydGllczogdHJ1ZSwgLy8gQWx3YXlzIHNwZWFrIFByZWZlcmVuY2VzIHJlc3BvbnNlcyBzbyBjb250cm9sIGZ1bmN0aW9uIGlzIGNsZWFyXG4gICAgICAgIHZvaWNlTmFtZVJlc3BvbnNlT25TZWxlY3Rpb246IGZhbHNlLFxuXG4gICAgICAgIC8vIGJvdGggdm9pY2luZyBhbmQgcGRvbVxuICAgICAgICBjaGVja2VkQ29udGV4dFJlc3BvbnNlOiBleHRyYVNvdW5kc09uU3RyaW5nUHJvcGVydHksXG4gICAgICAgIHVuY2hlY2tlZENvbnRleHRSZXNwb25zZTogZXh0cmFTb3VuZHNPZmZTdHJpbmdQcm9wZXJ0eSxcblxuICAgICAgICAvLyBwaGV0LWlvXG4gICAgICAgIHRhbmRlbTogVGFuZGVtLk9QVF9PVVQgLy8gV2UgZG9uJ3Qgd2FudCB0byBpbnN0cnVtZW50IGNvbXBvbmVudHMgZm9yIHByZWZlcmVuY2VzLCBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvam9pc3QvaXNzdWVzLzc0NCNpc3N1ZWNvbW1lbnQtMTE5NjAyODM2MlxuICAgICAgfSApO1xuXG4gICAgICBjb25zdCBleHRyYVNvdW5kUmVhZGluZ0Jsb2NrTmFtZVJlc3BvbnNlUGF0dGVyblN0cmluZ1Byb3BlcnR5ID0gbmV3IFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSggbGFiZWxsZWREZXNjcmlwdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eSwge1xuICAgICAgICBsYWJlbDogZXh0cmFTb3VuZHNMYWJlbFN0cmluZ1Byb3BlcnR5LFxuICAgICAgICBkZXNjcmlwdGlvbjogZXh0cmFTb3VuZHNEZXNjcmlwdGlvblN0cmluZ1Byb3BlcnR5XG4gICAgICB9LCB7IHRhbmRlbTogVGFuZGVtLk9QVF9PVVQgfSApO1xuICAgICAgY29uc3QgZXh0cmFTb3VuZERlc2NyaXB0aW9uID0gbmV3IFZvaWNpbmdSaWNoVGV4dCggZXh0cmFTb3VuZHNEZXNjcmlwdGlvblN0cmluZ1Byb3BlcnR5LCBtZXJnZSgge30sIFByZWZlcmVuY2VzRGlhbG9nLlBBTkVMX1NFQ1RJT05fQ09OVEVOVF9PUFRJT05TLCB7XG4gICAgICAgIGxpbmVXcmFwOiAzMDAsXG4gICAgICAgIG1heEhlaWdodDogMTAwLFxuICAgICAgICByZWFkaW5nQmxvY2tOYW1lUmVzcG9uc2U6IGV4dHJhU291bmRSZWFkaW5nQmxvY2tOYW1lUmVzcG9uc2VQYXR0ZXJuU3RyaW5nUHJvcGVydHksXG4gICAgICAgIGRpc2FibGVkT3BhY2l0eTogU2NlbmVyeUNvbnN0YW50cy5ESVNBQkxFRF9PUEFDSVRZIC8vIFRPRE86IFdvcmthcm91bmQgZm9yIHNldHRpbmcgZW5hYmxlZCBvbiB0aGlzIFJpY2hUZXh0IGluc3RlYWQgb2YgdG8gdGhlIHBhcmVudCBWQm94LCBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvc2NlbmVyeS9pc3N1ZXMvMTUxNFxuICAgICAgfSApICk7XG5cbiAgICAgIGV4dHJhU291bmRDb250ZW50ID0gbmV3IFZCb3goIHtcbiAgICAgICAgY2hpbGRyZW46IFsgZXh0cmFTb3VuZENoZWNrYm94LCBleHRyYVNvdW5kRGVzY3JpcHRpb24gXSxcbiAgICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgICAgc3BhY2luZzogNSxcbiAgICAgICAgdGFnTmFtZTogJ2RpdicgLy8gTXVzdCBoYXZlIFBET00gY29udGVudCB0byBzdXBwb3J0IHRvZ2dsaW5nIGVuYWJsZWQgaW4gdGhlIFBET00uIENvdWxkIGJlIHJlbW92ZWQgYWZ0ZXIgaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL3NjZW5lcnkvaXNzdWVzLzE1MTRcbiAgICAgIH0gKTtcblxuICAgICAgY29uc3QgZXh0cmFTb3VuZEVuYWJsZWRMaXN0ZW5lciA9ICggZW5hYmxlZDogYm9vbGVhbiApID0+IHtcblxuICAgICAgICAvLyBUT0RPOiBXb3JrYXJvdW5kIGZvciBub3csIHNlZSBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvc2NlbmVyeS9pc3N1ZXMvMTUxNC4gUERPTSBkb2VzIG5vdFxuICAgICAgICAvLyAgICAgICBjb3JyZWN0bHkgcHJvcGFnYXRlIGVuYWJsZWQgc3RhdGUgdG8gZGVzY2VuZGFudHMgd2hlbiBhbmNlc3RvciAoZXh0cmFTb3VuZENvbnRlbnQpIGJlY29tZXMgZGlzYWJsZWQuXG4gICAgICAgIGV4dHJhU291bmRDb250ZW50IS5jaGlsZHJlbi5mb3JFYWNoKCBjaGlsZCA9PiBjaGlsZC5zZXRFbmFibGVkKCBlbmFibGVkICkgKTtcbiAgICAgIH07XG4gICAgICBhdWRpb01vZGVsLnNvdW5kRW5hYmxlZFByb3BlcnR5LmxpbmsoIGV4dHJhU291bmRFbmFibGVkTGlzdGVuZXIgKTtcbiAgICB9XG5cbiAgICBzdXBlcigge1xuICAgICAgdGl0bGVOb2RlOiBzb3VuZEVuYWJsZWRDb250cm9sLFxuICAgICAgY29udGVudE5vZGU6IGV4dHJhU291bmRDb250ZW50XG4gICAgfSApO1xuICB9XG59XG5cbmpvaXN0LnJlZ2lzdGVyKCAnU291bmRQYW5lbFNlY3Rpb24nLCBTb3VuZFBhbmVsU2VjdGlvbiApO1xuZXhwb3J0IGRlZmF1bHQgU291bmRQYW5lbFNlY3Rpb247Il0sIm5hbWVzIjpbIlBhdHRlcm5TdHJpbmdQcm9wZXJ0eSIsIm1lcmdlIiwib3B0aW9uaXplIiwiY29tYmluZU9wdGlvbnMiLCJTY2VuZXJ5Q29uc3RhbnRzIiwiVGV4dCIsIlZCb3giLCJWb2ljaW5nUmljaFRleHQiLCJWb2ljaW5nVGV4dCIsIkNoZWNrYm94IiwiVG9nZ2xlU3dpdGNoIiwiVGFuZGVtIiwiam9pc3QiLCJKb2lzdFN0cmluZ3MiLCJQcmVmZXJlbmNlc0NvbnRyb2wiLCJQcmVmZXJlbmNlc0RpYWxvZyIsIlByZWZlcmVuY2VzRGlhbG9nQ29uc3RhbnRzIiwiUHJlZmVyZW5jZXNQYW5lbFNlY3Rpb24iLCJzb3VuZHNMYWJlbFN0cmluZ1Byb3BlcnR5IiwicHJlZmVyZW5jZXMiLCJ0YWJzIiwiYXVkaW8iLCJzb3VuZHMiLCJ0aXRsZVN0cmluZ1Byb3BlcnR5IiwiZXh0cmFTb3VuZHNMYWJlbFN0cmluZ1Byb3BlcnR5IiwiZXh0cmFTb3VuZHMiLCJzb3VuZERlc2NyaXB0aW9uU3RyaW5nUHJvcGVydHkiLCJkZXNjcmlwdGlvblN0cmluZ1Byb3BlcnR5IiwiZXh0cmFTb3VuZHNEZXNjcmlwdGlvblN0cmluZ1Byb3BlcnR5Iiwic291bmRzT25TdHJpbmdQcm9wZXJ0eSIsImExMXkiLCJzb3VuZHNPZmZTdHJpbmdQcm9wZXJ0eSIsImV4dHJhU291bmRzT25TdHJpbmdQcm9wZXJ0eSIsImV4dHJhU291bmRzT2ZmU3RyaW5nUHJvcGVydHkiLCJsYWJlbGxlZERlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5IiwiU291bmRQYW5lbFNlY3Rpb24iLCJhdWRpb01vZGVsIiwicHJvdmlkZWRPcHRpb25zIiwib3B0aW9ucyIsImluY2x1ZGVUaXRsZVRvZ2dsZVN3aXRjaCIsInNvdW5kTGFiZWwiLCJQQU5FTF9TRUNUSU9OX0xBQkVMX09QVElPTlMiLCJzb3VuZEVuYWJsZWRTdHJpbmdQcm9wZXJ0eSIsImxhYmVsIiwiZGVzY3JpcHRpb24iLCJ0YW5kZW0iLCJPUFRfT1VUIiwic291bmRFbmFibGVkVm9pY2luZ1RleHQiLCJQQU5FTF9TRUNUSU9OX0NPTlRFTlRfT1BUSU9OUyIsInJlYWRpbmdCbG9ja05hbWVSZXNwb25zZSIsInNvdW5kRW5hYmxlZFN3aXRjaCIsInNvdW5kRW5hYmxlZFByb3BlcnR5IiwidmlzaWJsZSIsImFjY2Vzc2libGVOYW1lIiwibGVmdFZhbHVlQ29udGV4dFJlc3BvbnNlIiwicmlnaHRWYWx1ZUNvbnRleHRSZXNwb25zZSIsIlRPR0dMRV9TV0lUQ0hfT1BUSU9OUyIsInNvdW5kRW5hYmxlZENvbnRyb2wiLCJsYWJlbE5vZGUiLCJkZXNjcmlwdGlvbk5vZGUiLCJhbGxvd0Rlc2NyaXB0aW9uU3RyZXRjaCIsImNvbnRyb2xOb2RlIiwiZXh0cmFTb3VuZENvbnRlbnQiLCJzdXBwb3J0c0V4dHJhU291bmQiLCJlbmhhbmNlZFNvdW5kTGFiZWwiLCJleHRyYVNvdW5kQ2hlY2tib3giLCJleHRyYVNvdW5kRW5hYmxlZFByb3BlcnR5IiwibGFiZWxUYWdOYW1lIiwibGFiZWxDb250ZW50Iiwidm9pY2luZ05hbWVSZXNwb25zZSIsInZvaWNpbmdJZ25vcmVWb2ljaW5nTWFuYWdlclByb3BlcnRpZXMiLCJ2b2ljZU5hbWVSZXNwb25zZU9uU2VsZWN0aW9uIiwiY2hlY2tlZENvbnRleHRSZXNwb25zZSIsInVuY2hlY2tlZENvbnRleHRSZXNwb25zZSIsImV4dHJhU291bmRSZWFkaW5nQmxvY2tOYW1lUmVzcG9uc2VQYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJleHRyYVNvdW5kRGVzY3JpcHRpb24iLCJsaW5lV3JhcCIsIm1heEhlaWdodCIsImRpc2FibGVkT3BhY2l0eSIsIkRJU0FCTEVEX09QQUNJVFkiLCJjaGlsZHJlbiIsImFsaWduIiwic3BhY2luZyIsInRhZ05hbWUiLCJleHRyYVNvdW5kRW5hYmxlZExpc3RlbmVyIiwiZW5hYmxlZCIsImZvckVhY2giLCJjaGlsZCIsInNldEVuYWJsZWQiLCJsaW5rIiwidGl0bGVOb2RlIiwiY29udGVudE5vZGUiLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6IkFBQUEsc0RBQXNEO0FBRXREOzs7O0NBSUMsR0FFRCxPQUFPQSwyQkFBMkIsNENBQTRDO0FBQzlFLE9BQU9DLFdBQVcsaUNBQWlDO0FBQ25ELE9BQU9DLGFBQWFDLGNBQWMsUUFBUSxxQ0FBcUM7QUFDL0UsU0FBZUMsZ0JBQWdCLEVBQUVDLElBQUksRUFBRUMsSUFBSSxFQUFFQyxlQUFlLEVBQUVDLFdBQVcsUUFBUSxpQ0FBaUM7QUFDbEgsT0FBT0MsY0FBYyw4QkFBOEI7QUFDbkQsT0FBT0Msa0JBQTJDLGtDQUFrQztBQUNwRixPQUFPQyxZQUFZLCtCQUErQjtBQUNsRCxPQUFPQyxXQUFXLGNBQWM7QUFDaEMsT0FBT0Msa0JBQWtCLHFCQUFxQjtBQUM5QyxPQUFPQyx3QkFBd0IsMEJBQTBCO0FBQ3pELE9BQU9DLHVCQUF1Qix5QkFBeUI7QUFDdkQsT0FBT0MsZ0NBQWdDLGtDQUFrQztBQUV6RSxPQUFPQyw2QkFBaUUsK0JBQStCO0FBRXZHLFlBQVk7QUFDWixNQUFNQyw0QkFBNEJMLGFBQWFNLFdBQVcsQ0FBQ0MsSUFBSSxDQUFDQyxLQUFLLENBQUNDLE1BQU0sQ0FBQ0MsbUJBQW1CO0FBQ2hHLE1BQU1DLGlDQUFpQ1gsYUFBYU0sV0FBVyxDQUFDQyxJQUFJLENBQUNDLEtBQUssQ0FBQ0MsTUFBTSxDQUFDRyxXQUFXLENBQUNGLG1CQUFtQjtBQUNqSCxNQUFNRyxpQ0FBaUNiLGFBQWFNLFdBQVcsQ0FBQ0MsSUFBSSxDQUFDQyxLQUFLLENBQUNDLE1BQU0sQ0FBQ0sseUJBQXlCO0FBQzNHLE1BQU1DLHVDQUF1Q2YsYUFBYU0sV0FBVyxDQUFDQyxJQUFJLENBQUNDLEtBQUssQ0FBQ0MsTUFBTSxDQUFDRyxXQUFXLENBQUNFLHlCQUF5QjtBQUM3SCxNQUFNRSx5QkFBeUJoQixhQUFhaUIsSUFBSSxDQUFDWCxXQUFXLENBQUNDLElB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