// Copyright 2018-2023, University of Colorado Boulder
/**
 * NavigationBarAudioToggleButton is a button for controlling whether audio is enabled or disabled that is designed to
 * work on the PhET navigation bar. Audio includes all auditory features in the sim, so when this is button is toggled
 * "off", the sim should be totally silent.
 *
 * If you're wondering why this is drawn in code rather than using a Font Awesome node, please see
 * https://github.com/phetsims/tambo/issues/19.
 *
 * @author John Blanco
 * @author Chris Klusendorf
 */ import Vector2 from '../../dot/js/Vector2.js';
import { Shape } from '../../kite/js/imports.js';
import optionize from '../../phet-core/js/optionize.js';
import { Color, Node, Path, Rectangle, voicingManager } from '../../scenery/js/imports.js';
import ToggleNode from '../../sun/js/ToggleNode.js';
import ActivationUtterance from '../../utterance-queue/js/ActivationUtterance.js';
import audioManager from './audioManager.js';
import joist from './joist.js';
import JoistButton from './JoistButton.js';
import JoistStrings from './JoistStrings.js';
// constants for node background
const NODE_HEIGHT = 22.0;
const NODE_WIDTH = NODE_HEIGHT * 1.13;
// constants for drawing speaker
const SPEAKER_HEIGHT = NODE_HEIGHT * 0.77;
const SPEAKER_WIDTH = SPEAKER_HEIGHT * 0.58;
const SPEAKER_BACK_WIDTH = SPEAKER_WIDTH * 0.46;
const SPEAKER_BACK_HEIGHT = SPEAKER_HEIGHT * 0.35;
const SPEAKER_BACK_Y_SPACE = (SPEAKER_HEIGHT - SPEAKER_BACK_HEIGHT) / 2.0; // space between top of speaker back and top of cone
const CORNER_RADIUS = 1.0;
// constant for drawing sound off X
const X_WIDTH = SPEAKER_HEIGHT * 0.52;
// constants for drawing sound on curves
const MAX_CURVE_RADIUS = SPEAKER_HEIGHT * 0.63;
const RADIUS_STEPPER = SPEAKER_HEIGHT * 0.23;
const MED_CURVE_RADIUS = MAX_CURVE_RADIUS - RADIUS_STEPPER;
const MIN_CURVE_RADIUS = MED_CURVE_RADIUS - RADIUS_STEPPER;
const CURVE_ANGLE = Math.PI / 2.7;
const NEG_CURVE_ANGLE = CURVE_ANGLE * -1.0;
let NavigationBarAudioToggleButton = class NavigationBarAudioToggleButton extends JoistButton {
    constructor(soundEnabledProperty, backgroundColorProperty, providedOptions){
        const options = optionize()({
            // JoistButton options
            highlightExtensionWidth: 5 + 3.6,
            highlightExtensionHeight: 10,
            highlightCenterOffsetY: 0,
            // enabled:true by default, but disable if fuzzing when supporting voicing
            enabled: !(phet.chipper.isFuzzEnabled() && phet.chipper.queryParameters.supportsVoicing),
            visiblePropertyOptions: {
                phetioFeatured: true
            },
            phetioFeatured: true,
            // pdom
            innerContent: JoistStrings.a11y.soundToggle.labelStringProperty,
            // voicing
            voicingNameResponse: JoistStrings.a11y.soundToggle.labelStringProperty
        }, providedOptions);
        assert && assert(options.listener === undefined, 'NavigationBarAudioToggleButton sets listener');
        options.listener = ()=>soundEnabledProperty.set(!soundEnabledProperty.get());
        const soundOnNode = new Node();
        const soundOffNode = new Node();
        const backgroundNode = new Rectangle(0, 0, NODE_WIDTH, NODE_HEIGHT, {
            fill: 'transparent'
        });
        soundOnNode.addChild(backgroundNode);
        soundOffNode.addChild(backgroundNode);
        // create speaker for both sound on and sound off
        const speakerNode = new Path(new Shape().moveTo(SPEAKER_WIDTH, 0).lineTo(SPEAKER_BACK_WIDTH, SPEAKER_BACK_Y_SPACE).lineTo(CORNER_RADIUS, SPEAKER_BACK_Y_SPACE).arc(CORNER_RADIUS, SPEAKER_BACK_Y_SPACE + CORNER_RADIUS, CORNER_RADIUS, Math.PI * 1.5, Math.PI, true).lineToRelative(0, SPEAKER_BACK_HEIGHT - 2 * CORNER_RADIUS).arc(CORNER_RADIUS, SPEAKER_BACK_Y_SPACE + SPEAKER_BACK_HEIGHT - CORNER_RADIUS, CORNER_RADIUS, Math.PI, Math.PI * 0.5, true).lineToRelative(SPEAKER_BACK_WIDTH - CORNER_RADIUS, 0).lineTo(SPEAKER_WIDTH, SPEAKER_HEIGHT).lineTo(SPEAKER_WIDTH, 0).close(), {
            stroke: 'black',
            lineWidth: 1.5,
            lineJoin: 'round',
            centerY: soundOffNode.centerY,
            left: 0
        });
        soundOnNode.addChild(speakerNode);
        soundOffNode.addChild(speakerNode);
        // create X for sound off
        const soundOffX = new Path(new Shape().moveTo(0, 0).lineTo(X_WIDTH, X_WIDTH).moveTo(0, X_WIDTH).lineTo(X_WIDTH, 0), {
            stroke: 'black',
            lineWidth: 1.7,
            lineCap: 'round',
            right: soundOffNode.width,
            centerY: soundOffNode.centerY
        });
        soundOffNode.addChild(soundOffX);
        // create curved lines for sound on
        const soundOnCurves = new Path(new Shape().arc(0, 0, MAX_CURVE_RADIUS, CURVE_ANGLE, NEG_CURVE_ANGLE, true).moveToPoint(new Vector2(MED_CURVE_RADIUS, 0).rotated(CURVE_ANGLE)).arc(0, 0, MED_CURVE_RADIUS, CURVE_ANGLE, NEG_CURVE_ANGLE, true).moveToPoint(new Vector2(MIN_CURVE_RADIUS, 0).rotated(CURVE_ANGLE)).arc(0, 0, MIN_CURVE_RADIUS, CURVE_ANGLE, NEG_CURVE_ANGLE, true), {
            stroke: 'black',
            lineWidth: 1.7,
            lineCap: 'round',
            right: soundOnNode.width,
            centerY: soundOnNode.centerY
        });
        soundOnNode.addChild(soundOnCurves);
        // If "Audio" and at least one subcomponent of audio is enabled, show the "sound on" icon. Otherwise,
        // show the "sound off" icon because there will be no output, even if "Audio" is enabled.
        const toggleNode = new ToggleNode(audioManager.anyOutputEnabledProperty, [
            {
                value: true,
                createNode: ()=>soundOnNode
            },
            {
                value: false,
                createNode: ()=>soundOffNode
            }
        ], {
            maxHeight: NODE_HEIGHT * 0.85
        });
        super(toggleNode, backgroundColorProperty, options);
        // must be after the button is instrumented
        this.addLinkedElement(soundEnabledProperty, {
            tandemName: 'property'
        });
        // pdom attribute lets user know when the toggle is pressed, linked lazily so that an alert isn't triggered
        // on construction and must be unlinked in dispose
        const soundUtterance = new ActivationUtterance();
        const enabledListener = (enabled)=>{
            if (options.supportsAudioPreferences) {
                this.setPDOMAttribute('aria-pressed', enabled);
                soundUtterance.alert = enabled ? JoistStrings.a11y.soundToggle.alert.simSoundOnStringProperty : JoistStrings.a11y.soundToggle.alert.simSoundOffStringProperty;
                this.alertDescriptionUtterance(soundUtterance);
                if (voicingManager.voicingFullyEnabledProperty.value) {
                    voicingManager.speakIgnoringEnabled(soundUtterance);
                }
            }
        };
        soundEnabledProperty.lazyLink(enabledListener);
        this.setPDOMAttribute('aria-pressed', soundEnabledProperty.get());
        // If no subcomponents of the audioManager that are enabled disable this button
        // to make it clear that toggling the audioEnabledProperty will have no impact
        // on the output.
        audioManager.anySubcomponentEnabledProperty.link((enabled)=>{
            this.enabled = enabled;
        });
        // change the icon so that it is visible when the background changes from dark to light
        backgroundColorProperty.link((backgroundColor)=>{
            const baseColor = backgroundColor.equals(Color.BLACK) ? 'white' : 'black';
            speakerNode.stroke = baseColor;
            soundOffX.stroke = baseColor;
            soundOnCurves.stroke = baseColor;
        });
    }
};
joist.register('NavigationBarAudioToggleButton', NavigationBarAudioToggleButton);
export default NavigationBarAudioToggleButton;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL2pvaXN0L2pzL05hdmlnYXRpb25CYXJBdWRpb1RvZ2dsZUJ1dHRvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOC0yMDIzLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcblxuLyoqXG4gKiBOYXZpZ2F0aW9uQmFyQXVkaW9Ub2dnbGVCdXR0b24gaXMgYSBidXR0b24gZm9yIGNvbnRyb2xsaW5nIHdoZXRoZXIgYXVkaW8gaXMgZW5hYmxlZCBvciBkaXNhYmxlZCB0aGF0IGlzIGRlc2lnbmVkIHRvXG4gKiB3b3JrIG9uIHRoZSBQaEVUIG5hdmlnYXRpb24gYmFyLiBBdWRpbyBpbmNsdWRlcyBhbGwgYXVkaXRvcnkgZmVhdHVyZXMgaW4gdGhlIHNpbSwgc28gd2hlbiB0aGlzIGlzIGJ1dHRvbiBpcyB0b2dnbGVkXG4gKiBcIm9mZlwiLCB0aGUgc2ltIHNob3VsZCBiZSB0b3RhbGx5IHNpbGVudC5cbiAqXG4gKiBJZiB5b3UncmUgd29uZGVyaW5nIHdoeSB0aGlzIGlzIGRyYXduIGluIGNvZGUgcmF0aGVyIHRoYW4gdXNpbmcgYSBGb250IEF3ZXNvbWUgbm9kZSwgcGxlYXNlIHNlZVxuICogaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL3RhbWJvL2lzc3Vlcy8xOS5cbiAqXG4gKiBAYXV0aG9yIEpvaG4gQmxhbmNvXG4gKiBAYXV0aG9yIENocmlzIEtsdXNlbmRvcmZcbiAqL1xuXG5pbXBvcnQgQm9vbGVhblByb3BlcnR5IGZyb20gJy4uLy4uL2F4b24vanMvQm9vbGVhblByb3BlcnR5LmpzJztcbmltcG9ydCBUUmVhZE9ubHlQcm9wZXJ0eSBmcm9tICcuLi8uLi9heG9uL2pzL1RSZWFkT25seVByb3BlcnR5LmpzJztcbmltcG9ydCBWZWN0b3IyIGZyb20gJy4uLy4uL2RvdC9qcy9WZWN0b3IyLmpzJztcbmltcG9ydCB7IFNoYXBlIH0gZnJvbSAnLi4vLi4va2l0ZS9qcy9pbXBvcnRzLmpzJztcbmltcG9ydCBvcHRpb25pemUgZnJvbSAnLi4vLi4vcGhldC1jb3JlL2pzL29wdGlvbml6ZS5qcyc7XG5pbXBvcnQgUGlja1JlcXVpcmVkIGZyb20gJy4uLy4uL3BoZXQtY29yZS9qcy90eXBlcy9QaWNrUmVxdWlyZWQuanMnO1xuaW1wb3J0IHsgQ29sb3IsIE5vZGUsIFBhdGgsIFJlY3RhbmdsZSwgdm9pY2luZ01hbmFnZXIgfSBmcm9tICcuLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xuaW1wb3J0IFRvZ2dsZU5vZGUgZnJvbSAnLi4vLi4vc3VuL2pzL1RvZ2dsZU5vZGUuanMnO1xuaW1wb3J0IEFjdGl2YXRpb25VdHRlcmFuY2UgZnJvbSAnLi4vLi4vdXR0ZXJhbmNlLXF1ZXVlL2pzL0FjdGl2YXRpb25VdHRlcmFuY2UuanMnO1xuaW1wb3J0IGF1ZGlvTWFuYWdlciBmcm9tICcuL2F1ZGlvTWFuYWdlci5qcyc7XG5pbXBvcnQgam9pc3QgZnJvbSAnLi9qb2lzdC5qcyc7XG5pbXBvcnQgSm9pc3RCdXR0b24sIHsgSm9pc3RCdXR0b25PcHRpb25zIH0gZnJvbSAnLi9Kb2lzdEJ1dHRvbi5qcyc7XG5pbXBvcnQgSm9pc3RTdHJpbmdzIGZyb20gJy4vSm9pc3RTdHJpbmdzLmpzJztcblxuLy8gY29uc3RhbnRzIGZvciBub2RlIGJhY2tncm91bmRcbmNvbnN0IE5PREVfSEVJR0hUID0gMjIuMDtcbmNvbnN0IE5PREVfV0lEVEggPSBOT0RFX0hFSUdIVCAqIDEuMTM7XG5cbi8vIGNvbnN0YW50cyBmb3IgZHJhd2luZyBzcGVha2VyXG5jb25zdCBTUEVBS0VSX0hFSUdIVCA9IE5PREVfSEVJR0hUICogMC43NztcbmNvbnN0IFNQRUFLRVJfV0lEVEggPSBTUEVBS0VSX0hFSUdIVCAqIDAuNTg7XG5jb25zdCBTUEVBS0VSX0JBQ0tfV0lEVEggPSBTUEVBS0VSX1dJRFRIICogMC40NjtcbmNvbnN0IFNQRUFLRVJfQkFDS19IRUlHSFQgPSBTUEVBS0VSX0hFSUdIVCAqIDAuMzU7XG5jb25zdCBTUEVBS0VSX0JBQ0tfWV9TUEFDRSA9ICggU1BFQUtFUl9IRUlHSFQgLSBTUEVBS0VSX0JBQ0tfSEVJR0hUICkgLyAyLjA7IC8vIHNwYWNlIGJldHdlZW4gdG9wIG9mIHNwZWFrZXIgYmFjayBhbmQgdG9wIG9mIGNvbmVcbmNvbnN0IENPUk5FUl9SQURJVVMgPSAxLjA7XG5cbi8vIGNvbnN0YW50IGZvciBkcmF3aW5nIHNvdW5kIG9mZiBYXG5jb25zdCBYX1dJRFRIID0gU1BFQUtFUl9IRUlHSFQgKiAwLjUyO1xuXG4vLyBjb25zdGFudHMgZm9yIGRyYXdpbmcgc291bmQgb24gY3VydmVzXG5jb25zdCBNQVhfQ1VSVkVfUkFESVVTID0gU1BFQUtFUl9IRUlHSFQgKiAwLjYzO1xuY29uc3QgUkFESVVTX1NURVBQRVIgPSBTUEVBS0VSX0hFSUdIVCAqIDAuMjM7XG5jb25zdCBNRURfQ1VSVkVfUkFESVVTID0gTUFYX0NVUlZFX1JBRElVUyAtIFJBRElVU19TVEVQUEVSO1xuY29uc3QgTUlOX0NVUlZFX1JBRElVUyA9IE1FRF9DVVJWRV9SQURJVVMgLSBSQURJVVNfU1RFUFBFUjtcbmNvbnN0IENVUlZFX0FOR0xFID0gTWF0aC5QSSAvIDIuNztcbmNvbnN0IE5FR19DVVJWRV9BTkdMRSA9IENVUlZFX0FOR0xFICogLTEuMDtcblxudHlwZSBTZWxmT3B0aW9ucyA9IHtcblxuICAvLyBUaGlzIGJ1dHRvbiBpcyBhbHdheXMgY3JlYXRlZCBmb3IgYSBjb25zaXN0ZW50IFBoRVQtaU8gQVBJLCBidXQgaGFzIGxpbWl0ZWQgZnVuY3Rpb25hbGl0eSBpZiBhdWRpbyBpcyBub3Qgc3VwcG9ydGVkLlxuICBzdXBwb3J0c0F1ZGlvUHJlZmVyZW5jZXM6IGJvb2xlYW47XG59O1xudHlwZSBOYXZpZ2F0aW9uQmFyQXVkaW9Ub2dnbGVCdXR0b25PcHRpb25zID0gU2VsZk9wdGlvbnMgJiBQaWNrUmVxdWlyZWQ8Sm9pc3RCdXR0b25PcHRpb25zLCAndGFuZGVtJz4gJiBQaWNrPEpvaXN0QnV0dG9uT3B0aW9ucywgJ3BvaW50ZXJBcmVhRGlsYXRpb25YJyB8ICdwb2ludGVyQXJlYURpbGF0aW9uWSc+O1xuXG5jbGFzcyBOYXZpZ2F0aW9uQmFyQXVkaW9Ub2dnbGVCdXR0b24gZXh0ZW5kcyBKb2lzdEJ1dHRvbiB7XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKCBzb3VuZEVuYWJsZWRQcm9wZXJ0eTogQm9vbGVhblByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvclByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxDb2xvcj4sXG4gICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWRPcHRpb25zOiBOYXZpZ2F0aW9uQmFyQXVkaW9Ub2dnbGVCdXR0b25PcHRpb25zICkge1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbml6ZTxOYXZpZ2F0aW9uQmFyQXVkaW9Ub2dnbGVCdXR0b25PcHRpb25zLCBTZWxmT3B0aW9ucywgSm9pc3RCdXR0b25PcHRpb25zPigpKCB7XG5cbiAgICAgIC8vIEpvaXN0QnV0dG9uIG9wdGlvbnNcbiAgICAgIGhpZ2hsaWdodEV4dGVuc2lvbldpZHRoOiA1ICsgMy42LFxuICAgICAgaGlnaGxpZ2h0RXh0ZW5zaW9uSGVpZ2h0OiAxMCxcbiAgICAgIGhpZ2hsaWdodENlbnRlck9mZnNldFk6IDAsXG5cbiAgICAgIC8vIGVuYWJsZWQ6dHJ1ZSBieSBkZWZhdWx0LCBidXQgZGlzYWJsZSBpZiBmdXp6aW5nIHdoZW4gc3VwcG9ydGluZyB2b2ljaW5nXG4gICAgICBlbmFibGVkOiAhKCBwaGV0LmNoaXBwZXIuaXNGdXp6RW5hYmxlZCgpICYmIHBoZXQuY2hpcHBlci5xdWVyeVBhcmFtZXRlcnMuc3VwcG9ydHNWb2ljaW5nICksXG5cbiAgICAgIHZpc2libGVQcm9wZXJ0eU9wdGlvbnM6IHsgcGhldGlvRmVhdHVyZWQ6IHRydWUgfSxcbiAgICAgIHBoZXRpb0ZlYXR1cmVkOiB0cnVlLFxuXG4gICAgICAvLyBwZG9tXG4gICAgICBpbm5lckNvbnRlbnQ6IEpvaXN0U3RyaW5ncy5hMTF5LnNvdW5kVG9nZ2xlLmxhYmVsU3RyaW5nUHJvcGVydHksXG5cbiAgICAgIC8vIHZvaWNpbmdcbiAgICAgIHZvaWNpbmdOYW1lUmVzcG9uc2U6IEpvaXN0U3RyaW5ncy5hMTF5LnNvdW5kVG9nZ2xlLmxhYmVsU3RyaW5nUHJvcGVydHlcbiAgICB9LCBwcm92aWRlZE9wdGlvbnMgKTtcblxuICAgIGFzc2VydCAmJiBhc3NlcnQoIG9wdGlvbnMubGlzdGVuZXIgPT09IHVuZGVmaW5lZCwgJ05hdmlnYXRpb25CYXJBdWRpb1RvZ2dsZUJ1dHRvbiBzZXRzIGxpc3RlbmVyJyApO1xuICAgIG9wdGlvbnMubGlzdGVuZXIgPSAoKSA9PiBzb3VuZEVuYWJsZWRQcm9wZXJ0eS5zZXQoICFzb3VuZEVuYWJsZWRQcm9wZXJ0eS5nZXQoKSApO1xuXG4gICAgY29uc3Qgc291bmRPbk5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIGNvbnN0IHNvdW5kT2ZmTm9kZSA9IG5ldyBOb2RlKCk7XG4gICAgY29uc3QgYmFja2dyb3VuZE5vZGUgPSBuZXcgUmVjdGFuZ2xlKCAwLCAwLCBOT0RFX1dJRFRILCBOT0RFX0hFSUdIVCwgeyBmaWxsOiAndHJhbnNwYXJlbnQnIH0gKTtcbiAgICBzb3VuZE9uTm9kZS5hZGRDaGlsZCggYmFja2dyb3VuZE5vZGUgKTtcbiAgICBzb3VuZE9mZk5vZGUuYWRkQ2hpbGQoIGJhY2tncm91bmROb2RlICk7XG5cbiAgICAvLyBjcmVhdGUgc3BlYWtlciBmb3IgYm90aCBzb3VuZCBvbiBhbmQgc291bmQgb2ZmXG4gICAgY29uc3Qgc3BlYWtlck5vZGUgPSBuZXcgUGF0aChcbiAgICAgIG5ldyBTaGFwZSgpXG4gICAgICAgIC5tb3ZlVG8oIFNQRUFLRVJfV0lEVEgsIDAgKVxuICAgICAgICAubGluZVRvKCBTUEVBS0VSX0JBQ0tfV0lEVEgsIFNQRUFLRVJfQkFDS19ZX1NQQUNFIClcbiAgICAgICAgLmxpbmVUbyggQ09STkVSX1JBRElVUywgU1BFQUtFUl9CQUNLX1lfU1BBQ0UgKVxuICAgICAgICAuYXJjKCBDT1JORVJfUkFESVVTLCBTUEVBS0VSX0JBQ0tfWV9TUEFDRSArIENPUk5FUl9SQURJVVMsIENPUk5FUl9SQURJVVMsIE1hdGguUEkgKiAxLjUsIE1hdGguUEksIHRydWUgKVxuICAgICAgICAubGluZVRvUmVsYXRpdmUoIDAsIFNQRUFLRVJfQkFDS19IRUlHSFQgLSAoIDIgKiBDT1JORVJfUkFESVVTICkgKVxuICAgICAgICAuYXJjKCBDT1JORVJfUkFESVVTLCBTUEVBS0VSX0JBQ0tfWV9TUEFDRSArIFNQRUFLRVJfQkFDS19IRUlHSFQgLSBDT1JORVJfUkFESVVTLCBDT1JORVJfUkFESVVTLCBNYXRoLlBJLCBNYXRoLlBJICogMC41LCB0cnVlIClcbiAgICAgICAgLmxpbmVUb1JlbGF0aXZlKCBTUEVBS0VSX0JBQ0tfV0lEVEggLSBDT1JORVJfUkFESVVTLCAwIClcbiAgICAgICAgLmxpbmVUbyggU1BFQUtFUl9XSURUSCwgU1BFQUtFUl9IRUlHSFQgKVxuICAgICAgICAubGluZVRvKCBTUEVBS0VSX1dJRFRILCAwIClcbiAgICAgICAgLmNsb3NlKCksXG4gICAgICB7XG4gICAgICAgIHN0cm9rZTogJ2JsYWNrJyxcbiAgICAgICAgbGluZVdpZHRoOiAxLjUsXG4gICAgICAgIGxpbmVKb2luOiAncm91bmQnLFxuICAgICAgICBjZW50ZXJZOiBzb3VuZE9mZk5vZGUuY2VudGVyWSxcbiAgICAgICAgbGVmdDogMFxuICAgICAgfVxuICAgICk7XG5cbiAgICBzb3VuZE9uTm9kZS5hZGRDaGlsZCggc3BlYWtlck5vZGUgKTtcbiAgICBzb3VuZE9mZk5vZGUuYWRkQ2hpbGQoIHNwZWFrZXJOb2RlICk7XG5cbiAgICAvLyBjcmVhdGUgWCBmb3Igc291bmQgb2ZmXG4gICAgY29uc3Qgc291bmRPZmZYID0gbmV3IFBhdGgoXG4gICAgICBuZXcgU2hhcGUoKS5tb3ZlVG8oIDAsIDAgKS5saW5lVG8oIFhfV0lEVEgsIFhfV0lEVEggKS5tb3ZlVG8oIDAsIFhfV0lEVEggKVxuICAgICAgICAubGluZVRvKCBYX1dJRFRILCAwICksXG4gICAgICB7XG4gICAgICAgIHN0cm9rZTogJ2JsYWNrJyxcbiAgICAgICAgbGluZVdpZHRoOiAxLjcsXG4gICAgICAgIGxpbmVDYXA6ICdyb3VuZCcsXG4gICAgICAgIHJpZ2h0OiBzb3VuZE9mZk5vZGUud2lkdGgsXG4gICAgICAgIGNlbnRlclk6IHNvdW5kT2ZmTm9kZS5jZW50ZXJZXG4gICAgICB9XG4gICAgKTtcbiAgICBzb3VuZE9mZk5vZGUuYWRkQ2hpbGQoIHNvdW5kT2ZmWCApO1xuXG4gICAgLy8gY3JlYXRlIGN1cnZlZCBsaW5lcyBmb3Igc291bmQgb25cbiAgICBjb25zdCBzb3VuZE9uQ3VydmVzID0gbmV3IFBhdGgoXG4gICAgICBuZXcgU2hhcGUoKVxuICAgICAgICAuYXJjKCAwLCAwLCBNQVhfQ1VSVkVfUkFESVVTLCBDVVJWRV9BTkdMRSwgTkVHX0NVUlZFX0FOR0xFLCB0cnVlIClcbiAgICAgICAgLm1vdmVUb1BvaW50KCBuZXcgVmVjdG9yMiggTUVEX0NVUlZFX1JBRElVUywgMCApLnJvdGF0ZWQoIENVUlZFX0FOR0xFICkgKVxuICAgICAgICAuYXJjKCAwLCAwLCBNRURfQ1VSVkVfUkFESVVTLCBDVVJWRV9BTkdMRSwgTkVHX0NVUlZFX0FOR0xFLCB0cnVlIClcbiAgICAgICAgLm1vdmVUb1BvaW50KCBuZXcgVmVjdG9yMiggTUlOX0NVUlZFX1JBRElVUywgMCApLnJvdGF0ZWQoIENVUlZFX0FOR0xFICkgKVxuICAgICAgICAuYXJjKCAwLCAwLCBNSU5fQ1VSVkVfUkFESVVTLCBDVVJWRV9BTkdMRSwgTkVHX0NVUlZFX0FOR0xFLCB0cnVlICksXG4gICAgICB7XG4gICAgICAgIHN0cm9rZTogJ2JsYWNrJyxcbiAgICAgICAgbGluZVdpZHRoOiAxLjcsXG4gICAgICAgIGxpbmVDYXA6ICdyb3VuZCcsXG4gICAgICAgIHJpZ2h0OiBzb3VuZE9uTm9kZS53aWR0aCxcbiAgICAgICAgY2VudGVyWTogc291bmRPbk5vZGUuY2VudGVyWVxuICAgICAgfVxuICAgICk7XG4gICAgc291bmRPbk5vZGUuYWRkQ2hpbGQoIHNvdW5kT25DdXJ2ZXMgKTtcblxuICAgIC8vIElmIFwiQXVkaW9cIiBhbmQgYXQgbGVhc3Qgb25lIHN1YmNvbXBvbmVudCBvZiBhdWRpbyBpcyBlbmFibGVkLCBzaG93IHRoZSBcInNvdW5kIG9uXCIgaWNvbi4gT3RoZXJ3aXNlLFxuICAgIC8vIHNob3cgdGhlIFwic291bmQgb2ZmXCIgaWNvbiBiZWNhdXNlIHRoZXJlIHdpbGwgYmUgbm8gb3V0cHV0LCBldmVuIGlmIFwiQXVkaW9cIiBpcyBlbmFibGVkLlxuICAgIGNvbnN0IHRvZ2dsZU5vZGUgPSBuZXcgVG9nZ2xlTm9kZSggYXVkaW9NYW5hZ2VyLmFueU91dHB1dEVuYWJsZWRQcm9wZXJ0eSxcbiAgICAgIFtcbiAgICAgICAgeyB2YWx1ZTogdHJ1ZSwgY3JlYXRlTm9kZTogKCkgPT4gc291bmRPbk5vZGUgfSxcbiAgICAgICAgeyB2YWx1ZTogZmFsc2UsIGNyZWF0ZU5vZGU6ICgpID0+IHNvdW5kT2ZmTm9kZSB9XG4gICAgICBdLFxuICAgICAgeyBtYXhIZWlnaHQ6IE5PREVfSEVJR0hUICogMC44NSB9XG4gICAgKTtcblxuICAgIHN1cGVyKCB0b2dnbGVOb2RlLCBiYWNrZ3JvdW5kQ29sb3JQcm9wZXJ0eSwgb3B0aW9ucyApO1xuXG4gICAgLy8gbXVzdCBiZSBhZnRlciB0aGUgYnV0dG9uIGlzIGluc3RydW1lbnRlZFxuICAgIHRoaXMuYWRkTGlua2VkRWxlbWVudCggc291bmRFbmFibGVkUHJvcGVydHksIHtcbiAgICAgIHRhbmRlbU5hbWU6ICdwcm9wZXJ0eSdcbiAgICB9ICk7XG5cbiAgICAvLyBwZG9tIGF0dHJpYnV0ZSBsZXRzIHVzZXIga25vdyB3aGVuIHRoZSB0b2dnbGUgaXMgcHJlc3NlZCwgbGlua2VkIGxhemlseSBzbyB0aGF0IGFuIGFsZXJ0IGlzbid0IHRyaWdnZXJlZFxuICAgIC8vIG9uIGNvbnN0cnVjdGlvbiBhbmQgbXVzdCBiZSB1bmxpbmtlZCBpbiBkaXNwb3NlXG4gICAgY29uc3Qgc291bmRVdHRlcmFuY2UgPSBuZXcgQWN0aXZhdGlvblV0dGVyYW5jZSgpO1xuICAgIGNvbnN0IGVuYWJsZWRMaXN0ZW5lciA9ICggZW5hYmxlZDogYm9vbGVhbiApID0+IHtcbiAgICAgIGlmICggb3B0aW9ucy5zdXBwb3J0c0F1ZGlvUHJlZmVyZW5jZXMgKSB7XG4gICAgICAgIHRoaXMuc2V0UERPTUF0dHJpYnV0ZSggJ2FyaWEtcHJlc3NlZCcsIGVuYWJsZWQgKTtcblxuICAgICAgICBzb3VuZFV0dGVyYW5jZS5hbGVydCA9IGVuYWJsZWQgPyBKb2lzdFN0cmluZ3MuYTExeS5zb3VuZFRvZ2dsZS5hbGVydC5zaW1Tb3VuZE9uU3RyaW5nUHJvcGVydHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogSm9pc3RTdHJpbmdzLmExMXkuc291bmRUb2dnbGUuYWxlcnQuc2ltU291bmRPZmZTdHJpbmdQcm9wZXJ0eTtcbiAgICAgICAgdGhpcy5hbGVydERlc2NyaXB0aW9uVXR0ZXJhbmNlKCBzb3VuZFV0dGVyYW5jZSApO1xuICAgICAgICBpZiAoIHZvaWNpbmdNYW5hZ2VyLnZvaWNpbmdGdWxseUVuYWJsZWRQcm9wZXJ0eS52YWx1ZSApIHtcbiAgICAgICAgICB2b2ljaW5nTWFuYWdlci5zcGVha0lnbm9yaW5nRW5hYmxlZCggc291bmRVdHRlcmFuY2UgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgc291bmRFbmFibGVkUHJvcGVydHkubGF6eUxpbmsoIGVuYWJsZWRMaXN0ZW5lciApO1xuICAgIHRoaXMuc2V0UERPTUF0dHJpYnV0ZSggJ2FyaWEtcHJlc3NlZCcsIHNvdW5kRW5hYmxlZFByb3BlcnR5LmdldCgpICk7XG5cbiAgICAvLyBJZiBubyBzdWJjb21wb25lbnRzIG9mIHRoZSBhdWRpb01hbmFnZXIgdGhhdCBhcmUgZW5hYmxlZCBkaXNhYmxlIHRoaXMgYnV0dG9uXG4gICAgLy8gdG8gbWFrZSBpdCBjbGVhciB0aGF0IHRvZ2dsaW5nIHRoZSBhdWRpb0VuYWJsZWRQcm9wZXJ0eSB3aWxsIGhhdmUgbm8gaW1wYWN0XG4gICAgLy8gb24gdGhlIG91dHB1dC5cbiAgICBhdWRpb01hbmFnZXIuYW55U3ViY29tcG9uZW50RW5hYmxlZFByb3BlcnR5LmxpbmsoIGVuYWJsZWQgPT4ge1xuICAgICAgdGhpcy5lbmFibGVkID0gZW5hYmxlZDtcbiAgICB9ICk7XG5cbiAgICAvLyBjaGFuZ2UgdGhlIGljb24gc28gdGhhdCBpdCBpcyB2aXNpYmxlIHdoZW4gdGhlIGJhY2tncm91bmQgY2hhbmdlcyBmcm9tIGRhcmsgdG8gbGlnaHRcbiAgICBiYWNrZ3JvdW5kQ29sb3JQcm9wZXJ0eS5saW5rKCBiYWNrZ3JvdW5kQ29sb3IgPT4ge1xuICAgICAgY29uc3QgYmFzZUNvbG9yID0gYmFja2dyb3VuZENvbG9yLmVxdWFscyggQ29sb3IuQkxBQ0sgKSA/ICd3aGl0ZScgOiAnYmxhY2snO1xuICAgICAgc3BlYWtlck5vZGUuc3Ryb2tlID0gYmFzZUNvbG9yO1xuICAgICAgc291bmRPZmZYLnN0cm9rZSA9IGJhc2VDb2xvcjtcbiAgICAgIHNvdW5kT25DdXJ2ZXMuc3Ryb2tlID0gYmFzZUNvbG9yO1xuICAgIH0gKTtcbiAgfVxufVxuXG5qb2lzdC5yZWdpc3RlciggJ05hdmlnYXRpb25CYXJBdWRpb1RvZ2dsZUJ1dHRvbicsIE5hdmlnYXRpb25CYXJBdWRpb1RvZ2dsZUJ1dHRvbiApO1xuZXhwb3J0IGRlZmF1bHQgTmF2aWdhdGlvbkJhckF1ZGlvVG9nZ2xlQnV0dG9uOyJdLCJuYW1lcyI6WyJWZWN0b3IyIiwiU2hhcGUiLCJvcHRpb25pemUiLCJDb2xvciIsIk5vZGUiLCJQYXRoIiwiUmVjdGFuZ2xlIiwidm9pY2luZ01hbmFnZXIiLCJUb2dnbGVOb2RlIiwiQWN0aXZhdGlvblV0dGVyYW5jZSIsImF1ZGlvTWFuYWdlciIsImpvaXN0IiwiSm9pc3RCdXR0b24iLCJKb2lzdFN0cmluZ3MiLCJOT0RFX0hFSUdIVCIsIk5PREVfV0lEVEgiLCJTUEVBS0VSX0hFSUdIVCIsIlNQRUFLRVJfV0lEVEgiLCJTUEVBS0VSX0JBQ0tfV0lEVEgiLCJTUEVBS0VSX0JBQ0tfSEVJR0hUIiwiU1BFQUtFUl9CQUNLX1lfU1BBQ0UiLCJDT1JORVJfUkFESVVTIiwiWF9XSURUSCIsIk1BWF9DVVJWRV9SQURJVVMiLCJSQURJVVNfU1RFUFBFUiIsIk1FRF9DVVJWRV9SQURJVVMiLCJNSU5fQ1VSVkVfUkFESVVTIiwiQ1VSVkVfQU5HTEUiLCJNYXRoIiwiUEkiLCJORUdfQ1VSVkVfQU5HTEUiLCJOYXZpZ2F0aW9uQmFyQXVkaW9Ub2dnbGVCdXR0b24iLCJzb3VuZEVuYWJsZWRQcm9wZXJ0eSIsImJhY2tncm91bmRDb2xvclByb3BlcnR5IiwicHJvdmlkZWRPcHRpb25zIiwib3B0aW9ucyIsImhpZ2hsaWdodEV4dGVuc2lvbldpZHRoIiwiaGlnaGxpZ2h0RXh0ZW5zaW9uSGVpZ2h0IiwiaGlnaGxpZ2h0Q2VudGVyT2Zmc2V0WSIsImVuYWJsZWQiLCJwaGV0IiwiY2hpcHBlciIsImlzRnV6ekVuYWJsZWQiLCJxdWVyeVBhcmFtZXRlcnMiLCJzdXBwb3J0c1ZvaWNpbmciLCJ2aXNpYmxlUHJvcGVydHlPcHRpb25zIiwicGhldGlvRmVhdHVyZWQiLCJpbm5lckNvbnRlbnQiLCJhMTF5Iiwic291bmRUb2dnbGUiLCJsYWJlbFN0cmluZ1Byb3BlcnR5Iiwidm9pY2luZ05hbWVSZXNwb25zZSIsImFzc2VydCIsImxpc3RlbmVyIiwidW5kZWZpbmVkIiwic2V0IiwiZ2V0Iiwic291bmRPbk5vZGUiLCJzb3VuZE9mZk5vZGUiLCJiYWNrZ3JvdW5kTm9kZSIsImZpbGwiLCJhZGRDaGlsZCIsInNwZWFrZXJOb2RlIiwibW92ZVRvIiwibGluZVRvIiwiYXJjIiwibGluZVRvUmVsYXRpdmUiLCJjbG9zZSIsInN0cm9rZSIsImxpbmVXaWR0aCIsImxpbmVKb2luIiwiY2VudGVyWSIsImxlZnQiLCJzb3VuZE9mZlgiLCJsaW5lQ2FwIiwicmlnaHQiLCJ3aWR0aCIsInNvdW5kT25DdXJ2ZXMiLCJtb3ZlVG9Qb2ludCIsInJvdGF0ZWQiLCJ0b2dnbGVOb2RlIiwiYW55T3V0cHV0RW5hYmxlZFByb3BlcnR5IiwidmFsdWUiLCJjcmVhdGVOb2RlIiwibWF4SGVpZ2h0IiwiYWRkTGlua2VkRWxlbWVudCIsInRhbmRlbU5hbWUiLCJzb3VuZFV0dGVyYW5jZSIsImVuYWJsZWRMaXN0ZW5lciIsInN1cHBvcnRzQXVkaW9QcmVmZXJlbmNlcyIsInNldFBET01BdHRyaWJ1dGUiLCJhbGVydCIsInNpbVNvdW5kT25TdHJpbmdQcm9wZXJ0eSIsInNpbVNvdW5kT2ZmU3RyaW5nUHJvcGVydHkiLCJhbGVydERlc2NyaXB0aW9uVXR0ZXJhbmNlIiwidm9pY2luZ0Z1bGx5RW5hYmxlZFByb3BlcnR5Iiwic3BlYWtJZ25vcmluZ0VuYWJsZWQiLCJsYXp5TGluayIsImFueVN1YmNvbXBvbmVudEVuYWJsZWRQcm9wZXJ0eSIsImxpbmsiLCJiYWNrZ3JvdW5kQ29sb3IiLCJiYXNlQ29sb3IiLCJlcXVhbHMiLCJCTEFDSyIsInJlZ2lzdGVyIl0sIm1hcHBpbmdzIjoiQUFBQSxzREFBc0Q7QUFFdEQ7Ozs7Ozs7Ozs7Q0FVQyxHQUlELE9BQU9BLGFBQWEsMEJBQTBCO0FBQzlDLFNBQVNDLEtBQUssUUFBUSwyQkFBMkI7QUFDakQsT0FBT0MsZUFBZSxrQ0FBa0M7QUFFeEQsU0FBU0MsS0FBSyxFQUFFQyxJQUFJLEVBQUVDLElBQUksRUFBRUMsU0FBUyxFQUFFQyxjQUFjLFFBQVEsOEJBQThCO0FBQzNGLE9BQU9DLGdCQUFnQiw2QkFBNkI7QUFDcEQsT0FBT0MseUJBQXlCLGtEQUFrRDtBQUNsRixPQUFPQyxrQkFBa0Isb0JBQW9CO0FBQzdDLE9BQU9DLFdBQVcsYUFBYTtBQUMvQixPQUFPQyxpQkFBeUMsbUJBQW1CO0FBQ25FLE9BQU9DLGtCQUFrQixvQkFBb0I7QUFFN0MsZ0NBQWdDO0FBQ2hDLE1BQU1DLGNBQWM7QUFDcEIsTUFBTUMsYUFBYUQsY0FBYztBQUVqQyxnQ0FBZ0M7QUFDaEMsTUFBTUUsaUJBQWlCRixjQUFjO0FB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