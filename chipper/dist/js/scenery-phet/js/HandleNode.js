// Copyright 2018-2024, University of Colorado Boulder
/**
 * Scenery node that shows a handle, which is made of two parts: the "grip" which is where you would grab it and the
 * "attachment" which are elbow-shaped bars that attach the handle to another surface.
 *
 * @author Chris Klusendorf (PhET Interactive Simulations)
 * @author Sam Reid (PhET Interactive Simulations)
 */ import Matrix3 from '../../dot/js/Matrix3.js';
import { Shape } from '../../kite/js/imports.js';
import InstanceRegistry from '../../phet-core/js/documentation/InstanceRegistry.js';
import optionize, { combineOptions } from '../../phet-core/js/optionize.js';
import { LinearGradient, Node, PaintColorProperty, Path } from '../../scenery/js/imports.js';
import sceneryPhet from './sceneryPhet.js';
// constants
// grip shape
const GRIP_WIDTH = 100;
const GRIP_HEIGHT = 42;
const GRIP_CORNER_RADIUS = GRIP_WIDTH * 0.03;
const GRIP_END_PAD = GRIP_WIDTH * 0.03; // horizontal line between the edge of the grip and the cubic curves
const GRIP_SINGLE_FINGER_INDENT_DEPTH = GRIP_HEIGHT * 0.11;
const GRIP_SINGLE_FINGER_INDENT_HALF_WIDTH = (GRIP_WIDTH - GRIP_CORNER_RADIUS * 2 - GRIP_END_PAD * 2) / 8;
let HandleNode = class HandleNode extends Node {
    dispose() {
        this.disposeHandleNode();
        super.dispose();
    }
    constructor(providedOptions){
        var _window_phet_chipper_queryParameters, _window_phet_chipper, _window_phet;
        const options = optionize()({
            // SelfOptions
            gripBaseColor: 'rgb( 183, 184, 185 )',
            gripStroke: 'black',
            gripLineWidth: 3,
            attachmentFill: 'gray',
            attachmentStroke: 'black',
            attachmentLineWidth: 3,
            hasLeftAttachment: true,
            hasRightAttachment: true
        }, providedOptions);
        assert && assert(options.hasLeftAttachment || options.hasRightAttachment, 'at least one attachment is required');
        // the grip shape begins on the left edge, middle y
        // this is the upper left corner before grip indents start
        const gripShape = new Shape().moveTo(0, GRIP_HEIGHT / 2).lineTo(0, GRIP_CORNER_RADIUS).arc(GRIP_CORNER_RADIUS, GRIP_CORNER_RADIUS, GRIP_CORNER_RADIUS, Math.PI, Math.PI * 1.5, false).lineToRelative(GRIP_END_PAD, 0);
        // these are the top grip indents
        addGripIndent(gripShape, 1);
        addGripIndent(gripShape, 1);
        addGripIndent(gripShape, 1);
        addGripIndent(gripShape, 1);
        // this is the whole right edge
        gripShape.lineToRelative(GRIP_END_PAD, 0).arc(GRIP_WIDTH - GRIP_CORNER_RADIUS, GRIP_CORNER_RADIUS, GRIP_CORNER_RADIUS, Math.PI * 1.5, 0, false).lineToRelative(0, GRIP_HEIGHT - GRIP_CORNER_RADIUS * 2).arc(GRIP_WIDTH - GRIP_CORNER_RADIUS, GRIP_HEIGHT - GRIP_CORNER_RADIUS, GRIP_CORNER_RADIUS, 0, Math.PI / 2, false).lineToRelative(-GRIP_END_PAD, 0);
        // these are the bottom grip indents
        addGripIndent(gripShape, -1);
        addGripIndent(gripShape, -1);
        addGripIndent(gripShape, -1);
        addGripIndent(gripShape, -1);
        // this is the lower left hand corner
        gripShape.lineToRelative(-GRIP_END_PAD, 0).arc(GRIP_CORNER_RADIUS, GRIP_HEIGHT - GRIP_CORNER_RADIUS, GRIP_CORNER_RADIUS, Math.PI / 2, Math.PI, false).lineTo(0, GRIP_HEIGHT / 2).close();
        // Use PaintColorProperty so that colors can be updated dynamically
        const gripBaseColorProperty = new PaintColorProperty(options.gripBaseColor);
        const brighterColorProperty = new PaintColorProperty(gripBaseColorProperty, {
            luminanceFactor: 0.95
        });
        const darkerColorProperty = new PaintColorProperty(gripBaseColorProperty, {
            luminanceFactor: -0.35
        });
        // add handle grip shape
        const gripPath = new Path(gripShape, {
            lineWidth: options.gripLineWidth,
            stroke: options.gripStroke,
            fill: new LinearGradient(0, 0, 0, GRIP_HEIGHT).addColorStop(0, gripBaseColorProperty).addColorStop(0.4, brighterColorProperty).addColorStop(0.7, gripBaseColorProperty).addColorStop(1.0, darkerColorProperty)
        });
        options.children = [
            gripPath
        ];
        // handle attachment shape vars
        const attachmentShaftWidth = GRIP_HEIGHT * 0.35;
        const attachmentHeight = GRIP_HEIGHT * 1.15;
        const attachmentBaseNubWidth = attachmentShaftWidth * 0.4;
        const attachmentBaseNubHeight = attachmentHeight * 0.2;
        const attachmentMiddleHeight = attachmentHeight * 0.5;
        const attachmentSmallArcRadius = attachmentShaftWidth * 0.5;
        const attachmentOptions = {
            fill: options.attachmentFill,
            stroke: options.attachmentStroke,
            lineWidth: options.attachmentLineWidth,
            lineJoin: 'round',
            top: gripPath.centerY - attachmentShaftWidth / 2
        };
        const leftAttachmentShape = new Shape()// Starts at bottom-left and proceeds clockwise
        .moveTo(0, attachmentHeight).lineToRelative(attachmentBaseNubWidth, -attachmentBaseNubHeight).lineToRelative(0, -attachmentMiddleHeight)// The main arc at the top left of the attachment
        .arc(attachmentShaftWidth + attachmentBaseNubWidth + attachmentSmallArcRadius, attachmentHeight - attachmentBaseNubHeight - attachmentMiddleHeight, attachmentShaftWidth + attachmentSmallArcRadius, Math.PI, Math.PI * 1.5, false).lineToRelative(0, attachmentShaftWidth)// This is the smaller arc on the underside of the attachment
        .arc(attachmentShaftWidth + attachmentBaseNubWidth + attachmentSmallArcRadius, attachmentHeight - attachmentBaseNubHeight - attachmentMiddleHeight, attachmentSmallArcRadius, Math.PI * 1.5, Math.PI, true).lineToRelative(0, attachmentMiddleHeight).lineToRelative(attachmentBaseNubWidth, attachmentBaseNubHeight).lineToRelative(-attachmentShaftWidth - attachmentBaseNubWidth * 2, 0).close();
        // left attachment
        if (options.hasLeftAttachment) {
            const leftAttachmentPath = new Path(leftAttachmentShape, combineOptions({
                right: gripPath.left + options.gripLineWidth
            }, attachmentOptions));
            options.children.unshift(leftAttachmentPath); // prepend so that attachment is behind grip
        }
        // right attachment, a mirror image of the left
        if (options.hasRightAttachment) {
            const rightAttachmentShape = leftAttachmentShape.transformed(Matrix3.scaling(-1, 1));
            // handle right attachment
            const rightAttachmentPath = new Path(rightAttachmentShape, combineOptions({
                left: gripPath.right - options.gripLineWidth
            }, attachmentOptions));
            options.children.unshift(rightAttachmentPath); // prepend so that attachment is behind grip
        }
        super(options);
        this.disposeHandleNode = ()=>{
            gripBaseColorProperty.dispose();
            brighterColorProperty.dispose();
            darkerColorProperty.dispose();
        };
        // support for binder documentation, stripped out in builds and only runs when ?binder is specified
        assert && ((_window_phet = window.phet) == null ? void 0 : (_window_phet_chipper = _window_phet.chipper) == null ? void 0 : (_window_phet_chipper_queryParameters = _window_phet_chipper.queryParameters) == null ? void 0 : _window_phet_chipper_queryParameters.binder) && InstanceRegistry.registerDataURL('scenery-phet', 'HandleNode', this);
    }
};
export { HandleNode as default };
/**
 * Add an "up/down" combination to either the top or bottom of the grip.
 * @param shape - the shape to append to
 * @param sign - +1 for top side of grip, -1 for bottom side of grip
 */ function addGripIndent(shape, sign) {
    // control points for cubic curve shape on grip
    // each single-finger indent is made of two cubic curves that are mirrored over the y-axis
    const controlPoint1X = GRIP_SINGLE_FINGER_INDENT_HALF_WIDTH / 2;
    const controlPoint1Y = 0;
    const controlPoint2X = GRIP_SINGLE_FINGER_INDENT_HALF_WIDTH / 4;
    const controlPoint2Y = GRIP_SINGLE_FINGER_INDENT_DEPTH;
    // this is a grip indent
    shape.cubicCurveToRelative(sign * controlPoint1X, sign * controlPoint1Y, sign * controlPoint2X, sign * controlPoint2Y, sign * GRIP_SINGLE_FINGER_INDENT_HALF_WIDTH, sign * GRIP_SINGLE_FINGER_INDENT_DEPTH).cubicCurveToRelative(sign * (GRIP_SINGLE_FINGER_INDENT_HALF_WIDTH - controlPoint2X), sign * -controlPoint1Y, sign * (GRIP_SINGLE_FINGER_INDENT_HALF_WIDTH - controlPoint1X), sign * -controlPoint2Y, sign * GRIP_SINGLE_FINGER_INDENT_HALF_WIDTH, sign * -GRIP_SINGLE_FINGER_INDENT_DEPTH);
}
sceneryPhet.register('HandleNode', HandleNode);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9IYW5kbGVOb2RlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE4LTIwMjQsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxuXG4vKipcbiAqIFNjZW5lcnkgbm9kZSB0aGF0IHNob3dzIGEgaGFuZGxlLCB3aGljaCBpcyBtYWRlIG9mIHR3byBwYXJ0czogdGhlIFwiZ3JpcFwiIHdoaWNoIGlzIHdoZXJlIHlvdSB3b3VsZCBncmFiIGl0IGFuZCB0aGVcbiAqIFwiYXR0YWNobWVudFwiIHdoaWNoIGFyZSBlbGJvdy1zaGFwZWQgYmFycyB0aGF0IGF0dGFjaCB0aGUgaGFuZGxlIHRvIGFub3RoZXIgc3VyZmFjZS5cbiAqXG4gKiBAYXV0aG9yIENocmlzIEtsdXNlbmRvcmYgKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXG4gKiBAYXV0aG9yIFNhbSBSZWlkIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxuICovXG5cbmltcG9ydCBNYXRyaXgzIGZyb20gJy4uLy4uL2RvdC9qcy9NYXRyaXgzLmpzJztcbmltcG9ydCB7IFNoYXBlIH0gZnJvbSAnLi4vLi4va2l0ZS9qcy9pbXBvcnRzLmpzJztcbmltcG9ydCBJbnN0YW5jZVJlZ2lzdHJ5IGZyb20gJy4uLy4uL3BoZXQtY29yZS9qcy9kb2N1bWVudGF0aW9uL0luc3RhbmNlUmVnaXN0cnkuanMnO1xuaW1wb3J0IG9wdGlvbml6ZSwgeyBjb21iaW5lT3B0aW9ucyB9IGZyb20gJy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xuaW1wb3J0IFN0cmljdE9taXQgZnJvbSAnLi4vLi4vcGhldC1jb3JlL2pzL3R5cGVzL1N0cmljdE9taXQuanMnO1xuaW1wb3J0IHsgTGluZWFyR3JhZGllbnQsIE5vZGUsIE5vZGVPcHRpb25zLCBQYWludENvbG9yUHJvcGVydHksIFBhdGgsIFBhdGhPcHRpb25zLCBUQ29sb3IgfSBmcm9tICcuLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xuaW1wb3J0IHNjZW5lcnlQaGV0IGZyb20gJy4vc2NlbmVyeVBoZXQuanMnO1xuXG4vLyBjb25zdGFudHNcbi8vIGdyaXAgc2hhcGVcbmNvbnN0IEdSSVBfV0lEVEggPSAxMDA7XG5jb25zdCBHUklQX0hFSUdIVCA9IDQyO1xuY29uc3QgR1JJUF9DT1JORVJfUkFESVVTID0gR1JJUF9XSURUSCAqIDAuMDM7XG5jb25zdCBHUklQX0VORF9QQUQgPSBHUklQX1dJRFRIICogMC4wMzsgLy8gaG9yaXpvbnRhbCBsaW5lIGJldHdlZW4gdGhlIGVkZ2Ugb2YgdGhlIGdyaXAgYW5kIHRoZSBjdWJpYyBjdXJ2ZXNcbmNvbnN0IEdSSVBfU0lOR0xFX0ZJTkdFUl9JTkRFTlRfREVQVEggPSBHUklQX0hFSUdIVCAqIDAuMTE7XG5jb25zdCBHUklQX1NJTkdMRV9GSU5HRVJfSU5ERU5UX0hBTEZfV0lEVEggPSAoIEdSSVBfV0lEVEggLSBHUklQX0NPUk5FUl9SQURJVVMgKiAyIC0gR1JJUF9FTkRfUEFEICogMiApIC8gODtcblxudHlwZSBTZWxmT3B0aW9ucyA9IHtcblxuICAvLyBvcHRpb25zIGZvciB0aGUgZ3JpcFxuICBncmlwQmFzZUNvbG9yPzogVENvbG9yOyAvLyBiYXNlIGNvbG9yIG9mIGdyYWRpZW50IG9uIHRoZSBncmlwXG4gIGdyaXBTdHJva2U/OiBUQ29sb3I7IC8vIHN0cm9rZSBjb2xvciBvZiB0aGUgZ3JpcFxuICBncmlwTGluZVdpZHRoPzogbnVtYmVyO1xuXG4gIC8vIG9wdGlvbnMgZm9yIHRoZSBhdHRhY2htZW50KHMpXG4gIGF0dGFjaG1lbnRGaWxsPzogVENvbG9yOyAvLyBzb2xpZCBmaWxsIGNvbG9yIGZvciB0aGUgYXR0YWNobWVudHNcbiAgYXR0YWNobWVudFN0cm9rZT86IFRDb2xvcjsgLy8gc3Ryb2tlIGNvbG9yIG9mIHRoZSBhdHRhY2htZW50c1xuICBhdHRhY2htZW50TGluZVdpZHRoPzogbnVtYmVyO1xuICBoYXNMZWZ0QXR0YWNobWVudD86IGJvb2xlYW47XG4gIGhhc1JpZ2h0QXR0YWNobWVudD86IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBIYW5kbGVOb2RlT3B0aW9ucyA9IFNlbGZPcHRpb25zICYgU3RyaWN0T21pdDxOb2RlT3B0aW9ucywgJ2NoaWxkcmVuJz47XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhhbmRsZU5vZGUgZXh0ZW5kcyBOb2RlIHtcblxuICBwcml2YXRlIHJlYWRvbmx5IGRpc3Bvc2VIYW5kbGVOb2RlOiAoKSA9PiB2b2lkO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggcHJvdmlkZWRPcHRpb25zPzogSGFuZGxlTm9kZU9wdGlvbnMgKSB7XG5cbiAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uaXplPEhhbmRsZU5vZGVPcHRpb25zLCBTZWxmT3B0aW9ucywgTm9kZU9wdGlvbnM+KCkoIHtcblxuICAgICAgLy8gU2VsZk9wdGlvbnNcbiAgICAgIGdyaXBCYXNlQ29sb3I6ICdyZ2IoIDE4MywgMTg0LCAxODUgKScsXG4gICAgICBncmlwU3Ryb2tlOiAnYmxhY2snLFxuICAgICAgZ3JpcExpbmVXaWR0aDogMyxcbiAgICAgIGF0dGFjaG1lbnRGaWxsOiAnZ3JheScsXG4gICAgICBhdHRhY2htZW50U3Ryb2tlOiAnYmxhY2snLFxuICAgICAgYXR0YWNobWVudExpbmVXaWR0aDogMyxcbiAgICAgIGhhc0xlZnRBdHRhY2htZW50OiB0cnVlLFxuICAgICAgaGFzUmlnaHRBdHRhY2htZW50OiB0cnVlXG4gICAgfSwgcHJvdmlkZWRPcHRpb25zICk7XG5cbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBvcHRpb25zLmhhc0xlZnRBdHRhY2htZW50IHx8IG9wdGlvbnMuaGFzUmlnaHRBdHRhY2htZW50LCAnYXQgbGVhc3Qgb25lIGF0dGFjaG1lbnQgaXMgcmVxdWlyZWQnICk7XG5cbiAgICAvLyB0aGUgZ3JpcCBzaGFwZSBiZWdpbnMgb24gdGhlIGxlZnQgZWRnZSwgbWlkZGxlIHlcbiAgICAvLyB0aGlzIGlzIHRoZSB1cHBlciBsZWZ0IGNvcm5lciBiZWZvcmUgZ3JpcCBpbmRlbnRzIHN0YXJ0XG4gICAgY29uc3QgZ3JpcFNoYXBlID0gbmV3IFNoYXBlKClcbiAgICAgIC5tb3ZlVG8oIDAsIEdSSVBfSEVJR0hUIC8gMiApXG4gICAgICAubGluZVRvKCAwLCBHUklQX0NPUk5FUl9SQURJVVMgKVxuICAgICAgLmFyYyggR1JJUF9DT1JORVJfUkFESVVTLCBHUklQX0NPUk5FUl9SQURJVVMsIEdSSVBfQ09STkVSX1JBRElVUywgTWF0aC5QSSwgTWF0aC5QSSAqIDEuNSwgZmFsc2UgKVxuICAgICAgLmxpbmVUb1JlbGF0aXZlKCBHUklQX0VORF9QQUQsIDAgKTtcblxuICAgIC8vIHRoZXNlIGFyZSB0aGUgdG9wIGdyaXAgaW5kZW50c1xuICAgIGFkZEdyaXBJbmRlbnQoIGdyaXBTaGFwZSwgMSApO1xuICAgIGFkZEdyaXBJbmRlbnQoIGdyaXBTaGFwZSwgMSApO1xuICAgIGFkZEdyaXBJbmRlbnQoIGdyaXBTaGFwZSwgMSApO1xuICAgIGFkZEdyaXBJbmRlbnQoIGdyaXBTaGFwZSwgMSApO1xuXG4gICAgLy8gdGhpcyBpcyB0aGUgd2hvbGUgcmlnaHQgZWRnZVxuICAgIGdyaXBTaGFwZS5saW5lVG9SZWxhdGl2ZSggR1JJUF9FTkRfUEFELCAwIClcbiAgICAgIC5hcmMoIEdSSVBfV0lEVEggLSBHUklQX0NPUk5FUl9SQURJVVMsIEdSSVBfQ09STkVSX1JBRElVUywgR1JJUF9DT1JORVJfUkFESVVTLCBNYXRoLlBJICogMS41LCAwLCBmYWxzZSApXG4gICAgICAubGluZVRvUmVsYXRpdmUoIDAsIEdSSVBfSEVJR0hUIC0gKCBHUklQX0NPUk5FUl9SQURJVVMgKiAyICkgKVxuICAgICAgLmFyYyggR1JJUF9XSURUSCAtIEdSSVBfQ09STkVSX1JBRElVUywgR1JJUF9IRUlHSFQgLSBHUklQX0NPUk5FUl9SQURJVVMsIEdSSVBfQ09STkVSX1JBRElVUywgMCwgTWF0aC5QSSAvIDIsIGZhbHNlIClcbiAgICAgIC5saW5lVG9SZWxhdGl2ZSggLUdSSVBfRU5EX1BBRCwgMCApO1xuXG4gICAgLy8gdGhlc2UgYXJlIHRoZSBib3R0b20gZ3JpcCBpbmRlbnRzXG4gICAgYWRkR3JpcEluZGVudCggZ3JpcFNoYXBlLCAtMSApO1xuICAgIGFkZEdyaXBJbmRlbnQoIGdyaXBTaGFwZSwgLTEgKTtcbiAgICBhZGRHcmlwSW5kZW50KCBncmlwU2hhcGUsIC0xICk7XG4gICAgYWRkR3JpcEluZGVudCggZ3JpcFNoYXBlLCAtMSApO1xuXG4gICAgLy8gdGhpcyBpcyB0aGUgbG93ZXIgbGVmdCBoYW5kIGNvcm5lclxuICAgIGdyaXBTaGFwZS5saW5lVG9SZWxhdGl2ZSggLUdSSVBfRU5EX1BBRCwgMCApXG4gICAgICAuYXJjKCBHUklQX0NPUk5FUl9SQURJVVMsIEdSSVBfSEVJR0hUIC0gR1JJUF9DT1JORVJfUkFESVVTLCBHUklQX0NPUk5FUl9SQURJVVMsIE1hdGguUEkgLyAyLCBNYXRoLlBJLCBmYWxzZSApXG4gICAgICAubGluZVRvKCAwLCBHUklQX0hFSUdIVCAvIDIgKVxuICAgICAgLmNsb3NlKCk7XG5cbiAgICAvLyBVc2UgUGFpbnRDb2xvclByb3BlcnR5IHNvIHRoYXQgY29sb3JzIGNhbiBiZSB1cGRhdGVkIGR5bmFtaWNhbGx5XG4gICAgY29uc3QgZ3JpcEJhc2VDb2xvclByb3BlcnR5ID0gbmV3IFBhaW50Q29sb3JQcm9wZXJ0eSggb3B0aW9ucy5ncmlwQmFzZUNvbG9yICk7XG4gICAgY29uc3QgYnJpZ2h0ZXJDb2xvclByb3BlcnR5ID0gbmV3IFBhaW50Q29sb3JQcm9wZXJ0eSggZ3JpcEJhc2VDb2xvclByb3BlcnR5LCB7IGx1bWluYW5jZUZhY3RvcjogMC45NSB9ICk7XG4gICAgY29uc3QgZGFya2VyQ29sb3JQcm9wZXJ0eSA9IG5ldyBQYWludENvbG9yUHJvcGVydHkoIGdyaXBCYXNlQ29sb3JQcm9wZXJ0eSwgeyBsdW1pbmFuY2VGYWN0b3I6IC0wLjM1IH0gKTtcblxuICAgIC8vIGFkZCBoYW5kbGUgZ3JpcCBzaGFwZVxuICAgIGNvbnN0IGdyaXBQYXRoID0gbmV3IFBhdGgoIGdyaXBTaGFwZSwge1xuICAgICAgbGluZVdpZHRoOiBvcHRpb25zLmdyaXBMaW5lV2lkdGgsXG4gICAgICBzdHJva2U6IG9wdGlvbnMuZ3JpcFN0cm9rZSxcbiAgICAgIGZpbGw6IG5ldyBMaW5lYXJHcmFkaWVudCggMCwgMCwgMCwgR1JJUF9IRUlHSFQgKVxuICAgICAgICAuYWRkQ29sb3JTdG9wKCAwLCBncmlwQmFzZUNvbG9yUHJvcGVydHkgKVxuICAgICAgICAuYWRkQ29sb3JTdG9wKCAwLjQsIGJyaWdodGVyQ29sb3JQcm9wZXJ0eSApXG4gICAgICAgIC5hZGRDb2xvclN0b3AoIDAuNywgZ3JpcEJhc2VDb2xvclByb3BlcnR5IClcbiAgICAgICAgLmFkZENvbG9yU3RvcCggMS4wLCBkYXJrZXJDb2xvclByb3BlcnR5IClcbiAgICB9ICk7XG5cbiAgICBvcHRpb25zLmNoaWxkcmVuID0gWyBncmlwUGF0aCBdO1xuXG4gICAgLy8gaGFuZGxlIGF0dGFjaG1lbnQgc2hhcGUgdmFyc1xuICAgIGNvbnN0IGF0dGFjaG1lbnRTaGFmdFdpZHRoID0gR1JJUF9IRUlHSFQgKiAwLjM1O1xuICAgIGNvbnN0IGF0dGFjaG1lbnRIZWlnaHQgPSBHUklQX0hFSUdIVCAqIDEuMTU7XG4gICAgY29uc3QgYXR0YWNobWVudEJhc2VOdWJXaWR0aCA9IGF0dGFjaG1lbnRTaGFmdFdpZHRoICogMC40O1xuICAgIGNvbnN0IGF0dGFjaG1lbnRCYXNlTnViSGVpZ2h0ID0gYXR0YWNobWVudEhlaWdodCAqIDAuMjtcbiAgICBjb25zdCBhdHRhY2htZW50TWlkZGxlSGVpZ2h0ID0gYXR0YWNobWVudEhlaWdodCAqIDAuNTtcbiAgICBjb25zdCBhdHRhY2htZW50U21hbGxBcmNSYWRpdXMgPSBhdHRhY2htZW50U2hhZnRXaWR0aCAqIDAuNTtcblxuICAgIGNvbnN0IGF0dGFjaG1lbnRPcHRpb25zOiBTdHJpY3RPbWl0PFBhdGhPcHRpb25zLCAnbGVmdCcgfCAncmlnaHQnPiA9IHtcbiAgICAgIGZpbGw6IG9wdGlvbnMuYXR0YWNobWVudEZpbGwsXG4gICAgICBzdHJva2U6IG9wdGlvbnMuYXR0YWNobWVudFN0cm9rZSxcbiAgICAgIGxpbmVXaWR0aDogb3B0aW9ucy5hdHRhY2htZW50TGluZVdpZHRoLFxuICAgICAgbGluZUpvaW46ICdyb3VuZCcsXG4gICAgICB0b3A6IGdyaXBQYXRoLmNlbnRlclkgLSBhdHRhY2htZW50U2hhZnRXaWR0aCAvIDJcbiAgICB9O1xuXG4gICAgY29uc3QgbGVmdEF0dGFjaG1lbnRTaGFwZSA9IG5ldyBTaGFwZSgpXG5cbiAgICAgIC8vIFN0YXJ0cyBhdCBib3R0b20tbGVmdCBhbmQgcHJvY2VlZHMgY2xvY2t3aXNlXG4gICAgICAubW92ZVRvKCAwLCBhdHRhY2htZW50SGVpZ2h0IClcbiAgICAgIC5saW5lVG9SZWxhdGl2ZSggYXR0YWNobWVudEJhc2VOdWJXaWR0aCwgLWF0dGFjaG1lbnRCYXNlTnViSGVpZ2h0IClcbiAgICAgIC5saW5lVG9SZWxhdGl2ZSggMCwgLWF0dGFjaG1lbnRNaWRkbGVIZWlnaHQgKVxuXG4gICAgICAvLyBUaGUgbWFpbiBhcmMgYXQgdGhlIHRvcCBsZWZ0IG9mIHRoZSBhdHRhY2htZW50XG4gICAgICAuYXJjKFxuICAgICAgICBhdHRhY2htZW50U2hhZnRXaWR0aCArIGF0dGFjaG1lbnRCYXNlTnViV2lkdGggKyBhdHRhY2htZW50U21hbGxBcmNSYWRpdXMsXG4gICAgICAgIGF0dGFjaG1lbnRIZWlnaHQgLSBhdHRhY2htZW50QmFzZU51YkhlaWdodCAtIGF0dGFjaG1lbnRNaWRkbGVIZWlnaHQsXG4gICAgICAgIGF0dGFjaG1lbnRTaGFmdFdpZHRoICsgYXR0YWNobWVudFNtYWxsQXJjUmFkaXVzLFxuICAgICAgICBNYXRoLlBJLFxuICAgICAgICBNYXRoLlBJICogMS41LFxuICAgICAgICBmYWxzZVxuICAgICAgKVxuICAgICAgLmxpbmVUb1JlbGF0aXZlKCAwLCBhdHRhY2htZW50U2hhZnRXaWR0aCApXG5cbiAgICAgIC8vIFRoaXMgaXMgdGhlIHNtYWxsZXIgYXJjIG9uIHRoZSB1bmRlcnNpZGUgb2YgdGhlIGF0dGFjaG1lbnRcbiAgICAgIC5hcmMoXG4gICAgICAgIGF0dGFjaG1lbnRTaGFmdFdpZHRoICsgYXR0YWNobWVudEJhc2VOdWJXaWR0aCArIGF0dGFjaG1lbnRTbWFsbEFyY1JhZGl1cyxcbiAgICAgICAgYXR0YWNobWVudEhlaWdodCAtIGF0dGFjaG1lbnRCYXNlTnViSGVpZ2h0IC0gYXR0YWNobWVudE1pZGRsZUhlaWdodCxcbiAgICAgICAgYXR0YWNobWVudFNtYWxsQXJjUmFkaXVzLFxuICAgICAgICBNYXRoLlBJICogMS41LFxuICAgICAgICBNYXRoLlBJLFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgICAubGluZVRvUmVsYXRpdmUoIDAsIGF0dGFjaG1lbnRNaWRkbGVIZWlnaHQgKVxuICAgICAgLmxpbmVUb1JlbGF0aXZlKCBhdHRhY2htZW50QmFzZU51YldpZHRoLCBhdHRhY2htZW50QmFzZU51YkhlaWdodCApXG4gICAgICAubGluZVRvUmVsYXRpdmUoIC1hdHRhY2htZW50U2hhZnRXaWR0aCAtICggYXR0YWNobWVudEJhc2VOdWJXaWR0aCAqIDIgKSwgMCApXG4gICAgICAuY2xvc2UoKTtcblxuICAgIC8vIGxlZnQgYXR0YWNobWVudFxuICAgIGlmICggb3B0aW9ucy5oYXNMZWZ0QXR0YWNobWVudCApIHtcblxuICAgICAgY29uc3QgbGVmdEF0dGFjaG1lbnRQYXRoID0gbmV3IFBhdGgoIGxlZnRBdHRhY2htZW50U2hhcGUsIGNvbWJpbmVPcHRpb25zPFBhdGhPcHRpb25zPigge1xuICAgICAgICByaWdodDogZ3JpcFBhdGgubGVmdCArIG9wdGlvbnMuZ3JpcExpbmVXaWR0aFxuICAgICAgfSwgYXR0YWNobWVudE9wdGlvbnMgKSApO1xuXG4gICAgICBvcHRpb25zLmNoaWxkcmVuLnVuc2hpZnQoIGxlZnRBdHRhY2htZW50UGF0aCApOyAvLyBwcmVwZW5kIHNvIHRoYXQgYXR0YWNobWVudCBpcyBiZWhpbmQgZ3JpcFxuICAgIH1cblxuICAgIC8vIHJpZ2h0IGF0dGFjaG1lbnQsIGEgbWlycm9yIGltYWdlIG9mIHRoZSBsZWZ0XG4gICAgaWYgKCBvcHRpb25zLmhhc1JpZ2h0QXR0YWNobWVudCApIHtcblxuICAgICAgY29uc3QgcmlnaHRBdHRhY2htZW50U2hhcGUgPSBsZWZ0QXR0YWNobWVudFNoYXBlLnRyYW5zZm9ybWVkKCBNYXRyaXgzLnNjYWxpbmcoIC0xLCAxICkgKTtcblxuICAgICAgLy8gaGFuZGxlIHJpZ2h0IGF0dGFjaG1lbnRcbiAgICAgIGNvbnN0IHJpZ2h0QXR0YWNobWVudFBhdGggPSBuZXcgUGF0aCggcmlnaHRBdHRhY2htZW50U2hhcGUsIGNvbWJpbmVPcHRpb25zPFBhdGhPcHRpb25zPigge1xuICAgICAgICBsZWZ0OiBncmlwUGF0aC5yaWdodCAtIG9wdGlvbnMuZ3JpcExpbmVXaWR0aFxuICAgICAgfSwgYXR0YWNobWVudE9wdGlvbnMgKSApO1xuXG4gICAgICBvcHRpb25zLmNoaWxkcmVuLnVuc2hpZnQoIHJpZ2h0QXR0YWNobWVudFBhdGggKTsgIC8vIHByZXBlbmQgc28gdGhhdCBhdHRhY2htZW50IGlzIGJlaGluZCBncmlwXG4gICAgfVxuXG4gICAgc3VwZXIoIG9wdGlvbnMgKTtcblxuICAgIHRoaXMuZGlzcG9zZUhhbmRsZU5vZGUgPSAoKSA9PiB7XG4gICAgICBncmlwQmFzZUNvbG9yUHJvcGVydHkuZGlzcG9zZSgpO1xuICAgICAgYnJpZ2h0ZXJDb2xvclByb3BlcnR5LmRpc3Bvc2UoKTtcbiAgICAgIGRhcmtlckNvbG9yUHJvcGVydHkuZGlzcG9zZSgpO1xuICAgIH07XG5cbiAgICAvLyBzdXBwb3J0IGZvciBiaW5kZXIgZG9jdW1lbnRhdGlvbiwgc3RyaXBwZWQgb3V0IGluIGJ1aWxkcyBhbmQgb25seSBydW5zIHdoZW4gP2JpbmRlciBpcyBzcGVjaWZpZWRcbiAgICBhc3NlcnQgJiYgd2luZG93LnBoZXQ/LmNoaXBwZXI/LnF1ZXJ5UGFyYW1ldGVycz8uYmluZGVyICYmIEluc3RhbmNlUmVnaXN0cnkucmVnaXN0ZXJEYXRhVVJMKCAnc2NlbmVyeS1waGV0JywgJ0hhbmRsZU5vZGUnLCB0aGlzICk7XG4gIH1cblxuICBwdWJsaWMgb3ZlcnJpZGUgZGlzcG9zZSgpOiB2b2lkIHtcbiAgICB0aGlzLmRpc3Bvc2VIYW5kbGVOb2RlKCk7XG4gICAgc3VwZXIuZGlzcG9zZSgpO1xuICB9XG59XG5cbi8qKlxuICogQWRkIGFuIFwidXAvZG93blwiIGNvbWJpbmF0aW9uIHRvIGVpdGhlciB0aGUgdG9wIG9yIGJvdHRvbSBvZiB0aGUgZ3JpcC5cbiAqIEBwYXJhbSBzaGFwZSAtIHRoZSBzaGFwZSB0byBhcHBlbmQgdG9cbiAqIEBwYXJhbSBzaWduIC0gKzEgZm9yIHRvcCBzaWRlIG9mIGdyaXAsIC0xIGZvciBib3R0b20gc2lkZSBvZiBncmlwXG4gKi9cbmZ1bmN0aW9uIGFkZEdyaXBJbmRlbnQoIHNoYXBlOiBTaGFwZSwgc2lnbjogMSB8IC0xICk6IHZvaWQge1xuXG4gIC8vIGNvbnRyb2wgcG9pbnRzIGZvciBjdWJpYyBjdXJ2ZSBzaGFwZSBvbiBncmlwXG4gIC8vIGVhY2ggc2luZ2xlLWZpbmdlciBpbmRlbnQgaXMgbWFkZSBvZiB0d28gY3ViaWMgY3VydmVzIHRoYXQgYXJlIG1pcnJvcmVkIG92ZXIgdGhlIHktYXhpc1xuICBjb25zdCBjb250cm9sUG9pbnQxWCA9IEdSSVBfU0lOR0xFX0ZJTkdFUl9JTkRFTlRfSEFMRl9XSURUSCAvIDI7XG4gIGNvbnN0IGNvbnRyb2xQb2ludDFZID0gMDtcbiAgY29uc3QgY29udHJvbFBvaW50MlggPSBHUklQX1NJTkdMRV9GSU5HRVJfSU5ERU5UX0hBTEZfV0lEVEggLyA0O1xuICBjb25zdCBjb250cm9sUG9pbnQyWSA9IEdSSVBfU0lOR0xFX0ZJTkdFUl9JTkRFTlRfREVQVEg7XG5cbiAgLy8gdGhpcyBpcyBhIGdyaXAgaW5kZW50XG4gIHNoYXBlLmN1YmljQ3VydmVUb1JlbGF0aXZlKFxuICAgIHNpZ24gKiBjb250cm9sUG9pbnQxWCxcbiAgICBzaWduICogY29udHJvbFBvaW50MVksXG4gICAgc2lnbiAqIGNvbnRyb2xQb2ludDJYLFxuICAgIHNpZ24gKiBjb250cm9sUG9pbnQyWSxcbiAgICBzaWduICogR1JJUF9TSU5HTEVfRklOR0VSX0lOREVOVF9IQUxGX1dJRFRILFxuICAgIHNpZ24gKiBHUklQX1NJTkdMRV9GSU5HRVJfSU5ERU5UX0RFUFRIIClcbiAgICAuY3ViaWNDdXJ2ZVRvUmVsYXRpdmUoXG4gICAgICBzaWduICogKCBHUklQX1NJTkdMRV9GSU5HRVJfSU5ERU5UX0hBTEZfV0lEVEggLSBjb250cm9sUG9pbnQyWCApLFxuICAgICAgc2lnbiAqIC1jb250cm9sUG9pbnQxWSxcbiAgICAgIHNpZ24gKiAoIEdSSVBfU0lOR0xFX0ZJTkdFUl9JTkRFTlRfSEFMRl9XSURUSCAtIGNvbnRyb2xQb2ludDFYICksXG4gICAgICBzaWduICogLWNvbnRyb2xQb2ludDJZLFxuICAgICAgc2lnbiAqIEdSSVBfU0lOR0xFX0ZJTkdFUl9JTkRFTlRfSEFMRl9XSURUSCxcbiAgICAgIHNpZ24gKiAtR1JJUF9TSU5HTEVfRklOR0VSX0lOREVOVF9ERVBUSCApO1xufVxuXG5zY2VuZXJ5UGhldC5yZWdpc3RlciggJ0hhbmRsZU5vZGUnLCBIYW5kbGVOb2RlICk7Il0sIm5hbWVzIjpbIk1hdHJpeDMiLCJTaGFwZSIsIkluc3RhbmNlUmVnaXN0cnkiLCJvcHRpb25pemUiLCJjb21iaW5lT3B0aW9ucyIsIkxpbmVhckdyYWRpZW50IiwiTm9kZSIsIlBhaW50Q29sb3JQcm9wZXJ0eSIsIlBhdGgiLCJzY2VuZXJ5UGhldCIsIkdSSVBfV0lEVEgiLCJHUklQX0hFSUdIVCIsIkdSSVBfQ09STkVSX1JBRElVUyIsIkdSSVBfRU5EX1BBRCIsIkdSSVBfU0lOR0xFX0ZJTkdFUl9JTkRFTlRfREVQVEgiLCJHUklQX1NJTkdMRV9GSU5HRVJfSU5ERU5UX0hBTEZfV0lEVEgiLCJIYW5kbGVOb2RlIiwiZGlzcG9zZSIsImRpc3Bvc2VIYW5kbGVOb2RlIiwicHJvdmlkZWRPcHRpb25zIiwid2luZG93Iiwib3B0aW9ucyIsImdyaXBCYXNlQ29sb3IiLCJncmlwU3Ryb2tlIiwiZ3JpcExpbmVXaWR0aCIsImF0dGFjaG1lbnRGaWxsIiwiYXR0YWNobWVudFN0cm9rZSIsImF0dGFjaG1lbnRMaW5lV2lkdGgiLCJoYXNMZWZ0QXR0YWNobWVudCIsImhhc1JpZ2h0QXR0YWNobWVudCIsImFzc2VydCIsImdyaXBTaGFwZSIsIm1vdmVUbyIsImxpbmVUbyIsImFyYyIsIk1hdGgiLCJQSSIsImxpbmVUb1JlbGF0aXZlIiwiYWRkR3JpcEluZGVudCIsImNsb3NlIiwiZ3JpcEJhc2VDb2xvclByb3BlcnR5IiwiYnJpZ2h0ZXJDb2xvclByb3BlcnR5IiwibHVtaW5hbmNlRmFjdG9yIiwiZGFya2VyQ29sb3JQcm9wZXJ0eSIsImdyaXBQYXRoIiwibGluZVdpZHRoIiwic3Ryb2tlIiwiZmlsbCIsImFkZENvbG9yU3RvcCIsImNoaWxkcmVuIiwiYXR0YWNobWVudFNoYWZ0V2lkdGgiLCJhdHRhY2htZW50SGVpZ2h0IiwiYXR0YWNobWVudEJhc2VOdWJXaWR0aCIsImF0dGFjaG1lbnRCYXNlTnViSGVpZ2h0IiwiYXR0YWNobWVudE1pZGRsZUhlaWdodCIsImF0dGFjaG1lbnRTbWFsbEFyY1JhZGl1cyIsImF0dGFjaG1lbnRPcHRpb25zIiwibGluZUpvaW4iLCJ0b3AiLCJjZW50ZXJZIiwibGVmdEF0dGFjaG1lbnRTaGFwZSIsImxlZnRBdHRhY2htZW50UGF0aCIsInJpZ2h0IiwibGVmdCIsInVuc2hpZnQiLCJyaWdodEF0dGFjaG1lbnRTaGFwZSIsInRyYW5zZm9ybWVkIiwic2NhbGluZyIsInJpZ2h0QXR0YWNobWVudFBhdGgiLCJwaGV0IiwiY2hpcHBlciIsInF1ZXJ5UGFyYW1ldGVycyIsImJpbmRlciIsInJlZ2lzdGVyRGF0YVVSTCIsInNoYXBlIiwic2lnbiIsImNvbnRyb2xQb2ludDFYIiwiY29udHJvbFBvaW50MVkiLCJjb250cm9sUG9pbnQyWCIsImNvbnRyb2xQb2ludDJZIiwiY3ViaWNDdXJ2ZVRvUmVsYXRpdmUiLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6IkFBQUEsc0RBQXNEO0FBRXREOzs7Ozs7Q0FNQyxHQUVELE9BQU9BLGFBQWEsMEJBQTBCO0FBQzlDLFNBQVNDLEtBQUssUUFBUSwyQkFBMkI7QUFDakQsT0FBT0Msc0JBQXNCLHVEQUF1RDtBQUNwRixPQUFPQyxhQUFhQyxjQUFjLFFBQVEsa0NBQWtDO0FBRTVFLFNBQVNDLGNBQWMsRUFBRUMsSUFBSSxFQUFlQyxrQkFBa0IsRUFBRUMsSUFBSSxRQUE2Qiw4QkFBOEI7QUFDL0gsT0FBT0MsaUJBQWlCLG1CQUFtQjtBQUUzQyxZQUFZO0FBQ1osYUFBYTtBQUNiLE1BQU1DLGFBQWE7QUFDbkIsTUFBTUMsY0FBYztBQUNwQixNQUFNQyxxQkFBcUJGLGFBQWE7QUFDeEMsTUFBTUcsZUFBZUgsYUFBYSxNQUFNLG9FQUFvRTtBQUM1RyxNQUFNSSxrQ0FBa0NILGNBQWM7QUFDdEQsTUFBTUksdUNBQXVDLEFBQUVMLENBQUFBLGFBQWFFLHFCQUFxQixJQUFJQyxlQUFlLENBQUEsSUFBTTtBQW1CM0YsSUFBQSxBQUFNRyxhQUFOLE1BQU1BLG1CQUFtQlY7SUEySnRCVyxVQUFnQjtRQUM5QixJQUFJLENBQUNDLGlCQUFpQjtRQUN0QixLQUFLLENBQUNEO0lBQ1I7SUExSkEsWUFBb0JFLGVBQW1DLENBQUc7WUFvSjlDQyxzQ0FBQUEsc0JBQUFBO1FBbEpWLE1BQU1DLFVBQVVsQixZQUEwRDtZQUV4RSxjQUFjO1lBQ2RtQixlQUFlO1lBQ2ZDLFlBQVk7WUFDWkMsZUFBZTtZQUNmQyxnQkFBZ0I7WUFDaEJDLGtCQUFrQjtZQUNsQkMscUJBQXFCO1lBQ3JCQyxtQkFBbUI7WUFDbkJDLG9CQUFvQjtRQUN0QixHQUFHVjtRQUVIVyxVQUFVQSxPQUFRVCxRQUFRTyxpQkFBaUIsSUFBSVAsUUFBUVEsa0JBQWtCLEVBQUU7UUFFM0UsbURBQW1EO1FBQ25ELDBEQUEwRDtRQUMxRCxN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