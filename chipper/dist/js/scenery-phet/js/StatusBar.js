// Copyright 2018-2024, University of Colorado Boulder
/**
 * StatusBar is the base class for the status bar that appears at the top of games. It sizes itself to match the bounds
 * of the browser window (the visible bounds) and float to either the top of the browser window or the layout bounds.
 * Subclasses are responsible for adding UI components to the bar.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */ import Property from '../../axon/js/Property.js';
import Bounds2 from '../../dot/js/Bounds2.js';
import optionize from '../../phet-core/js/optionize.js';
import PhetFont from '../../scenery-phet/js/PhetFont.js';
import { Color, Node, Rectangle } from '../../scenery/js/imports.js';
import sceneryPhet from './sceneryPhet.js';
let StatusBar = class StatusBar extends Node {
    dispose() {
        this.disposeStatusBar();
        super.dispose();
    }
    /**
   * @param layoutBounds
   * @param visibleBoundsProperty - visible bounds of the parent ScreenView
   * @param [providedOptions]
   */ constructor(layoutBounds, visibleBoundsProperty, providedOptions){
        const options = optionize()({
            // StatusBarOptions
            barFill: 'lightGray',
            barStroke: null,
            barHeight: 50,
            xMargin: 10,
            yMargin: 8,
            floatToTop: false,
            dynamicAlignment: true
        }, providedOptions);
        // size will be set by visibleBoundsListener
        const barNode = new Rectangle({
            fill: options.barFill,
            stroke: options.barStroke
        });
        // Support decoration, with the bar behind everything else
        const rectangles = [
            barNode
        ];
        options.children = rectangles.concat(options.children || []);
        super(options);
        // for layout of UI components on the status bar, compensated for margins
        const positioningBoundsProperty = new Property(Bounds2.EVERYTHING, {
            valueType: Bounds2
        });
        this.positioningBoundsProperty = positioningBoundsProperty;
        const visibleBoundsListener = (visibleBounds)=>{
            // Resize and position the bar to match the visible bounds.
            const y = options.floatToTop ? visibleBounds.top : layoutBounds.top;
            barNode.setRect(visibleBounds.minX, y, visibleBounds.width, options.barHeight);
            // Update the bounds inside which components on the status bar should be positioned.
            positioningBoundsProperty.value = new Bounds2((options.dynamicAlignment ? barNode.left : layoutBounds.minX) + options.xMargin, barNode.top, (options.dynamicAlignment ? barNode.right : layoutBounds.maxX) - options.xMargin, barNode.bottom);
        };
        visibleBoundsProperty.link(visibleBoundsListener);
        this.disposeStatusBar = ()=>{
            if (visibleBoundsProperty.hasListener(visibleBoundsListener)) {
                visibleBoundsProperty.unlink(visibleBoundsListener);
            }
        };
    }
};
StatusBar.DEFAULT_FONT = new PhetFont(20);
StatusBar.DEFAULT_TEXT_FILL = Color.BLACK;
sceneryPhet.register('StatusBar', StatusBar);
export default StatusBar;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9TdGF0dXNCYXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTgtMjAyNCwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXG5cbi8qKlxuICogU3RhdHVzQmFyIGlzIHRoZSBiYXNlIGNsYXNzIGZvciB0aGUgc3RhdHVzIGJhciB0aGF0IGFwcGVhcnMgYXQgdGhlIHRvcCBvZiBnYW1lcy4gSXQgc2l6ZXMgaXRzZWxmIHRvIG1hdGNoIHRoZSBib3VuZHNcbiAqIG9mIHRoZSBicm93c2VyIHdpbmRvdyAodGhlIHZpc2libGUgYm91bmRzKSBhbmQgZmxvYXQgdG8gZWl0aGVyIHRoZSB0b3Agb2YgdGhlIGJyb3dzZXIgd2luZG93IG9yIHRoZSBsYXlvdXQgYm91bmRzLlxuICogU3ViY2xhc3NlcyBhcmUgcmVzcG9uc2libGUgZm9yIGFkZGluZyBVSSBjb21wb25lbnRzIHRvIHRoZSBiYXIuXG4gKlxuICogQGF1dGhvciBDaHJpcyBNYWxsZXkgKFBpeGVsWm9vbSwgSW5jLilcbiAqL1xuXG5pbXBvcnQgUHJvcGVydHkgZnJvbSAnLi4vLi4vYXhvbi9qcy9Qcm9wZXJ0eS5qcyc7XG5pbXBvcnQgVFJlYWRPbmx5UHJvcGVydHkgZnJvbSAnLi4vLi4vYXhvbi9qcy9UUmVhZE9ubHlQcm9wZXJ0eS5qcyc7XG5pbXBvcnQgQm91bmRzMiBmcm9tICcuLi8uLi9kb3QvanMvQm91bmRzMi5qcyc7XG5pbXBvcnQgb3B0aW9uaXplIGZyb20gJy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xuaW1wb3J0IFBoZXRGb250IGZyb20gJy4uLy4uL3NjZW5lcnktcGhldC9qcy9QaGV0Rm9udC5qcyc7XG5pbXBvcnQgeyBDb2xvciwgTm9kZSwgTm9kZU9wdGlvbnMsIFJlY3RhbmdsZSwgVENvbG9yIH0gZnJvbSAnLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcbmltcG9ydCBzY2VuZXJ5UGhldCBmcm9tICcuL3NjZW5lcnlQaGV0LmpzJztcblxudHlwZSBTZWxmT3B0aW9ucyA9IHtcbiAgYmFyRmlsbD86IFRDb2xvcjtcbiAgYmFyU3Ryb2tlPzogVENvbG9yO1xuICBiYXJIZWlnaHQ/OiBudW1iZXI7XG4gIHhNYXJnaW4/OiBudW1iZXI7XG4gIHlNYXJnaW4/OiBudW1iZXI7XG5cbiAgLy8gdHJ1ZTogZmxvYXQgYmFyIHRvIHRvcCBvZiB2aXNpYmxlIGJvdW5kc1xuICAvLyBmYWxzZTogYmFyIGF0IHRvcCBvZiBsYXlvdXRCb3VuZHNcbiAgZmxvYXRUb1RvcD86IGJvb2xlYW47XG5cbiAgLy8gdHJ1ZToga2VlcHMgdGhpbmdzIG9uIHRoZSBzdGF0dXMgYmFyIGFsaWduZWQgd2l0aCBsZWZ0IGFuZCByaWdodCBlZGdlcyBvZiB3aW5kb3cgYm91bmRzIChha2EgdmlzaWJsZSBib3VuZHMpXG4gIC8vIGZhbHNlOiBrZWVwcyB0aGluZ3Mgb24gdGhlIHN0YXR1cyBiYXIgYWxpZ25lZCB3aXRoIGxlZnQgYW5kIHJpZ2h0IGVkZ2VzIG9mIGxheW91dEJvdW5kc1xuICBkeW5hbWljQWxpZ25tZW50PzogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCB0eXBlIFN0YXR1c0Jhck9wdGlvbnMgPSBTZWxmT3B0aW9ucyAmIE5vZGVPcHRpb25zO1xuXG5jbGFzcyBTdGF0dXNCYXIgZXh0ZW5kcyBOb2RlIHtcblxuICBwcm90ZWN0ZWQgcmVhZG9ubHkgcG9zaXRpb25pbmdCb3VuZHNQcm9wZXJ0eTogVFJlYWRPbmx5UHJvcGVydHk8Qm91bmRzMj47XG4gIHByaXZhdGUgcmVhZG9ubHkgZGlzcG9zZVN0YXR1c0JhcjogKCkgPT4gdm9pZDtcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBERUZBVUxUX0ZPTlQgPSBuZXcgUGhldEZvbnQoIDIwICk7XG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgREVGQVVMVF9URVhUX0ZJTEwgPSBDb2xvci5CTEFDSztcblxuICAvKipcbiAgICogQHBhcmFtIGxheW91dEJvdW5kc1xuICAgKiBAcGFyYW0gdmlzaWJsZUJvdW5kc1Byb3BlcnR5IC0gdmlzaWJsZSBib3VuZHMgb2YgdGhlIHBhcmVudCBTY3JlZW5WaWV3XG4gICAqIEBwYXJhbSBbcHJvdmlkZWRPcHRpb25zXVxuICAgKi9cbiAgcHVibGljIGNvbnN0cnVjdG9yKCBsYXlvdXRCb3VuZHM6IEJvdW5kczIsIHZpc2libGVCb3VuZHNQcm9wZXJ0eTogVFJlYWRPbmx5UHJvcGVydHk8Qm91bmRzMj4sIHByb3ZpZGVkT3B0aW9ucz86IFN0YXR1c0Jhck9wdGlvbnMgKSB7XG5cbiAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uaXplPFN0YXR1c0Jhck9wdGlvbnMsIFNlbGZPcHRpb25zLCBOb2RlT3B0aW9ucz4oKSgge1xuXG4gICAgICAvLyBTdGF0dXNCYXJPcHRpb25zXG4gICAgICBiYXJGaWxsOiAnbGlnaHRHcmF5JyxcbiAgICAgIGJhclN0cm9rZTogbnVsbCxcbiAgICAgIGJhckhlaWdodDogNTAsXG4gICAgICB4TWFyZ2luOiAxMCxcbiAgICAgIHlNYXJnaW46IDgsXG4gICAgICBmbG9hdFRvVG9wOiBmYWxzZSxcbiAgICAgIGR5bmFtaWNBbGlnbm1lbnQ6IHRydWVcbiAgICB9LCBwcm92aWRlZE9wdGlvbnMgKTtcblxuICAgIC8vIHNpemUgd2lsbCBiZSBzZXQgYnkgdmlzaWJsZUJvdW5kc0xpc3RlbmVyXG4gICAgY29uc3QgYmFyTm9kZSA9IG5ldyBSZWN0YW5nbGUoIHtcbiAgICAgIGZpbGw6IG9wdGlvbnMuYmFyRmlsbCxcbiAgICAgIHN0cm9rZTogb3B0aW9ucy5iYXJTdHJva2VcbiAgICB9ICk7XG5cbiAgICAvLyBTdXBwb3J0IGRlY29yYXRpb24sIHdpdGggdGhlIGJhciBiZWhpbmQgZXZlcnl0aGluZyBlbHNlXG4gICAgY29uc3QgcmVjdGFuZ2xlczogTm9kZVtdID0gWyBiYXJOb2RlIF07XG4gICAgb3B0aW9ucy5jaGlsZHJlbiA9IHJlY3RhbmdsZXMuY29uY2F0KCBvcHRpb25zLmNoaWxkcmVuIHx8IFtdICk7XG5cbiAgICBzdXBlciggb3B0aW9ucyApO1xuXG4gICAgLy8gZm9yIGxheW91dCBvZiBVSSBjb21wb25lbnRzIG9uIHRoZSBzdGF0dXMgYmFyLCBjb21wZW5zYXRlZCBmb3IgbWFyZ2luc1xuICAgIGNvbnN0IHBvc2l0aW9uaW5nQm91bmRzUHJvcGVydHkgPSBuZXcgUHJvcGVydHkoIEJvdW5kczIuRVZFUllUSElORywge1xuICAgICAgdmFsdWVUeXBlOiBCb3VuZHMyXG4gICAgfSApO1xuICAgIHRoaXMucG9zaXRpb25pbmdCb3VuZHNQcm9wZXJ0eSA9IHBvc2l0aW9uaW5nQm91bmRzUHJvcGVydHk7XG5cbiAgICBjb25zdCB2aXNpYmxlQm91bmRzTGlzdGVuZXIgPSAoIHZpc2libGVCb3VuZHM6IEJvdW5kczIgKSA9PiB7XG5cbiAgICAgIC8vIFJlc2l6ZSBhbmQgcG9zaXRpb24gdGhlIGJhciB0byBtYXRjaCB0aGUgdmlzaWJsZSBib3VuZHMuXG4gICAgICBjb25zdCB5ID0gKCBvcHRpb25zLmZsb2F0VG9Ub3AgKSA/IHZpc2libGVCb3VuZHMudG9wIDogbGF5b3V0Qm91bmRzLnRvcDtcbiAgICAgIGJhck5vZGUuc2V0UmVjdCggdmlzaWJsZUJvdW5kcy5taW5YLCB5LCB2aXNpYmxlQm91bmRzLndpZHRoLCBvcHRpb25zLmJhckhlaWdodCApO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIGJvdW5kcyBpbnNpZGUgd2hpY2ggY29tcG9uZW50cyBvbiB0aGUgc3RhdHVzIGJhciBzaG91bGQgYmUgcG9zaXRpb25lZC5cbiAgICAgIHBvc2l0aW9uaW5nQm91bmRzUHJvcGVydHkudmFsdWUgPSBuZXcgQm91bmRzMihcbiAgICAgICAgKCAoIG9wdGlvbnMuZHluYW1pY0FsaWdubWVudCApID8gYmFyTm9kZS5sZWZ0IDogbGF5b3V0Qm91bmRzLm1pblggKSArIG9wdGlvbnMueE1hcmdpbixcbiAgICAgICAgYmFyTm9kZS50b3AsXG4gICAgICAgICggKCBvcHRpb25zLmR5bmFtaWNBbGlnbm1lbnQgKSA/IGJhck5vZGUucmlnaHQgOiBsYXlvdXRCb3VuZHMubWF4WCApIC0gb3B0aW9ucy54TWFyZ2luLFxuICAgICAgICBiYXJOb2RlLmJvdHRvbVxuICAgICAgKTtcbiAgICB9O1xuICAgIHZpc2libGVCb3VuZHNQcm9wZXJ0eS5saW5rKCB2aXNpYmxlQm91bmRzTGlzdGVuZXIgKTtcblxuICAgIHRoaXMuZGlzcG9zZVN0YXR1c0JhciA9ICgpID0+IHtcbiAgICAgIGlmICggdmlzaWJsZUJvdW5kc1Byb3BlcnR5Lmhhc0xpc3RlbmVyKCB2aXNpYmxlQm91bmRzTGlzdGVuZXIgKSApIHtcbiAgICAgICAgdmlzaWJsZUJvdW5kc1Byb3BlcnR5LnVubGluayggdmlzaWJsZUJvdW5kc0xpc3RlbmVyICk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyBvdmVycmlkZSBkaXNwb3NlKCk6IHZvaWQge1xuICAgIHRoaXMuZGlzcG9zZVN0YXR1c0JhcigpO1xuICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgfVxufVxuXG5zY2VuZXJ5UGhldC5yZWdpc3RlciggJ1N0YXR1c0JhcicsIFN0YXR1c0JhciApO1xuZXhwb3J0IGRlZmF1bHQgU3RhdHVzQmFyOyJdLCJuYW1lcyI6WyJQcm9wZXJ0eSIsIkJvdW5kczIiLCJvcHRpb25pemUiLCJQaGV0Rm9udCIsIkNvbG9yIiwiTm9kZSIsIlJlY3RhbmdsZSIsInNjZW5lcnlQaGV0IiwiU3RhdHVzQmFyIiwiZGlzcG9zZSIsImRpc3Bvc2VTdGF0dXNCYXIiLCJsYXlvdXRCb3VuZHMiLCJ2aXNpYmxlQm91bmRzUHJvcGVydHkiLCJwcm92aWRlZE9wdGlvbnMiLCJvcHRpb25zIiwiYmFyRmlsbCIsImJhclN0cm9rZSIsImJhckhlaWdodCIsInhNYXJnaW4iLCJ5TWFyZ2luIiwiZmxvYXRUb1RvcCIsImR5bmFtaWNBbGlnbm1lbnQiLCJiYXJOb2RlIiwiZmlsbCIsInN0cm9rZSIsInJlY3RhbmdsZXMiLCJjaGlsZHJlbiIsImNvbmNhdCIsInBvc2l0aW9uaW5nQm91bmRzUHJvcGVydHkiLCJFVkVSWVRISU5HIiwidmFsdWVUeXBlIiwidmlzaWJsZUJvdW5kc0xpc3RlbmVyIiwidmlzaWJsZUJvdW5kcyIsInkiLCJ0b3AiLCJzZXRSZWN0IiwibWluWCIsIndpZHRoIiwidmFsdWUiLCJsZWZ0IiwicmlnaHQiLCJtYXhYIiwiYm90dG9tIiwibGluayIsImhhc0xpc3RlbmVyIiwidW5saW5rIiwiREVGQVVMVF9GT05UIiwiREVGQVVMVF9URVhUX0ZJTEwiLCJCTEFDSyIsInJlZ2lzdGVyIl0sIm1hcHBpbmdzIjoiQUFBQSxzREFBc0Q7QUFFdEQ7Ozs7OztDQU1DLEdBRUQsT0FBT0EsY0FBYyw0QkFBNEI7QUFFakQsT0FBT0MsYUFBYSwwQkFBMEI7QUFDOUMsT0FBT0MsZUFBZSxrQ0FBa0M7QUFDeEQsT0FBT0MsY0FBYyxvQ0FBb0M7QUFDekQsU0FBU0MsS0FBSyxFQUFFQyxJQUFJLEVBQWVDLFNBQVMsUUFBZ0IsOEJBQThCO0FBQzFGLE9BQU9DLGlCQUFpQixtQkFBbUI7QUFvQjNDLElBQUEsQUFBTUMsWUFBTixNQUFNQSxrQkFBa0JIO0lBbUVOSSxVQUFnQjtRQUM5QixJQUFJLENBQUNDLGdCQUFnQjtRQUNyQixLQUFLLENBQUNEO0lBQ1I7SUEvREE7Ozs7R0FJQyxHQUNELFlBQW9CRSxZQUFxQixFQUFFQyxxQkFBaUQsRUFBRUMsZUFBa0MsQ0FBRztRQUVqSSxNQUFNQyxVQUFVWixZQUF5RDtZQUV2RSxtQkFBbUI7WUFDbkJhLFNBQVM7WUFDVEMsV0FBVztZQUNYQyxXQUFXO1lBQ1hDLFNBQVM7WUFDVEMsU0FBUztZQUNUQyxZQUFZO1lBQ1pDLGtCQUFrQjtRQUNwQixHQUFHUjtRQUVILDRDQUE0QztRQUM1QyxNQUFNUyxVQUFVLElBQUloQixVQUFXO1lBQzdCaUIsTUFBTVQsUUFBUUMsT0FBTztZQUNyQlMsUUFBUVYsUUFBUUUsU0FBUztRQUMzQjtRQUVBLDBEQUEwRDtRQUMxRCxNQUFNUyxhQUFxQjtZQUFFSDtTQUFTO1FBQ3RDUixRQUFRWSxRQUFRLEdBQUdELFdBQVdFLE1BQU0sQ0FBRWIsUUFBUVksUUFBUSxJQUFJLEVBQUU7UUFFNUQsS0FBSyxDQUFFWjtRQUVQLHlFQUF5RTtRQUN6RSxNQUFNYyw0QkFBNEIsSUFBSTVCLFNBQVVDLFFBQVE0QixVQUFVLEVBQUU7WUFDbEVDLFdBQVc3QjtRQUNiO1FBQ0EsSUFBSSxDQUFDMkIseUJBQXlCLEdBQUdBO1FBRWpDLE1BQU1HLHdCQUF3QixDQUFFQztZQUU5QiwyREFBMkQ7WUFDM0QsTUFBTUMsSUFBSSxBQUFFbkIsUUFBUU0sVUFBVSxHQUFLWSxjQUFjRSxHQUFHLEdBQUd2QixhQUFhdUIsR0FBRztZQUN2RVosUUFBUWEsT0FBTyxDQUFFSCxjQUFjSSxJQUFJLEVBQUVILEdBQUdELGNBQWNLLEtBQUssRUFBRXZCLFFBQVFHLFNBQVM7WUFFOUUsb0ZBQW9GO1lBQ3BGVywwQkFBMEJVLEtBQUssR0FBRyxJQUFJckMsUUFDcEMsQUFBRSxDQUFBLEFBQUVhLFFBQVFPLGdCQUFnQixHQUFLQyxRQUFRaUIsSUFBSSxHQUFHNUIsYUFBYXlCLElBQUksQUFBRCxJQUFNdEIsUUFBUUksT0FBTyxFQUNyRkksUUFBUVksR0FBRyxFQUNYLEFBQUUsQ0FBQSxBQUFFcEIsUUFBUU8sZ0JBQWdCLEdBQUtDLFFBQVFrQixLQUFLLEdBQUc3QixhQUFhOEIsSUFBSSxBQUFELElBQU0zQixRQUFRSSxPQUFPLEVBQ3RGSSxRQUFRb0IsTUFBTTtRQUVsQjtRQUNBOUIsc0JBQXNCK0IsSUFBSSxDQUFFWjtRQUU1QixJQUFJLENBQUNyQixnQkFBZ0IsR0FBRztZQUN0QixJQUFLRSxzQkFBc0JnQyxXQUFXLENBQUViLHdCQUEwQjtnQkFDaEVuQixzQkFBc0JpQyxNQUFNLENBQUVkO1lBQ2hDO1FBQ0Y7SUFDRjtBQU1GO0FBdkVNdkIsVUFJbUJzQyxlQUFlLElBQUkzQyxTQUFVO0FBSmhESyxVQUttQnVDLG9CQUFvQjNDLE1BQU00QyxLQUFLO0FBb0V4RHpDLFlBQVkwQyxRQUFRLENBQUUsYUFBYXpDO0FBQ25DLGVBQWVBLFVBQVUifQ==