// Copyright 2022-2024, University of Colorado Boulder
/**
 * Demo for Keypad
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */ import Property from '../../../../axon/js/Property.js';
import { HBox, Text, VBox } from '../../../../scenery/js/imports.js';
import RectangularPushButton from '../../../../sun/js/buttons/RectangularPushButton.js';
import Checkbox from '../../../../sun/js/Checkbox.js';
import Keypad from '../../keypad/Keypad.js';
import PhetFont from '../../PhetFont.js';
export default function demoKeypad(layoutBounds) {
    const integerKeyPad = new Keypad(Keypad.PositiveAndNegativeIntegerLayout, {
        buttonWidth: 35,
        buttonHeight: 35,
        accumulatorOptions: {
            maxDigits: 5
        }
    });
    const integerStringRepresentation = new Text('', {
        font: new PhetFont(24)
    });
    const integerValueRepresentation = new Text('', {
        font: new PhetFont(24)
    });
    integerKeyPad.stringProperty.link((value)=>{
        integerStringRepresentation.string = `string: ${value}`;
    });
    integerKeyPad.valueProperty.link((value)=>{
        integerValueRepresentation.string = `number: ${value}`;
    });
    const integerClearButton = new RectangularPushButton({
        content: new Text('Clear Keypad'),
        listener: ()=>integerKeyPad.clear()
    });
    // For testing clearOnNextKeyPress feature
    const integerClearOnNextKeyPressProperty = new Property(integerKeyPad.getClearOnNextKeyPress());
    const integerClearOnNextKeyPressCheckbox = new Checkbox(integerClearOnNextKeyPressProperty, new Text('Clear On Next Key Press'));
    integerClearOnNextKeyPressProperty.link((clearOnNextKeyPress)=>integerKeyPad.setClearOnNextKeyPress(clearOnNextKeyPress));
    integerKeyPad.valueProperty.link((value)=>{
        integerClearOnNextKeyPressProperty.value = integerKeyPad.getClearOnNextKeyPress();
    });
    const integerVBox = new VBox({
        spacing: 30,
        resize: false,
        align: 'left',
        children: [
            integerValueRepresentation,
            integerStringRepresentation,
            integerKeyPad,
            integerClearButton,
            integerClearOnNextKeyPressCheckbox
        ]
    });
    const floatingPointKeyPad = new Keypad(Keypad.PositiveFloatingPointLayout, {
        buttonWidth: 35,
        buttonHeight: 35,
        accumulatorOptions: {
            maxDigits: 4,
            maxDigitsRightOfMantissa: 2
        }
    });
    const floatingPointStringRepresentation = new Text('', {
        font: new PhetFont(24)
    });
    const floatingPointValueRepresentation = new Text('', {
        font: new PhetFont(24)
    });
    floatingPointKeyPad.stringProperty.link((value)=>{
        floatingPointStringRepresentation.string = `string: ${value}`;
    });
    floatingPointKeyPad.valueProperty.link((value)=>{
        floatingPointValueRepresentation.string = `number: ${value}`;
    });
    const floatingPointClearButton = new RectangularPushButton({
        content: new Text('Clear Keypad'),
        listener: ()=>floatingPointKeyPad.clear()
    });
    // For testing clearOnNextKeyPress feature
    const floatingPointClearOnNextKeyPressProperty = new Property(floatingPointKeyPad.getClearOnNextKeyPress());
    const floatingPointClearOnNextKeyPressButton = new Checkbox(floatingPointClearOnNextKeyPressProperty, new Text('Clear On Next Key Press'));
    floatingPointClearOnNextKeyPressProperty.link((clearOnNextKeyPress)=>floatingPointKeyPad.setClearOnNextKeyPress(clearOnNextKeyPress));
    floatingPointKeyPad.valueProperty.link(()=>{
        floatingPointClearOnNextKeyPressProperty.value = floatingPointKeyPad.getClearOnNextKeyPress();
    });
    const floatingPointVBox = new VBox({
        spacing: 30,
        resize: false,
        align: 'left',
        children: [
            floatingPointValueRepresentation,
            floatingPointStringRepresentation,
            floatingPointKeyPad,
            floatingPointClearButton,
            floatingPointClearOnNextKeyPressButton
        ]
    });
    const positiveAndNegativeFloatingPointKeyPad = new Keypad(Keypad.PositiveAndNegativeFloatingPointLayout, {
        buttonWidth: 35,
        buttonHeight: 35,
        accumulatorOptions: {
            maxDigits: 4,
            maxDigitsRightOfMantissa: 2
        }
    });
    const positiveAndNegativeFloatingPointStringRepresentation = new Text('', {
        font: new PhetFont(24)
    });
    const positiveAndNegativeFloatingPointValueRepresentation = new Text('', {
        font: new PhetFont(24)
    });
    positiveAndNegativeFloatingPointKeyPad.stringProperty.link((value)=>{
        positiveAndNegativeFloatingPointStringRepresentation.string = `string: ${value}`;
    });
    positiveAndNegativeFloatingPointKeyPad.valueProperty.link((value)=>{
        positiveAndNegativeFloatingPointValueRepresentation.string = `number: ${value}`;
    });
    const positiveAndNegativeFloatingPointClearButton = new RectangularPushButton({
        content: new Text('Clear Keypad'),
        listener: ()=>positiveAndNegativeFloatingPointKeyPad.clear()
    });
    // For testing clearOnNextKeyPress feature
    const positiveAndNegativeFloatingPointClearOnNextKeyPressProperty = new Property(positiveAndNegativeFloatingPointKeyPad.getClearOnNextKeyPress());
    const positiveAndNegativeFloatingPointClearOnNextKeyPressCheckbox = new Checkbox(positiveAndNegativeFloatingPointClearOnNextKeyPressProperty, new Text('Clear On Next Key Press'));
    function handlePositiveAndNegativeFloatingPointClearOnNextKeyPressChanged(clearOnNextKeyPress) {
        positiveAndNegativeFloatingPointKeyPad.setClearOnNextKeyPress(clearOnNextKeyPress);
    }
    positiveAndNegativeFloatingPointClearOnNextKeyPressProperty.link(handlePositiveAndNegativeFloatingPointClearOnNextKeyPressChanged);
    positiveAndNegativeFloatingPointKeyPad.valueProperty.link(()=>{
        positiveAndNegativeFloatingPointClearOnNextKeyPressProperty.value = positiveAndNegativeFloatingPointKeyPad.getClearOnNextKeyPress();
    });
    // create and add a button that will remove the keypad from the screen - this exists to test dispose
    const removeKeypadFromScreenButton = new RectangularPushButton({
        content: new Text('Remove Keypad (tests dispose)'),
        baseColor: '#73DC69',
        listener: ()=>{
            positiveAndNegativeFloatingPointKeyPad.clear();
            positiveAndNegativeFloatingPointVBox.removeChild(positiveAndNegativeFloatingPointKeyPad);
            positiveAndNegativeFloatingPointKeyPad.dispose();
            positiveAndNegativeFloatingPointVBox.removeChild(positiveAndNegativeFloatingPointClearButton);
            positiveAndNegativeFloatingPointClearButton.dispose();
            positiveAndNegativeFloatingPointVBox.removeChild(positiveAndNegativeFloatingPointClearOnNextKeyPressCheckbox);
            positiveAndNegativeFloatingPointClearOnNextKeyPressCheckbox.dispose();
            positiveAndNegativeFloatingPointVBox.removeChild(removeKeypadFromScreenButton);
            removeKeypadFromScreenButton.dispose();
        }
    });
    const positiveAndNegativeFloatingPointVBox = new VBox({
        spacing: 30,
        resize: false,
        align: 'left',
        children: [
            positiveAndNegativeFloatingPointValueRepresentation,
            positiveAndNegativeFloatingPointStringRepresentation,
            positiveAndNegativeFloatingPointKeyPad,
            positiveAndNegativeFloatingPointClearButton,
            positiveAndNegativeFloatingPointClearOnNextKeyPressCheckbox,
            removeKeypadFromScreenButton
        ]
    });
    return new HBox({
        spacing: 50,
        resize: false,
        children: [
            integerVBox,
            floatingPointVBox,
            positiveAndNegativeFloatingPointVBox
        ],
        center: layoutBounds.center
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9kZW1vL2NvbXBvbmVudHMvZGVtb0tleXBhZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMi0yMDI0LCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcblxuLyoqXG4gKiBEZW1vIGZvciBLZXlwYWRcbiAqXG4gKiBAYXV0aG9yIENocmlzIE1hbGxleSAoUGl4ZWxab29tLCBJbmMuKVxuICovXG5cbmltcG9ydCBQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1Byb3BlcnR5LmpzJztcbmltcG9ydCBCb3VuZHMyIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9Cb3VuZHMyLmpzJztcbmltcG9ydCB7IEhCb3gsIE5vZGUsIFRleHQsIFZCb3ggfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xuaW1wb3J0IFJlY3Rhbmd1bGFyUHVzaEJ1dHRvbiBmcm9tICcuLi8uLi8uLi8uLi9zdW4vanMvYnV0dG9ucy9SZWN0YW5ndWxhclB1c2hCdXR0b24uanMnO1xuaW1wb3J0IENoZWNrYm94IGZyb20gJy4uLy4uLy4uLy4uL3N1bi9qcy9DaGVja2JveC5qcyc7XG5pbXBvcnQgS2V5cGFkIGZyb20gJy4uLy4uL2tleXBhZC9LZXlwYWQuanMnO1xuaW1wb3J0IFBoZXRGb250IGZyb20gJy4uLy4uL1BoZXRGb250LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVtb0tleXBhZCggbGF5b3V0Qm91bmRzOiBCb3VuZHMyICk6IE5vZGUge1xuXG4gIGNvbnN0IGludGVnZXJLZXlQYWQgPSBuZXcgS2V5cGFkKCBLZXlwYWQuUG9zaXRpdmVBbmROZWdhdGl2ZUludGVnZXJMYXlvdXQsIHtcbiAgICBidXR0b25XaWR0aDogMzUsXG4gICAgYnV0dG9uSGVpZ2h0OiAzNSxcbiAgICBhY2N1bXVsYXRvck9wdGlvbnM6IHtcbiAgICAgIG1heERpZ2l0czogNVxuICAgIH1cbiAgfSApO1xuXG4gIGNvbnN0IGludGVnZXJTdHJpbmdSZXByZXNlbnRhdGlvbiA9IG5ldyBUZXh0KCAnJywgeyBmb250OiBuZXcgUGhldEZvbnQoIDI0ICkgfSApO1xuICBjb25zdCBpbnRlZ2VyVmFsdWVSZXByZXNlbnRhdGlvbiA9IG5ldyBUZXh0KCAnJywgeyBmb250OiBuZXcgUGhldEZvbnQoIDI0ICkgfSApO1xuXG4gIGludGVnZXJLZXlQYWQuc3RyaW5nUHJvcGVydHkubGluayggdmFsdWUgPT4ge1xuICAgIGludGVnZXJTdHJpbmdSZXByZXNlbnRhdGlvbi5zdHJpbmcgPSBgc3RyaW5nOiAke3ZhbHVlfWA7XG4gIH0gKTtcblxuICBpbnRlZ2VyS2V5UGFkLnZhbHVlUHJvcGVydHkubGluayggdmFsdWUgPT4ge1xuICAgIGludGVnZXJWYWx1ZVJlcHJlc2VudGF0aW9uLnN0cmluZyA9IGBudW1iZXI6ICR7dmFsdWV9YDtcbiAgfSApO1xuXG4gIGNvbnN0IGludGVnZXJDbGVhckJ1dHRvbiA9IG5ldyBSZWN0YW5ndWxhclB1c2hCdXR0b24oIHtcbiAgICBjb250ZW50OiBuZXcgVGV4dCggJ0NsZWFyIEtleXBhZCcgKSxcbiAgICBsaXN0ZW5lcjogKCkgPT4gaW50ZWdlcktleVBhZC5jbGVhcigpXG4gIH0gKTtcblxuICAvLyBGb3IgdGVzdGluZyBjbGVhck9uTmV4dEtleVByZXNzIGZlYXR1cmVcbiAgY29uc3QgaW50ZWdlckNsZWFyT25OZXh0S2V5UHJlc3NQcm9wZXJ0eSA9IG5ldyBQcm9wZXJ0eSggaW50ZWdlcktleVBhZC5nZXRDbGVhck9uTmV4dEtleVByZXNzKCkgKTtcbiAgY29uc3QgaW50ZWdlckNsZWFyT25OZXh0S2V5UHJlc3NDaGVja2JveCA9IG5ldyBDaGVja2JveCggaW50ZWdlckNsZWFyT25OZXh0S2V5UHJlc3NQcm9wZXJ0eSxcbiAgICBuZXcgVGV4dCggJ0NsZWFyIE9uIE5leHQgS2V5IFByZXNzJyApICk7XG4gIGludGVnZXJDbGVhck9uTmV4dEtleVByZXNzUHJvcGVydHkubGluayhcbiAgICBjbGVhck9uTmV4dEtleVByZXNzID0+IGludGVnZXJLZXlQYWQuc2V0Q2xlYXJPbk5leHRLZXlQcmVzcyggY2xlYXJPbk5leHRLZXlQcmVzcyApXG4gICk7XG5cbiAgaW50ZWdlcktleVBhZC52YWx1ZVByb3BlcnR5LmxpbmsoIHZhbHVlID0+IHtcbiAgICBpbnRlZ2VyQ2xlYXJPbk5leHRLZXlQcmVzc1Byb3BlcnR5LnZhbHVlID0gaW50ZWdlcktleVBhZC5nZXRDbGVhck9uTmV4dEtleVByZXNzKCk7XG4gIH0gKTtcblxuICBjb25zdCBpbnRlZ2VyVkJveCA9IG5ldyBWQm94KCB7XG4gICAgc3BhY2luZzogMzAsXG4gICAgcmVzaXplOiBmYWxzZSxcbiAgICBhbGlnbjogJ2xlZnQnLFxuICAgIGNoaWxkcmVuOiBbXG4gICAgICBpbnRlZ2VyVmFsdWVSZXByZXNlbnRhdGlvbixcbiAgICAgIGludGVnZXJTdHJpbmdSZXByZXNlbnRhdGlvbixcbiAgICAgIGludGVnZXJLZXlQYWQsXG4gICAgICBpbnRlZ2VyQ2xlYXJCdXR0b24sXG4gICAgICBpbnRlZ2VyQ2xlYXJPbk5leHRLZXlQcmVzc0NoZWNrYm94XG4gICAgXVxuICB9ICk7XG5cbiAgY29uc3QgZmxvYXRpbmdQb2ludEtleVBhZCA9IG5ldyBLZXlwYWQoIEtleXBhZC5Qb3NpdGl2ZUZsb2F0aW5nUG9pbnRMYXlvdXQsIHtcbiAgICBidXR0b25XaWR0aDogMzUsXG4gICAgYnV0dG9uSGVpZ2h0OiAzNSxcbiAgICBhY2N1bXVsYXRvck9wdGlvbnM6IHtcbiAgICAgIG1heERpZ2l0czogNCxcbiAgICAgIG1heERpZ2l0c1JpZ2h0T2ZNYW50aXNzYTogMlxuICAgIH1cbiAgfSApO1xuXG4gIGNvbnN0IGZsb2F0aW5nUG9pbnRTdHJpbmdSZXByZXNlbnRhdGlvbiA9IG5ldyBUZXh0KCAnJywgeyBmb250OiBuZXcgUGhldEZvbnQoIDI0ICkgfSApO1xuICBjb25zdCBmbG9hdGluZ1BvaW50VmFsdWVSZXByZXNlbnRhdGlvbiA9IG5ldyBUZXh0KCAnJywgeyBmb250OiBuZXcgUGhldEZvbnQoIDI0ICkgfSApO1xuXG4gIGZsb2F0aW5nUG9pbnRLZXlQYWQuc3RyaW5nUHJvcGVydHkubGluayggdmFsdWUgPT4ge1xuICAgIGZsb2F0aW5nUG9pbnRTdHJpbmdSZXByZXNlbnRhdGlvbi5zdHJpbmcgPSBgc3RyaW5nOiAke3ZhbHVlfWA7XG4gIH0gKTtcblxuICBmbG9hdGluZ1BvaW50S2V5UGFkLnZhbHVlUHJvcGVydHkubGluayggdmFsdWUgPT4ge1xuICAgIGZsb2F0aW5nUG9pbnRWYWx1ZVJlcHJlc2VudGF0aW9uLnN0cmluZyA9IGBudW1iZXI6ICR7dmFsdWV9YDtcbiAgfSApO1xuXG4gIGNvbnN0IGZsb2F0aW5nUG9pbnRDbGVhckJ1dHRvbiA9IG5ldyBSZWN0YW5ndWxhclB1c2hCdXR0b24oIHtcbiAgICBjb250ZW50OiBuZXcgVGV4dCggJ0NsZWFyIEtleXBhZCcgKSxcbiAgICBsaXN0ZW5lcjogKCkgPT4gZmxvYXRpbmdQb2ludEtleVBhZC5jbGVhcigpXG4gIH0gKTtcblxuICAvLyBGb3IgdGVzdGluZyBjbGVhck9uTmV4dEtleVByZXNzIGZlYXR1cmVcbiAgY29uc3QgZmxvYXRpbmdQb2ludENsZWFyT25OZXh0S2V5UHJlc3NQcm9wZXJ0eSA9IG5ldyBQcm9wZXJ0eSggZmxvYXRpbmdQb2ludEtleVBhZC5nZXRDbGVhck9uTmV4dEtleVByZXNzKCkgKTtcbiAgY29uc3QgZmxvYXRpbmdQb2ludENsZWFyT25OZXh0S2V5UHJlc3NCdXR0b24gPSBuZXcgQ2hlY2tib3goIGZsb2F0aW5nUG9pbnRDbGVhck9uTmV4dEtleVByZXNzUHJvcGVydHksIG5ldyBUZXh0KCAnQ2xlYXIgT24gTmV4dCBLZXkgUHJlc3MnICkgKTtcbiAgZmxvYXRpbmdQb2ludENsZWFyT25OZXh0S2V5UHJlc3NQcm9wZXJ0eS5saW5rKFxuICAgIGNsZWFyT25OZXh0S2V5UHJlc3MgPT4gZmxvYXRpbmdQb2ludEtleVBhZC5zZXRDbGVhck9uTmV4dEtleVByZXNzKCBjbGVhck9uTmV4dEtleVByZXNzIClcbiAgKTtcblxuICBmbG9hdGluZ1BvaW50S2V5UGFkLnZhbHVlUHJvcGVydHkubGluayggKCkgPT4ge1xuICAgIGZsb2F0aW5nUG9pbnRDbGVhck9uTmV4dEtleVByZXNzUHJvcGVydHkudmFsdWUgPSBmbG9hdGluZ1BvaW50S2V5UGFkLmdldENsZWFyT25OZXh0S2V5UHJlc3MoKTtcbiAgfSApO1xuXG4gIGNvbnN0IGZsb2F0aW5nUG9pbnRWQm94ID0gbmV3IFZCb3goIHtcbiAgICBzcGFjaW5nOiAzMCxcbiAgICByZXNpemU6IGZhbHNlLFxuICAgIGFsaWduOiAnbGVmdCcsXG4gICAgY2hpbGRyZW46IFtcbiAgICAgIGZsb2F0aW5nUG9pbnRWYWx1ZVJlcHJlc2VudGF0aW9uLFxuICAgICAgZmxvYXRpbmdQb2ludFN0cmluZ1JlcHJlc2VudGF0aW9uLFxuICAgICAgZmxvYXRpbmdQb2ludEtleVBhZCxcbiAgICAgIGZsb2F0aW5nUG9pbnRDbGVhckJ1dHRvbixcbiAgICAgIGZsb2F0aW5nUG9pbnRDbGVhck9uTmV4dEtleVByZXNzQnV0dG9uXG4gICAgXVxuICB9ICk7XG5cbiAgY29uc3QgcG9zaXRpdmVBbmROZWdhdGl2ZUZsb2F0aW5nUG9pbnRLZXlQYWQgPSBuZXcgS2V5cGFkKCBLZXlwYWQuUG9zaXRpdmVBbmROZWdhdGl2ZUZsb2F0aW5nUG9pbnRMYXlvdXQsIHtcbiAgICBidXR0b25XaWR0aDogMzUsXG4gICAgYnV0dG9uSGVpZ2h0OiAzNSxcbiAgICBhY2N1bXVsYXRvck9wdGlvbnM6IHtcbiAgICAgIG1heERpZ2l0czogNCxcbiAgICAgIG1heERpZ2l0c1JpZ2h0T2ZNYW50aXNzYTogMlxuICAgIH1cbiAgfSApO1xuXG4gIGNvbnN0IHBvc2l0aXZlQW5kTmVnYXRpdmVGbG9hdGluZ1BvaW50U3RyaW5nUmVwcmVzZW50YXRpb24gPSBuZXcgVGV4dCggJycsIHsgZm9udDogbmV3IFBoZXRGb250KCAyNCApIH0gKTtcbiAgY29uc3QgcG9zaXRpdmVBbmROZWdhdGl2ZUZsb2F0aW5nUG9pbnRWYWx1ZVJlcHJlc2VudGF0aW9uID0gbmV3IFRleHQoICcnLCB7IGZvbnQ6IG5ldyBQaGV0Rm9udCggMjQgKSB9ICk7XG5cbiAgcG9zaXRpdmVBbmROZWdhdGl2ZUZsb2F0aW5nUG9pbnRLZXlQYWQuc3RyaW5nUHJvcGVydHkubGluayggdmFsdWUgPT4ge1xuICAgIHBvc2l0aXZlQW5kTmVnYXRpdmVGbG9hdGluZ1BvaW50U3RyaW5nUmVwcmVzZW50YXRpb24uc3RyaW5nID0gYHN0cmluZzogJHt2YWx1ZX1gO1xuICB9ICk7XG5cbiAgcG9zaXRpdmVBbmROZWdhdGl2ZUZsb2F0aW5nUG9pbnRLZXlQYWQudmFsdWVQcm9wZXJ0eS5saW5rKCB2YWx1ZSA9PiB7XG4gICAgcG9zaXRpdmVBbmROZWdhdGl2ZUZsb2F0aW5nUG9pbnRWYWx1ZVJlcHJlc2VudGF0aW9uLnN0cmluZyA9IGBudW1iZXI6ICR7dmFsdWV9YDtcbiAgfSApO1xuXG4gIGNvbnN0IHBvc2l0aXZlQW5kTmVnYXRpdmVGbG9hdGluZ1BvaW50Q2xlYXJCdXR0b24gPSBuZXcgUmVjdGFuZ3VsYXJQdXNoQnV0dG9uKCB7XG4gICAgY29udGVudDogbmV3IFRleHQoICdDbGVhciBLZXlwYWQnICksXG4gICAgbGlzdGVuZXI6ICgpID0+IHBvc2l0aXZlQW5kTmVnYXRpdmVGbG9hdGluZ1BvaW50S2V5UGFkLmNsZWFyKClcbiAgfSApO1xuXG4gIC8vIEZvciB0ZXN0aW5nIGNsZWFyT25OZXh0S2V5UHJlc3MgZmVhdHVyZVxuICBjb25zdCBwb3NpdGl2ZUFuZE5lZ2F0aXZlRmxvYXRpbmdQb2ludENsZWFyT25OZXh0S2V5UHJlc3NQcm9wZXJ0eSA9IG5ldyBQcm9wZXJ0eShcbiAgICBwb3NpdGl2ZUFuZE5lZ2F0aXZlRmxvYXRpbmdQb2ludEtleVBhZC5nZXRDbGVhck9uTmV4dEtleVByZXNzKClcbiAgKTtcbiAgY29uc3QgcG9zaXRpdmVBbmROZWdhdGl2ZUZsb2F0aW5nUG9pbnRDbGVhck9uTmV4dEtleVByZXNzQ2hlY2tib3ggPSBuZXcgQ2hlY2tib3goIHBvc2l0aXZlQW5kTmVnYXRpdmVGbG9hdGluZ1BvaW50Q2xlYXJPbk5leHRLZXlQcmVzc1Byb3BlcnR5LCBuZXcgVGV4dCggJ0NsZWFyIE9uIE5leHQgS2V5IFByZXNzJyApICk7XG5cbiAgZnVuY3Rpb24gaGFuZGxlUG9zaXRpdmVBbmROZWdhdGl2ZUZsb2F0aW5nUG9pbnRDbGVhck9uTmV4dEtleVByZXNzQ2hhbmdlZCggY2xlYXJPbk5leHRLZXlQcmVzczogYm9vbGVhbiApOiB2b2lkIHtcbiAgICBwb3NpdGl2ZUFuZE5lZ2F0aXZlRmxvYXRpbmdQb2ludEtleVBhZC5zZXRDbGVhck9uTmV4dEtleVByZXNzKCBjbGVhck9uTmV4dEtleVByZXNzICk7XG4gIH1cblxuICBwb3NpdGl2ZUFuZE5lZ2F0aXZlRmxvYXRpbmdQb2ludENsZWFyT25OZXh0S2V5UHJlc3NQcm9wZXJ0eS5saW5rKFxuICAgIGhhbmRsZVBvc2l0aXZlQW5kTmVnYXRpdmVGbG9hdGluZ1BvaW50Q2xlYXJPbk5leHRLZXlQcmVzc0NoYW5nZWRcbiAgKTtcblxuICBwb3NpdGl2ZUFuZE5lZ2F0aXZlRmxvYXRpbmdQb2ludEtleVBhZC52YWx1ZVByb3BlcnR5LmxpbmsoICgpID0+IHtcbiAgICBwb3NpdGl2ZUFuZE5lZ2F0aXZlRmxvYXRpbmdQb2ludENsZWFyT25OZXh0S2V5UHJlc3NQcm9wZXJ0eS52YWx1ZSA9XG4gICAgICBwb3NpdGl2ZUFuZE5lZ2F0aXZlRmxvYXRpbmdQb2ludEtleVBhZC5nZXRDbGVhck9uTmV4dEtleVByZXNzKCk7XG4gIH0gKTtcblxuICAvLyBjcmVhdGUgYW5kIGFkZCBhIGJ1dHRvbiB0aGF0IHdpbGwgcmVtb3ZlIHRoZSBrZXlwYWQgZnJvbSB0aGUgc2NyZWVuIC0gdGhpcyBleGlzdHMgdG8gdGVzdCBkaXNwb3NlXG4gIGNvbnN0IHJlbW92ZUtleXBhZEZyb21TY3JlZW5CdXR0b24gPSBuZXcgUmVjdGFuZ3VsYXJQdXNoQnV0dG9uKCB7XG4gICAgY29udGVudDogbmV3IFRleHQoICdSZW1vdmUgS2V5cGFkICh0ZXN0cyBkaXNwb3NlKScgKSxcbiAgICBiYXNlQ29sb3I6ICcjNzNEQzY5JyxcbiAgICBsaXN0ZW5lcjogKCkgPT4ge1xuICAgICAgcG9zaXRpdmVBbmROZWdhdGl2ZUZsb2F0aW5nUG9pbnRLZXlQYWQuY2xlYXIoKTtcbiAgICAgIHBvc2l0aXZlQW5kTmVnYXRpdmVGbG9hdGluZ1BvaW50VkJveC5yZW1vdmVDaGlsZCggcG9zaXRpdmVBbmROZWdhdGl2ZUZsb2F0aW5nUG9pbnRLZXlQYWQgKTtcbiAgICAgIHBvc2l0aXZlQW5kTmVnYXRpdmVGbG9hdGluZ1BvaW50S2V5UGFkLmRpc3Bvc2UoKTtcbiAgICAgIHBvc2l0aXZlQW5kTmVnYXRpdmVGbG9hdGluZ1BvaW50VkJveC5yZW1vdmVDaGlsZCggcG9zaXRpdmVBbmROZWdhdGl2ZUZsb2F0aW5nUG9pbnRDbGVhckJ1dHRvbiApO1xuICAgICAgcG9zaXRpdmVBbmROZWdhdGl2ZUZsb2F0aW5nUG9pbnRDbGVhckJ1dHRvbi5kaXNwb3NlKCk7XG4gICAgICBwb3NpdGl2ZUFuZE5lZ2F0aXZlRmxvYXRpbmdQb2ludFZCb3gucmVtb3ZlQ2hpbGQoIHBvc2l0aXZlQW5kTmVnYXRpdmVGbG9hdGluZ1BvaW50Q2xlYXJPbk5leHRLZXlQcmVzc0NoZWNrYm94ICk7XG4gICAgICBwb3NpdGl2ZUFuZE5lZ2F0aXZlRmxvYXRpbmdQb2ludENsZWFyT25OZXh0S2V5UHJlc3NDaGVja2JveC5kaXNwb3NlKCk7XG4gICAgICBwb3NpdGl2ZUFuZE5lZ2F0aXZlRmxvYXRpbmdQb2ludFZCb3gucmVtb3ZlQ2hpbGQoIHJlbW92ZUtleXBhZEZyb21TY3JlZW5CdXR0b24gKTtcbiAgICAgIHJlbW92ZUtleXBhZEZyb21TY3JlZW5CdXR0b24uZGlzcG9zZSgpO1xuICAgIH1cbiAgfSApO1xuXG4gIGNvbnN0IHBvc2l0aXZlQW5kTmVnYXRpdmVGbG9hdGluZ1BvaW50VkJveCA9IG5ldyBWQm94KCB7XG4gICAgc3BhY2luZzogMzAsXG4gICAgcmVzaXplOiBmYWxzZSxcbiAgICBhbGlnbjogJ2xlZnQnLFxuICAgIGNoaWxkcmVuOiBbXG4gICAgICBwb3NpdGl2ZUFuZE5lZ2F0aXZlRmxvYXRpbmdQb2ludFZhbHVlUmVwcmVzZW50YXRpb24sXG4gICAgICBwb3NpdGl2ZUFuZE5lZ2F0aXZlRmxvYXRpbmdQb2ludFN0cmluZ1JlcHJlc2VudGF0aW9uLFxuICAgICAgcG9zaXRpdmVBbmROZWdhdGl2ZUZsb2F0aW5nUG9pbnRLZXlQYWQsXG4gICAgICBwb3NpdGl2ZUFuZE5lZ2F0aXZlRmxvYXRpbmdQb2ludENsZWFyQnV0dG9uLFxuICAgICAgcG9zaXRpdmVBbmROZWdhdGl2ZUZsb2F0aW5nUG9pbnRDbGVhck9uTmV4dEtleVByZXNzQ2hlY2tib3gsXG4gICAgICByZW1vdmVLZXlwYWRGcm9tU2NyZWVuQnV0dG9uXG4gICAgXVxuICB9ICk7XG5cbiAgcmV0dXJuIG5ldyBIQm94KCB7XG4gICAgc3BhY2luZzogNTAsXG4gICAgcmVzaXplOiBmYWxzZSxcbiAgICBjaGlsZHJlbjogW1xuICAgICAgaW50ZWdlclZCb3gsXG4gICAgICBmbG9hdGluZ1BvaW50VkJveCxcbiAgICAgIHBvc2l0aXZlQW5kTmVnYXRpdmVGbG9hdGluZ1BvaW50VkJveFxuICAgIF0sXG4gICAgY2VudGVyOiBsYXlvdXRCb3VuZHMuY2VudGVyXG4gIH0gKTtcblxufSJdLCJuYW1lcyI6WyJQcm9wZXJ0eSIsIkhCb3giLCJUZXh0IiwiVkJveCIsIlJlY3Rhbmd1bGFyUHVzaEJ1dHRvbiIsIkNoZWNrYm94IiwiS2V5cGFkIiwiUGhldEZvbnQiLCJkZW1vS2V5cGFkIiwibGF5b3V0Qm91bmRzIiwiaW50ZWdlcktleVBhZCIsIlBvc2l0aXZlQW5kTmVnYXRpdmVJbnRlZ2VyTGF5b3V0IiwiYnV0dG9uV2lkdGgiLCJidXR0b25IZWlnaHQiLCJhY2N1bXVsYXRvck9wdGlvbnMiLCJtYXhEaWdpdHMiLCJpbnRlZ2VyU3RyaW5nUmVwcmVzZW50YXRpb24iLCJmb250IiwiaW50ZWdlclZhbHVlUmVwcmVzZW50YXRpb24iLCJzdHJpbmdQcm9wZXJ0eSIsImxpbmsiLCJ2YWx1ZSIsInN0cmluZyIsInZhbHVlUHJvcGVydHkiLCJpbnRlZ2VyQ2xlYXJCdXR0b24iLCJjb250ZW50IiwibGlzdGVuZXIiLCJjbGVhciIsImludGVnZXJDbGVhck9uTmV4dEtleVByZXNzUHJvcGVydHkiLCJnZXRDbGVhck9uTmV4dEtleVByZXNzIiwiaW50ZWdlckNsZWFyT25OZXh0S2V5UHJlc3NDaGVja2JveCIsImNsZWFyT25OZXh0S2V5UHJlc3MiLCJzZXRDbGVhck9uTmV4dEtleVByZXNzIiwiaW50ZWdlclZCb3giLCJzcGFjaW5nIiwicmVzaXplIiwiYWxpZ24iLCJjaGlsZHJlbiIsImZsb2F0aW5nUG9pbnRLZXlQYWQiLCJQb3NpdGl2ZUZsb2F0aW5nUG9pbnRMYXlvdXQiLCJtYXhEaWdpdHNSaWdodE9mTWFudGlzc2EiLCJmbG9hdGluZ1BvaW50U3RyaW5nUmVwcmVzZW50YXRpb24iLCJmbG9hdGluZ1BvaW50VmFsdWVSZXByZXNlbnRhdGlvbiIsImZsb2F0aW5nUG9pbnRDbGVhckJ1dHRvbiIsImZsb2F0aW5nUG9pbnRDbGVhck9uTmV4dEtleVByZXNzUHJvcGVydHkiLCJmbG9hdGluZ1BvaW50Q2xlYXJPbk5leHRLZXlQcmVzc0J1dHRvbiIsImZsb2F0aW5nUG9pbnRWQm94IiwicG9zaXRpdmVBbmROZWdhdGl2ZUZsb2F0aW5nUG9pbnRLZXlQYWQiLCJQb3NpdGl2ZUFuZE5lZ2F0aXZlRmxvYXRpbmdQb2ludExheW91dCIsInBvc2l0aXZlQW5kTmVnYXRpdmVGbG9hdGluZ1BvaW50U3RyaW5nUmVwcmVzZW50YXRpb24iLCJwb3NpdGl2ZUFuZE5lZ2F0aXZlRmxvYXRpbmdQb2ludFZhbHVlUmVwcmVzZW50YXRpb24iLCJwb3NpdGl2ZUFuZE5lZ2F0aXZlRmxvYXRpbmdQb2ludENsZWFyQnV0dG9uIiwicG9zaXRpdmVBbmROZWdhdGl2ZUZsb2F0aW5nUG9pbnRDbGVhck9uTmV4dEtleVByZXNzUHJvcGVydHkiLCJwb3NpdGl2ZUFuZE5lZ2F0aXZlRmxvYXRpbmdQb2ludENsZWFyT25OZXh0S2V5UHJlc3NDaGVja2JveCIsImhhbmRsZVBvc2l0aXZlQW5kTmVnYXRpdmVGbG9hdGluZ1BvaW50Q2xlYXJPbk5leHRLZXlQcmVzc0NoYW5nZWQiLCJyZW1vdmVLZXlwYWRGcm9tU2NyZWVuQnV0dG9uIiwiYmFzZUNvbG9yIiwicG9zaXRpdmVBbmROZWdhdGl2ZUZsb2F0aW5nUG9pbnRWQm94IiwicmVtb3ZlQ2hpbGQiLCJkaXNwb3NlIiwiY2VudGVyIl0sIm1hcHBpbmdzIjoiQUFBQSxzREFBc0Q7QUFFdEQ7Ozs7Q0FJQyxHQUVELE9BQU9BLGNBQWMsa0NBQWtDO0FBRXZELFNBQVNDLElBQUksRUFBUUMsSUFBSSxFQUFFQyxJQUFJLFFBQVEsb0NBQW9DO0FBQzNFLE9BQU9DLDJCQUEyQixzREFBc0Q7QUFDeEYsT0FBT0MsY0FBYyxpQ0FBaUM7QUFDdEQsT0FBT0MsWUFBWSx5QkFBeUI7QUFDNUMsT0FBT0MsY0FBYyxvQkFBb0I7QUFFekMsZUFBZSxTQUFTQyxXQUFZQyxZQUFxQjtJQUV2RCxNQUFNQyxnQkFBZ0IsSUFBSUosT0FBUUEsT0FBT0ssZ0NBQWdDLEVBQUU7UUFDekVDLGFBQWE7UUFDYkMsY0FBYztRQUNkQyxvQkFBb0I7WUFDbEJDLFdBQVc7UUFDYjtJQUNGO0lBRUEsTUFBTUMsOEJBQThCLElBQUlkLEtBQU0sSUFBSTtRQUFFZSxNQUFNLElBQUlWLFNBQVU7SUFBSztJQUM3RSxNQUFNVyw2QkFBNkIsSUFBSWhCLEtBQU0sSUFBSTtRQUFFZSxNQUFNLElBQUlWLFNBQVU7SUFBSztJQUU1RUcsY0FBY1MsY0FBYyxDQUFDQyxJQUFJLENBQUVDLENBQUFBO1FBQ2pDTCw0QkFBNEJNLE1BQU0sR0FBRyxDQUFDLFFBQVEsRUFBRUQsT0FBTztJQUN6RDtJQUVBWCxjQUFjYSxhQUFhLENBQUNILElBQUksQ0FBRUMsQ0FBQUE7UUFDaENI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