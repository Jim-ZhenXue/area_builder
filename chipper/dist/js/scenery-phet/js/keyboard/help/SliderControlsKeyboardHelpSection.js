// Copyright 2017-2024, University of Colorado Boulder
/**
 * Content for a KeyboardHelpDialog that describes how to use sliders.
 *
 * @author Jesse Greenberg
 */ import PatternStringProperty from '../../../../axon/js/PatternStringProperty.js';
import assertMutuallyExclusiveOptions from '../../../../phet-core/js/assertMutuallyExclusiveOptions.js';
import Enumeration from '../../../../phet-core/js/Enumeration.js';
import EnumerationValue from '../../../../phet-core/js/EnumerationValue.js';
import optionize from '../../../../phet-core/js/optionize.js';
import { HBox } from '../../../../scenery/js/imports.js';
import AccessibleValueHandlerHotkeyDataCollection from '../../../../sun/js/accessibility/AccessibleValueHandlerHotkeyDataCollection.js';
import Tandem from '../../../../tandem/js/Tandem.js';
import sceneryPhet from '../../sceneryPhet.js';
import SceneryPhetStrings from '../../SceneryPhetStrings.js';
import KeyboardHelpIconFactory from './KeyboardHelpIconFactory.js';
import KeyboardHelpSection from './KeyboardHelpSection.js';
import KeyboardHelpSectionRow from './KeyboardHelpSectionRow.js';
// Configurations of arrow keys that can be displayed for 'Move between items in a group'
export class ArrowKeyIconDisplay extends EnumerationValue {
}
ArrowKeyIconDisplay.UP_DOWN = new ArrowKeyIconDisplay();
ArrowKeyIconDisplay.LEFT_RIGHT = new ArrowKeyIconDisplay();
ArrowKeyIconDisplay.BOTH = new ArrowKeyIconDisplay();
ArrowKeyIconDisplay.enumeration = new Enumeration(ArrowKeyIconDisplay);
let SliderControlsKeyboardHelpSection = class SliderControlsKeyboardHelpSection extends KeyboardHelpSection {
    constructor(providedOptions){
        // If you provide a string for the verb or slider, it will be filled into the default pattern
        // for all rows so you cannot customize each row individually.
        assert && assertMutuallyExclusiveOptions(providedOptions, [
            'verbStringProperty',
            'sliderStringProperty'
        ], [
            'adjustSliderStringProperty',
            'adjustInSmallerStepsStringProperty',
            'adjustInLargerStepsStringProperty'
        ]);
        assert && assertMutuallyExclusiveOptions(providedOptions, [
            'maximumStringProperty'
        ], [
            'jumpToMaximumStringProperty'
        ]);
        assert && assertMutuallyExclusiveOptions(providedOptions, [
            'minimumStringProperty'
        ], [
            'jumpToMinimumStringProperty'
        ]);
        const ownsMaximumStringProperty = providedOptions && 'maximumStringProperty' in providedOptions;
        const ownsMinimumStringProperty = providedOptions && 'minimumStringProperty' in providedOptions;
        const options = optionize()({
            arrowKeyIconDisplay: ArrowKeyIconDisplay.BOTH,
            headingStringProperty: SceneryPhetStrings.keyboardHelpDialog.sliderControlsStringProperty,
            verbStringProperty: SceneryPhetStrings.keyboardHelpDialog.adjustStringProperty,
            sliderStringProperty: SceneryPhetStrings.keyboardHelpDialog.sliderStringProperty,
            maximumStringProperty: SceneryPhetStrings.keyboardHelpDialog.maximumStringProperty,
            minimumStringProperty: SceneryPhetStrings.keyboardHelpDialog.minimumStringProperty,
            jumpToMaximumStringProperty: SceneryPhetStrings.keyboardHelpDialog.jumpToMaximumStringProperty,
            jumpToMinimumStringProperty: SceneryPhetStrings.keyboardHelpDialog.jumpToMinimumStringProperty,
            adjustSliderStringProperty: SceneryPhetStrings.keyboardHelpDialog.adjustSliderStringProperty,
            adjustInSmallerStepsStringProperty: SceneryPhetStrings.keyboardHelpDialog.adjustInSmallerStepsStringProperty,
            adjustInLargerStepsStringProperty: SceneryPhetStrings.keyboardHelpDialog.adjustInLargerStepsStringProperty,
            includeSmallerStepsRow: true,
            includeLargerStepsRow: true,
            additionalRows: []
        }, providedOptions);
        let adjustSliderStringProperty = options.adjustSliderStringProperty;
        let adjustInSmallerStepsStringProperty = options.adjustInSmallerStepsStringProperty;
        let adjustInLargerStepsStringProperty = options.adjustInLargerStepsStringProperty;
        if (options.verbStringProperty !== SceneryPhetStrings.keyboardHelpDialog.adjustStringProperty || options.sliderStringProperty !== SceneryPhetStrings.keyboardHelpDialog.sliderStringProperty) {
            // we are filling in the verb and name
            adjustSliderStringProperty = new PatternStringProperty(SceneryPhetStrings.keyboardHelpDialog.verbSliderPatternStringProperty, {
                verb: options.verbStringProperty,
                slider: options.sliderStringProperty
            }, {
                tandem: Tandem.OPT_OUT
            });
            adjustInSmallerStepsStringProperty = new PatternStringProperty(SceneryPhetStrings.keyboardHelpDialog.verbInSmallerStepsPatternStringProperty, {
                verb: options.verbStringProperty
            }, {
                tandem: Tandem.OPT_OUT
            });
            adjustInLargerStepsStringProperty = new PatternStringProperty(SceneryPhetStrings.keyboardHelpDialog.verbInLargerStepsPatternStringProperty, {
                verb: options.verbStringProperty
            }, {
                tandem: Tandem.OPT_OUT
            });
        }
        const keysStringProperty = options.arrowKeyIconDisplay === ArrowKeyIconDisplay.LEFT_RIGHT ? SceneryPhetStrings.a11y.keyboardHelpDialog.slider.leftRightArrowKeysStringProperty : options.arrowKeyIconDisplay === ArrowKeyIconDisplay.UP_DOWN ? SceneryPhetStrings.a11y.keyboardHelpDialog.slider.upDownArrowKeysStringProperty : options.arrowKeyIconDisplay === ArrowKeyIconDisplay.BOTH ? new PatternStringProperty(SceneryPhetStrings.a11y.keyboardHelpDialog.slider.orKeysPatternStringProperty, {
            leftRight: SceneryPhetStrings.a11y.keyboardHelpDialog.slider.leftRightArrowKeysStringProperty,
            upDown: SceneryPhetStrings.a11y.keyboardHelpDialog.slider.upDownArrowKeysStringProperty
        }, {
            tandem: Tandem.OPT_OUT
        }) : null;
        assert && assert(keysStringProperty);
        const keyboardHelpDialogDefaultStepsStringProperty = new PatternStringProperty(SceneryPhetStrings.a11y.keyboardHelpDialog.slider.defaultStepsDescriptionPatternStringProperty, {
            verb: options.verbStringProperty,
            slider: options.sliderStringProperty,
            keys: keysStringProperty
        }, {
            tandem: Tandem.OPT_OUT
        });
        const shiftKeysStringProperty = options.arrowKeyIconDisplay === ArrowKeyIconDisplay.LEFT_RIGHT ? SceneryPhetStrings.a11y.keyboardHelpDialog.slider.shiftLeftRightArrowKeysStringProperty : options.arrowKeyIconDisplay === ArrowKeyIconDisplay.UP_DOWN ? SceneryPhetStrings.a11y.keyboardHelpDialog.slider.shiftUpDownArrowKeysStringProperty : options.arrowKeyIconDisplay === ArrowKeyIconDisplay.BOTH ? new PatternStringProperty(SceneryPhetStrings.a11y.keyboardHelpDialog.slider.orKeysPatternStringProperty, {
            leftRight: SceneryPhetStrings.a11y.keyboardHelpDialog.slider.shiftLeftRightArrowKeysStringProperty,
            upDown: SceneryPhetStrings.a11y.keyboardHelpDialog.slider.shiftUpDownArrowKeysStringProperty
        }, {
            tandem: Tandem.OPT_OUT
        }) : null;
        assert && assert(shiftKeysStringProperty);
        const keyboardHelpDialogSmallerStepsStringProperty = new PatternStringProperty(SceneryPhetStrings.a11y.keyboardHelpDialog.slider.smallerStepsDescriptionPatternStringProperty, {
            verb: options.verbStringProperty,
            keys: shiftKeysStringProperty
        }, {
            tandem: Tandem.OPT_OUT
        });
        const keyboardHelpDialogLargerStepsStringProperty = new PatternStringProperty(SceneryPhetStrings.a11y.keyboardHelpDialog.slider.largerStepsDescriptionPatternStringProperty, {
            verb: options.verbStringProperty
        }, {
            tandem: Tandem.OPT_OUT
        });
        let jumpToMinimumStringProperty = options.jumpToMinimumStringProperty;
        if (ownsMinimumStringProperty) {
            jumpToMinimumStringProperty = new PatternStringProperty(SceneryPhetStrings.keyboardHelpDialog.jumpToMinimumPatternStringProperty, {
                minimum: options.minimumStringProperty
            }, {
                tandem: Tandem.OPT_OUT
            });
        }
        let jumpToMaximumStringProperty = options.jumpToMaximumStringProperty;
        if (ownsMaximumStringProperty) {
            jumpToMaximumStringProperty = new PatternStringProperty(SceneryPhetStrings.keyboardHelpDialog.jumpToMaximumPatternStringProperty, {
                maximum: options.maximumStringProperty
            }, {
                tandem: Tandem.OPT_OUT
            });
        }
        const jumpToMinimumDescriptionStringProperty = new PatternStringProperty(SceneryPhetStrings.a11y.keyboardHelpDialog.slider.jumpToMinimumDescriptionPatternStringProperty, {
            minimum: options.minimumStringProperty
        }, {
            tandem: Tandem.OPT_OUT
        });
        const jumpToMaximumDescriptionStringProperty = new PatternStringProperty(SceneryPhetStrings.a11y.keyboardHelpDialog.slider.jumpToMaximumDescriptionPatternStringProperty, {
            maximum: options.maximumStringProperty
        }, {
            tandem: Tandem.OPT_OUT
        });
        // 'Move sliders' content
        const leftRightArrowKeysRowIcon = KeyboardHelpIconFactory.iconRow([
            KeyboardHelpIconFactory.fromHotkeyData(AccessibleValueHandlerHotkeyDataCollection.LEFT_ARROW_HOTKEY_DATA),
            KeyboardHelpIconFactory.fromHotkeyData(AccessibleValueHandlerHotkeyDataCollection.RIGHT_ARROW_HOTKEY_DATA)
        ]);
        const shiftPlusLeftRightIcon = KeyboardHelpIconFactory.shiftPlusIcon(leftRightArrowKeysRowIcon);
        const upDownArrowKeysRowIcon = KeyboardHelpIconFactory.iconRow([
            KeyboardHelpIconFactory.fromHotkeyData(AccessibleValueHandlerHotkeyDataCollection.UP_ARROW_HOTKEY_DATA),
            KeyboardHelpIconFactory.fromHotkeyData(AccessibleValueHandlerHotkeyDataCollection.DOWN_ARROW_HOTKEY_DATA)
        ]);
        const shiftPlusUpDownIcon = KeyboardHelpIconFactory.shiftPlusIcon(upDownArrowKeysRowIcon);
        const leftRightOrUpDownIcon = KeyboardHelpIconFactory.iconOrIcon(leftRightArrowKeysRowIcon, upDownArrowKeysRowIcon);
        let adjustSliderIcon = null;
        let adjustSliderSmallerStepsIcons = null;
        switch(options.arrowKeyIconDisplay){
            case ArrowKeyIconDisplay.LEFT_RIGHT:
                adjustSliderIcon = leftRightArrowKeysRowIcon;
                adjustSliderSmallerStepsIcons = [
                    shiftPlusLeftRightIcon
                ];
                break;
            case ArrowKeyIconDisplay.UP_DOWN:
                adjustSliderIcon = upDownArrowKeysRowIcon;
                adjustSliderSmallerStepsIcons = [
                    shiftPlusUpDownIcon
                ];
                break;
            default:
                assert && assert(options.arrowKeyIconDisplay === ArrowKeyIconDisplay.BOTH, 'unsupported arrowKeyIconDisplay');
                adjustSliderIcon = leftRightOrUpDownIcon;
                adjustSliderSmallerStepsIcons = [
                    shiftPlusLeftRightIcon,
                    shiftPlusUpDownIcon
                ];
        }
        const adjustSliderRow = KeyboardHelpSectionRow.labelWithIcon(adjustSliderStringProperty, adjustSliderIcon, {
            labelInnerContent: keyboardHelpDialogDefaultStepsStringProperty
        });
        const adjustSliderInSmallerStepsRow = KeyboardHelpSectionRow.labelWithIconList(adjustInSmallerStepsStringProperty, adjustSliderSmallerStepsIcons, {
            labelInnerContent: keyboardHelpDialogSmallerStepsStringProperty
        });
        // 'move in larger steps' content
        const pageUpKeyNode = KeyboardHelpIconFactory.fromHotkeyData(AccessibleValueHandlerHotkeyDataCollection.PAGE_UP_HOTKEY_DATA);
        const pageDownKeyNode = KeyboardHelpIconFactory.fromHotkeyData(AccessibleValueHandlerHotkeyDataCollection.PAGE_DOWN_HOTKEY_DATA);
        const pageUpPageDownIcon = new HBox({
            children: [
                pageUpKeyNode,
                pageDownKeyNode
            ],
            spacing: KeyboardHelpIconFactory.DEFAULT_ICON_SPACING
        });
        const adjustInLargerStepsRow = KeyboardHelpSectionRow.labelWithIcon(adjustInLargerStepsStringProperty, pageUpPageDownIcon, {
            labelInnerContent: keyboardHelpDialogLargerStepsStringProperty
        });
        // 'move to minimum value' content
        const homeKeyNode = KeyboardHelpIconFactory.fromHotkeyData(AccessibleValueHandlerHotkeyDataCollection.HOME_HOTKEY_DATA);
        const jumpToMinimumRow = KeyboardHelpSectionRow.labelWithIcon(jumpToMinimumStringProperty, homeKeyNode, {
            labelInnerContent: jumpToMinimumDescriptionStringProperty
        });
        // 'move to maximum value' content
        const endKeyNode = KeyboardHelpIconFactory.fromHotkeyData(AccessibleValueHandlerHotkeyDataCollection.END_HOTKEY_DATA);
        const jumpToMaximumRow = KeyboardHelpSectionRow.labelWithIcon(jumpToMaximumStringProperty, endKeyNode, {
            labelInnerContent: jumpToMaximumDescriptionStringProperty
        });
        // assemble final content for KeyboardHelpSection
        const content = [
            adjustSliderRow,
            ...options.includeSmallerStepsRow ? [
                adjustSliderInSmallerStepsRow
            ] : [],
            ...options.includeLargerStepsRow ? [
                adjustInLargerStepsRow
            ] : [],
            jumpToMinimumRow,
            jumpToMaximumRow,
            ...options.additionalRows
        ];
        super(options.headingStringProperty, content, options);
    }
};
SliderControlsKeyboardHelpSection.ArrowKeyIconDisplay = ArrowKeyIconDisplay;
export { SliderControlsKeyboardHelpSection as default };
sceneryPhet.register('SliderControlsKeyboardHelpSection', SliderControlsKeyboardHelpSection);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9rZXlib2FyZC9oZWxwL1NsaWRlckNvbnRyb2xzS2V5Ym9hcmRIZWxwU2VjdGlvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxNy0yMDI0LCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcblxuLyoqXG4gKiBDb250ZW50IGZvciBhIEtleWJvYXJkSGVscERpYWxvZyB0aGF0IGRlc2NyaWJlcyBob3cgdG8gdXNlIHNsaWRlcnMuXG4gKlxuICogQGF1dGhvciBKZXNzZSBHcmVlbmJlcmdcbiAqL1xuXG5pbXBvcnQgUGF0dGVyblN0cmluZ1Byb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvUGF0dGVyblN0cmluZ1Byb3BlcnR5LmpzJztcbmltcG9ydCBUUmVhZE9ubHlQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1RSZWFkT25seVByb3BlcnR5LmpzJztcbmltcG9ydCBhc3NlcnRNdXR1YWxseUV4Y2x1c2l2ZU9wdGlvbnMgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL2Fzc2VydE11dHVhbGx5RXhjbHVzaXZlT3B0aW9ucy5qcyc7XG5pbXBvcnQgRW51bWVyYXRpb24gZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL0VudW1lcmF0aW9uLmpzJztcbmltcG9ydCBFbnVtZXJhdGlvblZhbHVlIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9FbnVtZXJhdGlvblZhbHVlLmpzJztcbmltcG9ydCBvcHRpb25pemUgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL29wdGlvbml6ZS5qcyc7XG5pbXBvcnQgeyBIQm94IH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcbmltcG9ydCBBY2Nlc3NpYmxlVmFsdWVIYW5kbGVySG90a2V5RGF0YUNvbGxlY3Rpb24gZnJvbSAnLi4vLi4vLi4vLi4vc3VuL2pzL2FjY2Vzc2liaWxpdHkvQWNjZXNzaWJsZVZhbHVlSGFuZGxlckhvdGtleURhdGFDb2xsZWN0aW9uLmpzJztcbmltcG9ydCBUYW5kZW0gZnJvbSAnLi4vLi4vLi4vLi4vdGFuZGVtL2pzL1RhbmRlbS5qcyc7XG5pbXBvcnQgc2NlbmVyeVBoZXQgZnJvbSAnLi4vLi4vc2NlbmVyeVBoZXQuanMnO1xuaW1wb3J0IFNjZW5lcnlQaGV0U3RyaW5ncyBmcm9tICcuLi8uLi9TY2VuZXJ5UGhldFN0cmluZ3MuanMnO1xuaW1wb3J0IEtleWJvYXJkSGVscEljb25GYWN0b3J5IGZyb20gJy4vS2V5Ym9hcmRIZWxwSWNvbkZhY3RvcnkuanMnO1xuaW1wb3J0IEtleWJvYXJkSGVscFNlY3Rpb24sIHsgS2V5Ym9hcmRIZWxwU2VjdGlvbk9wdGlvbnMgfSBmcm9tICcuL0tleWJvYXJkSGVscFNlY3Rpb24uanMnO1xuaW1wb3J0IEtleWJvYXJkSGVscFNlY3Rpb25Sb3cgZnJvbSAnLi9LZXlib2FyZEhlbHBTZWN0aW9uUm93LmpzJztcblxuLy8gQ29uZmlndXJhdGlvbnMgb2YgYXJyb3cga2V5cyB0aGF0IGNhbiBiZSBkaXNwbGF5ZWQgZm9yICdNb3ZlIGJldHdlZW4gaXRlbXMgaW4gYSBncm91cCdcbmV4cG9ydCBjbGFzcyBBcnJvd0tleUljb25EaXNwbGF5IGV4dGVuZHMgRW51bWVyYXRpb25WYWx1ZSB7XG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgVVBfRE9XTiA9IG5ldyBBcnJvd0tleUljb25EaXNwbGF5KCk7XG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTEVGVF9SSUdIVCA9IG5ldyBBcnJvd0tleUljb25EaXNwbGF5KCk7XG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQk9USCA9IG5ldyBBcnJvd0tleUljb25EaXNwbGF5KCk7XG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBlbnVtZXJhdGlvbiA9IG5ldyBFbnVtZXJhdGlvbiggQXJyb3dLZXlJY29uRGlzcGxheSApO1xufVxuXG50eXBlIFNlbGZPcHRpb25zID0ge1xuXG4gIC8vIFdoZXRoZXIgdG8gc2hvdyB1cC9kb3duLCBsZWZ0L3JpZ2h0IG9yIGJvdGggc2V0cyBvZiBrZXlib2FyZCBoZWxwIGljb25zIHRvIGN1ZSB0aGUgc2xpZGVyIGludGVyYWN0aW9uLlxuICBhcnJvd0tleUljb25EaXNwbGF5PzogQXJyb3dLZXlJY29uRGlzcGxheTtcblxuICAvLyBoZWFkaW5nIHN0cmluZyBmb3IgdGhpcyBjb250ZW50XG4gIGhlYWRpbmdTdHJpbmdQcm9wZXJ0eT86IFRSZWFkT25seVByb3BlcnR5PHN0cmluZz47XG5cbiAgLy8gY3VzdG9tIHN0cmluZyBmb3IgdGhlIFwiQWRqdXN0IFNsaWRlclwiIHJvd1xuICBhZGp1c3RTbGlkZXJTdHJpbmdQcm9wZXJ0eT86IFRSZWFkT25seVByb3BlcnR5PHN0cmluZz47XG5cbiAgLy8gY3VzdG9tIHN0cmluZyBmb3IgdGhlIFwiQWRqdXN0IGluIFNtYWxsZXIgU3RlcHNcIiByb3dcbiAgYWRqdXN0SW5TbWFsbGVyU3RlcHNTdHJpbmdQcm9wZXJ0eT86IFRSZWFkT25seVByb3BlcnR5PHN0cmluZz47XG5cbiAgLy8gY3VzdG9tIHN0cmluZyBmb3IgdGhlIFwiQWRqdXN0IGluIExhcmdlciBTdGVwc1wiIHJvd1xuICBhZGp1c3RJbkxhcmdlclN0ZXBzU3RyaW5nUHJvcGVydHk/OiBUUmVhZE9ubHlQcm9wZXJ0eTxzdHJpbmc+O1xuXG4gIC8vIHZlcmIgdXNlZCB0byBkZXNjcmliZSB0aGUgbW92ZW1lbnQgb2YgdGhlIHNsaWRlciAtIHRoaXMgd2lsbCBiZSBmaWxsZWQgaW50byB0aGUgZGVmYXVsdCBwYXR0ZXJuIGZvclxuICAvLyBlYWNoIHJvdyBzbyB5b3UgY2Fubm90IHVzZSB0aGlzIGFuZCB0aGUgb3RoZXIgc3RyaW5nIG9wdGlvbnMgYXQgdGhlIHNhbWUgdGltZVxuICB2ZXJiU3RyaW5nUHJvcGVydHk/OiBUUmVhZE9ubHlQcm9wZXJ0eTxzdHJpbmc+O1xuXG4gIC8vIG5hbWUgdG8gY2FsbCB0aGUgc2xpZGVyIChsb3dlcmNhc2UpLCBkZWZhdWx0IHRvIFwic2xpZGVyXCIgLSB0aGlzIHdpbGwgYmUgZmlsbGVkIGludG8gdGhlIGRlZmF1bHQgcGF0dGVybiBmb3JcbiAgLy8gZWFjaCByb3cgc28geW91IGNhbm5vdCB1c2UgdGhpcyBhbmQgdGhlIG90aGVyIHN0cmluZyBvcHRpb25zIGF0IHRoZSBzYW1lIHRpbWVcbiAgc2xpZGVyU3RyaW5nUHJvcGVydHk/OiBUUmVhZE9ubHlQcm9wZXJ0eTxzdHJpbmc+O1xuXG4gIC8vIFN0cmluZ3MgZm9yIGV4dHJlbWl0aWVzIHRvIHN1cHBvcnQgc2hvcnRjdXRzIGxpa2UgXCJqdW1wIHRvIG1heGltdW1cIiAocmVuYW1pbmcgXCJtYXhpbXVtXCIgaWYgZGVzaXJlZC5cbiAgLy8gQGRlcHJlY2F0ZWQgLSB1c2UganVtcFRvTWF4aW11bVN0cmluZ1Byb3BlcnR5IGFuZCBqdW1wVG9NaW5pbXVtU3RyaW5nUHJvcGVydHkgaW5zdGVhZC5cbiAgbWF4aW11bVN0cmluZ1Byb3BlcnR5PzogVFJlYWRPbmx5UHJvcGVydHk8c3RyaW5nPjtcbiAgbWluaW11bVN0cmluZ1Byb3BlcnR5PzogVFJlYWRPbmx5UHJvcGVydHk8c3RyaW5nPjtcblxuICAvLyBDdXN0b20gc3RyaW5ncyBmb3IgdGhlIGZ1bGwgJ0p1bXAgdG8gTWluaW11bScgYW5kICdKdW1wIHRvIE1heGltdW0nIHJvd3MuIE11dHVhbGx5IGV4Y2x1c2l2ZSB3aXRoXG4gIC8vIG1pbmltdW1TdHJpbmdQcm9wZXJ0eSBhbmQgbWF4aW11bVN0cmluZ1Byb3BlcnR5LlxuICBqdW1wVG9NYXhpbXVtU3RyaW5nUHJvcGVydHk/OiBUUmVhZE9ubHlQcm9wZXJ0eTxzdHJpbmc+O1xuICBqdW1wVG9NaW5pbXVtU3RyaW5nUHJvcGVydHk/OiBUUmVhZE9ubHlQcm9wZXJ0eTxzdHJpbmc+O1xuXG4gIC8vIERldGVybWluZXMgd2hldGhlciB0aGlzIGtleWJvYXJkIGhlbHAgc2VjdGlvbiB3aWxsIGhhdmUgdGhlIFwiQWRqdXN0IGluIFNtYWxsZXIgU3RlcHNcIiByb3cuXG4gIGluY2x1ZGVTbWFsbGVyU3RlcHNSb3c/OiBib29sZWFuO1xuXG4gIC8vIERldGVybWluZXMgd2hldGhlciB0aGlzIGtleWJvYXJkIGhlbHAgc2VjdGlvbiB3aWxsIGhhdmUgdGhlIFwiQWRqdXN0IGluIExhcmdlciBTdGVwc1wiIHJvdy5cbiAgaW5jbHVkZUxhcmdlclN0ZXBzUm93PzogYm9vbGVhbjtcblxuICAvLyBTb21ldGltZXMgYSBzbGlkZXIgaGFzIGN1c3RvbSBrZXkgY29tbWFuZHMuIFByb3ZpZGUgYWRkaXRpb25hbCByb3dzIGZvciB0aG9zZSBjb21tYW5kcyBhbmQgdGhleSB3aWxsIGJlIGFkZGVkXG4gIC8vIGJlbG93IGRlZmF1bHQgc2xpZGVyIGNvbnRyb2xzIGNvbnRlbnQuXG4gIGFkZGl0aW9uYWxSb3dzPzogS2V5Ym9hcmRIZWxwU2VjdGlvblJvd1tdO1xufTtcblxuZXhwb3J0IHR5cGUgU2xpZGVyQ29udHJvbHNLZXlib2FyZEhlbHBTZWN0aW9uT3B0aW9ucyA9IFNlbGZPcHRpb25zICYgS2V5Ym9hcmRIZWxwU2VjdGlvbk9wdGlvbnM7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNsaWRlckNvbnRyb2xzS2V5Ym9hcmRIZWxwU2VjdGlvbiBleHRlbmRzIEtleWJvYXJkSGVscFNlY3Rpb24ge1xuXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQXJyb3dLZXlJY29uRGlzcGxheSA9IEFycm93S2V5SWNvbkRpc3BsYXk7XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKCBwcm92aWRlZE9wdGlvbnM/OiBTbGlkZXJDb250cm9sc0tleWJvYXJkSGVscFNlY3Rpb25PcHRpb25zICkge1xuXG4gICAgLy8gSWYgeW91IHByb3ZpZGUgYSBzdHJpbmcgZm9yIHRoZSB2ZXJiIG9yIHNsaWRlciwgaXQgd2lsbCBiZSBmaWxsZWQgaW50byB0aGUgZGVmYXVsdCBwYXR0ZXJuXG4gICAgLy8gZm9yIGFsbCByb3dzIHNvIHlvdSBjYW5ub3QgY3VzdG9taXplIGVhY2ggcm93IGluZGl2aWR1YWxseS5cbiAgICBhc3NlcnQgJiYgYXNzZXJ0TXV0dWFsbHlFeGNsdXNpdmVPcHRpb25zKCBwcm92aWRlZE9wdGlvbnMsXG4gICAgICBbICd2ZXJiU3RyaW5nUHJvcGVydHknLCAnc2xpZGVyU3RyaW5nUHJvcGVydHknIF0sXG4gICAgICBbICdhZGp1c3RTbGlkZXJTdHJpbmdQcm9wZXJ0eScsICdhZGp1c3RJblNtYWxsZXJTdGVwc1N0cmluZ1Byb3BlcnR5JywgJ2FkanVzdEluTGFyZ2VyU3RlcHNTdHJpbmdQcm9wZXJ0eScgXSApO1xuXG4gICAgYXNzZXJ0ICYmIGFzc2VydE11dHVhbGx5RXhjbHVzaXZlT3B0aW9ucyggcHJvdmlkZWRPcHRpb25zLCBbICdtYXhpbXVtU3RyaW5nUHJvcGVydHknIF0sIFsgJ2p1bXBUb01heGltdW1TdHJpbmdQcm9wZXJ0eScgXSApO1xuICAgIGFzc2VydCAmJiBhc3NlcnRNdXR1YWxseUV4Y2x1c2l2ZU9wdGlvbnMoIHByb3ZpZGVkT3B0aW9ucywgWyAnbWluaW11bVN0cmluZ1Byb3BlcnR5JyBdLCBbICdqdW1wVG9NaW5pbXVtU3RyaW5nUHJvcGVydHknIF0gKTtcblxuICAgIGNvbnN0IG93bnNNYXhpbXVtU3RyaW5nUHJvcGVydHkgPSBwcm92aWRlZE9wdGlvbnMgJiYgJ21heGltdW1TdHJpbmdQcm9wZXJ0eScgaW4gcHJvdmlkZWRPcHRpb25zO1xuICAgIGNvbnN0IG93bnNNaW5pbXVtU3RyaW5nUHJvcGVydHkgPSBwcm92aWRlZE9wdGlvbnMgJiYgJ21pbmltdW1TdHJpbmdQcm9wZXJ0eScgaW4gcHJvdmlkZWRPcHRpb25zO1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbml6ZTxTbGlkZXJDb250cm9sc0tleWJvYXJkSGVscFNlY3Rpb25PcHRpb25zLCBTZWxmT3B0aW9ucywgS2V5Ym9hcmRIZWxwU2VjdGlvbk9wdGlvbnM+KCkoIHtcbiAgICAgIGFycm93S2V5SWNvbkRpc3BsYXk6IEFycm93S2V5SWNvbkRpc3BsYXkuQk9USCxcbiAgICAgIGhlYWRpbmdTdHJpbmdQcm9wZXJ0eTogU2NlbmVyeVBoZXRTdHJpbmdzLmtleWJvYXJkSGVscERpYWxvZy5zbGlkZXJDb250cm9sc1N0cmluZ1Byb3BlcnR5LFxuXG4gICAgICB2ZXJiU3RyaW5nUHJvcGVydHk6IFNjZW5lcnlQaGV0U3RyaW5ncy5rZXlib2FyZEhlbHBEaWFsb2cuYWRqdXN0U3RyaW5nUHJvcGVydHksXG4gICAgICBzbGlkZXJTdHJpbmdQcm9wZXJ0eTogU2NlbmVyeVBoZXRTdHJpbmdzLmtleWJvYXJkSGVscERpYWxvZy5zbGlkZXJTdHJpbmdQcm9wZXJ0eSxcbiAgICAgIG1heGltdW1TdHJpbmdQcm9wZXJ0eTogU2NlbmVyeVBoZXRTdHJpbmdzLmtleWJvYXJkSGVscERpYWxvZy5tYXhpbXVtU3RyaW5nUHJvcGVydHksXG4gICAgICBtaW5pbXVtU3RyaW5nUHJvcGVydHk6IFNjZW5lcnlQaGV0U3RyaW5ncy5rZXlib2FyZEhlbHBEaWFsb2cubWluaW11bVN0cmluZ1Byb3BlcnR5LFxuICAgICAganVtcFRvTWF4aW11bVN0cmluZ1Byb3BlcnR5OiBTY2VuZXJ5UGhldFN0cmluZ3Mua2V5Ym9hcmRIZWxwRGlhbG9nLmp1bXBUb01heGltdW1TdHJpbmdQcm9wZXJ0eSxcbiAgICAgIGp1bXBUb01pbmltdW1TdHJpbmdQcm9wZXJ0eTogU2NlbmVyeVBoZXRTdHJpbmdzLmtleWJvYXJkSGVscERpYWxvZy5qdW1wVG9NaW5pbXVtU3RyaW5nUHJvcGVydHksXG5cbiAgICAgIGFkanVzdFNsaWRlclN0cmluZ1Byb3BlcnR5OiBTY2VuZXJ5UGhldFN0cmluZ3Mua2V5Ym9hcmRIZWxwRGlhbG9nLmFkanVzdFNsaWRlclN0cmluZ1Byb3BlcnR5LFxuICAgICAgYWRqdXN0SW5TbWFsbGVyU3RlcHNTdHJpbmdQcm9wZXJ0eTogU2NlbmVyeVBoZXRTdHJpbmdzLmtleWJvYXJkSGVscERpYWxvZy5hZGp1c3RJblNtYWxsZXJTdGVwc1N0cmluZ1Byb3BlcnR5LFxuICAgICAgYWRqdXN0SW5MYXJnZXJTdGVwc1N0cmluZ1Byb3BlcnR5OiBTY2VuZXJ5UGhldFN0cmluZ3Mua2V5Ym9hcmRIZWxwRGlhbG9nLmFkanVzdEluTGFyZ2VyU3RlcHNTdHJpbmdQcm9wZXJ0eSxcblxuICAgICAgaW5jbHVkZVNtYWxsZXJTdGVwc1JvdzogdHJ1ZSxcbiAgICAgIGluY2x1ZGVMYXJnZXJTdGVwc1JvdzogdHJ1ZSxcbiAgICAgIGFkZGl0aW9uYWxSb3dzOiBbXVxuICAgIH0sIHByb3ZpZGVkT3B0aW9ucyApO1xuXG4gICAgbGV0IGFkanVzdFNsaWRlclN0cmluZ1Byb3BlcnR5ID0gb3B0aW9ucy5hZGp1c3RTbGlkZXJTdHJpbmdQcm9wZXJ0eTtcbiAgICBsZXQgYWRqdXN0SW5TbWFsbGVyU3RlcHNTdHJpbmdQcm9wZXJ0eSA9IG9wdGlvbnMuYWRqdXN0SW5TbWFsbGVyU3RlcHNTdHJpbmdQcm9wZXJ0eTtcbiAgICBsZXQgYWRqdXN0SW5MYXJnZXJTdGVwc1N0cmluZ1Byb3BlcnR5ID0gb3B0aW9ucy5hZGp1c3RJbkxhcmdlclN0ZXBzU3RyaW5nUHJvcGVydHk7XG4gICAgaWYgKCBvcHRpb25zLnZlcmJTdHJpbmdQcm9wZXJ0eSAhPT0gU2NlbmVyeVBoZXRTdHJpbmdzLmtleWJvYXJkSGVscERpYWxvZy5hZGp1c3RTdHJpbmdQcm9wZXJ0eSB8fFxuICAgICAgICAgb3B0aW9ucy5zbGlkZXJTdHJpbmdQcm9wZXJ0eSAhPT0gU2NlbmVyeVBoZXRTdHJpbmdzLmtleWJvYXJkSGVscERpYWxvZy5zbGlkZXJTdHJpbmdQcm9wZXJ0eVxuICAgICkge1xuXG4gICAgICAvLyB3ZSBhcmUgZmlsbGluZyBpbiB0aGUgdmVyYiBhbmQgbmFtZVxuICAgICAgYWRqdXN0U2xpZGVyU3RyaW5nUHJvcGVydHkgPSBuZXcgUGF0dGVyblN0cmluZ1Byb3BlcnR5KCBTY2VuZXJ5UGhldFN0cmluZ3Mua2V5Ym9hcmRIZWxwRGlhbG9nLnZlcmJTbGlkZXJQYXR0ZXJuU3RyaW5nUHJvcGVydHksIHtcbiAgICAgICAgdmVyYjogb3B0aW9ucy52ZXJiU3RyaW5nUHJvcGVydHksXG4gICAgICAgIHNsaWRlcjogb3B0aW9ucy5zbGlkZXJTdHJpbmdQcm9wZXJ0eVxuICAgICAgfSwgeyB0YW5kZW06IFRhbmRlbS5PUFRfT1VUIH0gKTtcbiAgICAgIGFkanVzdEluU21hbGxlclN0ZXBzU3RyaW5nUHJvcGVydHkgPSBuZXcgUGF0dGVyblN0cmluZ1Byb3BlcnR5KCBTY2VuZXJ5UGhldFN0cmluZ3Mua2V5Ym9hcmRIZWxwRGlhbG9nLnZlcmJJblNtYWxsZXJTdGVwc1BhdHRlcm5TdHJpbmdQcm9wZXJ0eSwge1xuICAgICAgICB2ZXJiOiBvcHRpb25zLnZlcmJTdHJpbmdQcm9wZXJ0eVxuICAgICAgfSwgeyB0YW5kZW06IFRhbmRlbS5PUFRfT1VUIH0gKTtcbiAgICAgIGFkanVzdEluTGFyZ2VyU3RlcHNTdHJpbmdQcm9wZXJ0eSA9IG5ldyBQYXR0ZXJuU3RyaW5nUHJvcGVydHkoIFNjZW5lcnlQaGV0U3RyaW5ncy5rZXlib2FyZEhlbHBEaWFsb2cudmVyYkluTGFyZ2VyU3RlcHNQYXR0ZXJuU3RyaW5nUHJvcGVydHksIHtcbiAgICAgICAgdmVyYjogb3B0aW9ucy52ZXJiU3RyaW5nUHJvcGVydHlcbiAgICAgIH0sIHsgdGFuZGVtOiBUYW5kZW0uT1BUX09VVCB9ICk7XG4gICAgfVxuXG4gICAgY29uc3Qga2V5c1N0cmluZ1Byb3BlcnR5ID1cbiAgICAgICggb3B0aW9ucy5hcnJvd0tleUljb25EaXNwbGF5ID09PSBBcnJvd0tleUljb25EaXNwbGF5LkxFRlRfUklHSFQgKSA/IFNjZW5lcnlQaGV0U3RyaW5ncy5hMTF5LmtleWJvYXJkSGVscERpYWxvZy5zbGlkZXIubGVmdFJpZ2h0QXJyb3dLZXlzU3RyaW5nUHJvcGVydHkgOlxuICAgICAgKCBvcHRpb25zLmFycm93S2V5SWNvbkRpc3BsYXkgPT09IEFycm93S2V5SWNvbkRpc3BsYXkuVVBfRE9XTiApID8gU2NlbmVyeVBoZXRTdHJpbmdzLmExMXkua2V5Ym9hcmRIZWxwRGlhbG9nLnNsaWRlci51cERvd25BcnJvd0tleXNTdHJpbmdQcm9wZXJ0eSA6XG4gICAgICAoIG9wdGlvbnMuYXJyb3dLZXlJY29uRGlzcGxheSA9PT0gQXJyb3dLZXlJY29uRGlzcGxheS5CT1RIICkgP1xuICAgICAgbmV3IFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSggU2NlbmVyeVBoZXRTdHJpbmdzLmExMXkua2V5Ym9hcmRIZWxwRGlhbG9nLnNsaWRlci5vcktleXNQYXR0ZXJuU3RyaW5nUHJvcGVydHksIHtcbiAgICAgICAgbGVmdFJpZ2h0OiBTY2VuZXJ5UGhldFN0cmluZ3MuYTExeS5rZXlib2FyZEhlbHBEaWFsb2cuc2xpZGVyLmxlZnRSaWdodEFycm93S2V5c1N0cmluZ1Byb3BlcnR5LFxuICAgICAgICB1cERvd246IFNjZW5lcnlQaGV0U3RyaW5ncy5hMTF5LmtleWJvYXJkSGVscERpYWxvZy5zbGlkZXIudXBEb3duQXJyb3dLZXlzU3RyaW5nUHJvcGVydHlcbiAgICAgIH0sIHsgdGFuZGVtOiBUYW5kZW0uT1BUX09VVCB9ICkgOiBudWxsO1xuICAgIGFzc2VydCAmJiBhc3NlcnQoIGtleXNTdHJpbmdQcm9wZXJ0eSApO1xuICAgIGNvbnN0IGtleWJvYXJkSGVscERpYWxvZ0RlZmF1bHRTdGVwc1N0cmluZ1Byb3BlcnR5ID0gbmV3IFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSggU2NlbmVyeVBoZXRTdHJpbmdzLmExMXkua2V5Ym9hcmRIZWxwRGlhbG9nLnNsaWRlci5kZWZhdWx0U3RlcHNEZXNjcmlwdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eSwge1xuICAgICAgdmVyYjogb3B0aW9ucy52ZXJiU3RyaW5nUHJvcGVydHksXG4gICAgICBzbGlkZXI6IG9wdGlvbnMuc2xpZGVyU3RyaW5nUHJvcGVydHksXG4gICAgICBrZXlzOiBrZXlzU3RyaW5nUHJvcGVydHkhXG4gICAgfSwgeyB0YW5kZW06IFRhbmRlbS5PUFRfT1VUIH0gKTtcblxuICAgIGNvbnN0IHNoaWZ0S2V5c1N0cmluZ1Byb3BlcnR5ID1cbiAgICAgICggb3B0aW9ucy5hcnJvd0tleUljb25EaXNwbGF5ID09PSBBcnJvd0tleUljb25EaXNwbGF5LkxFRlRfUklHSFQgKSA/IFNjZW5lcnlQaGV0U3RyaW5ncy5hMTF5LmtleWJvYXJkSGVscERpYWxvZy5zbGlkZXIuc2hpZnRMZWZ0UmlnaHRBcnJvd0tleXNTdHJpbmdQcm9wZXJ0eSA6XG4gICAgICAoIG9wdGlvbnMuYXJyb3dLZXlJY29uRGlzcGxheSA9PT0gQXJyb3dLZXlJY29uRGlzcGxheS5VUF9ET1dOICkgPyBTY2VuZXJ5UGhldFN0cmluZ3MuYTExeS5rZXlib2FyZEhlbHBEaWFsb2cuc2xpZGVyLnNoaWZ0VXBEb3duQXJyb3dLZXlzU3RyaW5nUHJvcGVydHkgOlxuICAgICAgKCBvcHRpb25zLmFycm93S2V5SWNvbkRpc3BsYXkgPT09IEFycm93S2V5SWNvbkRpc3BsYXkuQk9USCApID8gbmV3IFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSggU2NlbmVyeVBoZXRTdHJpbmdzLmExMXkua2V5Ym9hcmRIZWxwRGlhbG9nLnNsaWRlci5vcktleXNQYXR0ZXJuU3RyaW5nUHJvcGVydHksIHtcbiAgICAgICAgbGVmdFJpZ2h0OiBTY2VuZXJ5UGhldFN0cmluZ3MuYTExeS5rZXlib2FyZEhlbHBEaWFsb2cuc2xpZGVyLnNoaWZ0TGVmdFJpZ2h0QXJyb3dLZXlzU3RyaW5nUHJvcGVydHksXG4gICAgICAgIHVwRG93bjogU2NlbmVyeVBoZXRTdHJpbmdzLmExMXkua2V5Ym9hcmRIZWxwRGlhbG9nLnNsaWRlci5zaGlmdFVwRG93bkFycm93S2V5c1N0cmluZ1Byb3BlcnR5XG4gICAgICB9LCB7IHRhbmRlbTogVGFuZGVtLk9QVF9PVVQgfSApIDogbnVsbDtcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBzaGlmdEtleXNTdHJpbmdQcm9wZXJ0eSApO1xuICAgIGNvbnN0IGtleWJvYXJkSGVscERpYWxvZ1NtYWxsZXJTdGVwc1N0cmluZ1Byb3BlcnR5ID0gbmV3IFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSggU2NlbmVyeVBoZXRTdHJpbmdzLmExMXkua2V5Ym9hcmRIZWxwRGlhbG9nLnNsaWRlci5zbWFsbGVyU3RlcHNEZXNjcmlwdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eSwge1xuICAgICAgdmVyYjogb3B0aW9ucy52ZXJiU3RyaW5nUHJvcGVydHksXG4gICAgICBrZXlzOiBzaGlmdEtleXNTdHJpbmdQcm9wZXJ0eSFcbiAgICB9LCB7IHRhbmRlbTogVGFuZGVtLk9QVF9PVVQgfSApO1xuICAgIGNvbnN0IGtleWJvYXJkSGVscERpYWxvZ0xhcmdlclN0ZXBzU3RyaW5nUHJvcGVydHkgPSBuZXcgUGF0dGVyblN0cmluZ1Byb3BlcnR5KCBTY2VuZXJ5UGhldFN0cmluZ3MuYTExeS5rZXlib2FyZEhlbHBEaWFsb2cuc2xpZGVyLmxhcmdlclN0ZXBzRGVzY3JpcHRpb25QYXR0ZXJuU3RyaW5nUHJvcGVydHksIHtcbiAgICAgIHZlcmI6IG9wdGlvbnMudmVyYlN0cmluZ1Byb3BlcnR5XG4gICAgfSwgeyB0YW5kZW06IFRhbmRlbS5PUFRfT1VUIH0gKTtcblxuXG4gICAgbGV0IGp1bXBUb01pbmltdW1TdHJpbmdQcm9wZXJ0eSA9IG9wdGlvbnMuanVtcFRvTWluaW11bVN0cmluZ1Byb3BlcnR5O1xuICAgIGlmICggb3duc01pbmltdW1TdHJpbmdQcm9wZXJ0eSApIHtcbiAgICAgIGp1bXBUb01pbmltdW1TdHJpbmdQcm9wZXJ0eSA9IG5ldyBQYXR0ZXJuU3RyaW5nUHJvcGVydHkoIFNjZW5lcnlQaGV0U3RyaW5ncy5rZXlib2FyZEhlbHBEaWFsb2cuanVtcFRvTWluaW11bVBhdHRlcm5TdHJpbmdQcm9wZXJ0eSwge1xuICAgICAgICBtaW5pbXVtOiBvcHRpb25zLm1pbmltdW1TdHJpbmdQcm9wZXJ0eVxuICAgICAgfSwgeyB0YW5kZW06IFRhbmRlbS5PUFRfT1VUIH0gKTtcbiAgICB9XG5cbiAgICBsZXQganVtcFRvTWF4aW11bVN0cmluZ1Byb3BlcnR5ID0gb3B0aW9ucy5qdW1wVG9NYXhpbXVtU3RyaW5nUHJvcGVydHk7XG4gICAgaWYgKCBvd25zTWF4aW11bVN0cmluZ1Byb3BlcnR5ICkge1xuICAgICAganVtcFRvTWF4aW11bVN0cmluZ1Byb3BlcnR5ID0gbmV3IFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSggU2NlbmVyeVBoZXRTdHJpbmdzLmtleWJvYXJkSGVscERpYWxvZy5qdW1wVG9NYXhpbXVtUGF0dGVyblN0cmluZ1Byb3BlcnR5LCB7XG4gICAgICAgIG1heGltdW06IG9wdGlvbnMubWF4aW11bVN0cmluZ1Byb3BlcnR5XG4gICAgICB9LCB7IHRhbmRlbTogVGFuZGVtLk9QVF9PVVQgfSApO1xuICAgIH1cbiAgICBjb25zdCBqdW1wVG9NaW5pbXVtRGVzY3JpcHRpb25TdHJpbmdQcm9wZXJ0eSA9IG5ldyBQYXR0ZXJuU3RyaW5nUHJvcGVydHkoIFNjZW5lcnlQaGV0U3RyaW5ncy5hMTF5LmtleWJvYXJkSGVscERpYWxvZy5zbGlkZXIuanVtcFRvTWluaW11bURlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5LCB7XG4gICAgICBtaW5pbXVtOiBvcHRpb25zLm1pbmltdW1TdHJpbmdQcm9wZXJ0eVxuICAgIH0sIHsgdGFuZGVtOiBUYW5kZW0uT1BUX09VVCB9ICk7XG4gICAgY29uc3QganVtcFRvTWF4aW11bURlc2NyaXB0aW9uU3RyaW5nUHJvcGVydHkgPSBuZXcgUGF0dGVyblN0cmluZ1Byb3BlcnR5KCBTY2VuZXJ5UGhldFN0cmluZ3MuYTExeS5rZXlib2FyZEhlbHBEaWFsb2cuc2xpZGVyLmp1bXBUb01heGltdW1EZXNjcmlwdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eSwge1xuICAgICAgbWF4aW11bTogb3B0aW9ucy5tYXhpbXVtU3RyaW5nUHJvcGVydHlcbiAgICB9LCB7IHRhbmRlbTogVGFuZGVtLk9QVF9PVVQgfSApO1xuXG4gICAgLy8gJ01vdmUgc2xpZGVycycgY29udGVudFxuICAgIGNvbnN0IGxlZnRSaWdodEFycm93S2V5c1Jvd0ljb24gPSBLZXlib2FyZEhlbHBJY29uRmFjdG9yeS5pY29uUm93KCBbXG4gICAgICBLZXlib2FyZEhlbHBJY29uRmFjdG9yeS5mcm9tSG90a2V5RGF0YSggQWNjZXNzaWJsZVZhbHVlSGFuZGxlckhvdGtleURhdGFDb2xsZWN0aW9uLkxFRlRfQVJST1dfSE9US0VZX0RBVEEgKSxcbiAgICAgIEtleWJvYXJkSGVscEljb25GYWN0b3J5LmZyb21Ib3RrZXlEYXRhKCBBY2Nlc3NpYmxlVmFsdWVIYW5kbGVySG90a2V5RGF0YUNvbGxlY3Rpb24uUklHSFRfQVJST1dfSE9US0VZX0RBVEEgKVxuICAgIF0gKTtcbiAgICBjb25zdCBzaGlmdFBsdXNMZWZ0UmlnaHRJY29uID0gS2V5Ym9hcmRIZWxwSWNvbkZhY3Rvcnkuc2hpZnRQbHVzSWNvbiggbGVmdFJpZ2h0QXJyb3dLZXlzUm93SWNvbiApO1xuICAgIGNvbnN0IHVwRG93bkFycm93S2V5c1Jvd0ljb24gPSBLZXlib2FyZEhlbHBJY29uRmFjdG9yeS5pY29uUm93KCBbXG4gICAgICBLZXlib2FyZEhlbHBJY29uRmFjdG9yeS5mcm9tSG90a2V5RGF0YSggQWNjZXNzaWJsZVZhbHVlSGFuZGxlckhvdGtleURhdGFDb2xsZWN0aW9uLlVQX0FSUk9XX0hPVEtFWV9EQVRBICksXG4gICAgICBLZXlib2FyZEhlbHBJY29uRmFjdG9yeS5mcm9tSG90a2V5RGF0YSggQWNjZXNzaWJsZVZhbHVlSGFuZGxlckhvdGtleURhdGFDb2xsZWN0aW9uLkRPV05fQVJST1dfSE9US0VZX0RBVEEgKVxuICAgIF0gKTtcbiAgICBjb25zdCBzaGlmdFBsdXNVcERvd25JY29uID0gS2V5Ym9hcmRIZWxwSWNvbkZhY3Rvcnkuc2hpZnRQbHVzSWNvbiggdXBEb3duQXJyb3dLZXlzUm93SWNvbiApO1xuICAgIGNvbnN0IGxlZnRSaWdodE9yVXBEb3duSWNvbiA9IEtleWJvYXJkSGVscEljb25GYWN0b3J5Lmljb25Pckljb24oIGxlZnRSaWdodEFycm93S2V5c1Jvd0ljb24sIHVwRG93bkFycm93S2V5c1Jvd0ljb24gKTtcblxuICAgIGxldCBhZGp1c3RTbGlkZXJJY29uID0gbnVsbDtcbiAgICBsZXQgYWRqdXN0U2xpZGVyU21hbGxlclN0ZXBzSWNvbnMgPSBudWxsO1xuXG4gICAgc3dpdGNoKCBvcHRpb25zLmFycm93S2V5SWNvbkRpc3BsYXkgKSB7XG4gICAgICBjYXNlIEFycm93S2V5SWNvbkRpc3BsYXkuTEVGVF9SSUdIVDpcbiAgICAgICAgYWRqdXN0U2xpZGVySWNvbiA9IGxlZnRSaWdodEFycm93S2V5c1Jvd0ljb247XG4gICAgICAgIGFkanVzdFNsaWRlclNtYWxsZXJTdGVwc0ljb25zID0gWyBzaGlmdFBsdXNMZWZ0UmlnaHRJY29uIF07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBBcnJvd0tleUljb25EaXNwbGF5LlVQX0RPV046XG4gICAgICAgIGFkanVzdFNsaWRlckljb24gPSB1cERvd25BcnJvd0tleXNSb3dJY29uO1xuICAgICAgICBhZGp1c3RTbGlkZXJTbWFsbGVyU3RlcHNJY29ucyA9IFsgc2hpZnRQbHVzVXBEb3duSWNvbiBdO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGFzc2VydCAmJiBhc3NlcnQoIG9wdGlvbnMuYXJyb3dLZXlJY29uRGlzcGxheSA9PT0gQXJyb3dLZXlJY29uRGlzcGxheS5CT1RILCAndW5zdXBwb3J0ZWQgYXJyb3dLZXlJY29uRGlzcGxheScgKTtcbiAgICAgICAgYWRqdXN0U2xpZGVySWNvbiA9IGxlZnRSaWdodE9yVXBEb3duSWNvbjtcbiAgICAgICAgYWRqdXN0U2xpZGVyU21hbGxlclN0ZXBzSWNvbnMgPSBbIHNoaWZ0UGx1c0xlZnRSaWdodEljb24sIHNoaWZ0UGx1c1VwRG93bkljb24gXTtcbiAgICB9XG4gICAgY29uc3QgYWRqdXN0U2xpZGVyUm93ID0gS2V5Ym9hcmRIZWxwU2VjdGlvblJvdy5sYWJlbFdpdGhJY29uKCBhZGp1c3RTbGlkZXJTdHJpbmdQcm9wZXJ0eSwgYWRqdXN0U2xpZGVySWNvbiwge1xuICAgICAgbGFiZWxJbm5lckNvbnRlbnQ6IGtleWJvYXJkSGVscERpYWxvZ0RlZmF1bHRTdGVwc1N0cmluZ1Byb3BlcnR5XG4gICAgfSApO1xuXG4gICAgY29uc3QgYWRqdXN0U2xpZGVySW5TbWFsbGVyU3RlcHNSb3cgPSBLZXlib2FyZEhlbHBTZWN0aW9uUm93LmxhYmVsV2l0aEljb25MaXN0KCBhZGp1c3RJblNtYWxsZXJTdGVwc1N0cmluZ1Byb3BlcnR5LFxuICAgICAgYWRqdXN0U2xpZGVyU21hbGxlclN0ZXBzSWNvbnMsIHtcbiAgICAgICAgbGFiZWxJbm5lckNvbnRlbnQ6IGtleWJvYXJkSGVscERpYWxvZ1NtYWxsZXJTdGVwc1N0cmluZ1Byb3BlcnR5XG4gICAgICB9ICk7XG5cbiAgICAvLyAnbW92ZSBpbiBsYXJnZXIgc3RlcHMnIGNvbnRlbnRcbiAgICBjb25zdCBwYWdlVXBLZXlOb2RlID0gS2V5Ym9hcmRIZWxwSWNvbkZhY3RvcnkuZnJvbUhvdGtleURhdGEoIEFjY2Vzc2libGVWYWx1ZUhhbmRsZXJIb3RrZXlEYXRhQ29sbGVjdGlvbi5QQUdFX1VQX0hPVEtFWV9EQVRBICk7XG4gICAgY29uc3QgcGFnZURvd25LZXlOb2RlID0gS2V5Ym9hcmRIZWxwSWNvbkZhY3RvcnkuZnJvbUhvdGtleURhdGEoIEFjY2Vzc2libGVWYWx1ZUhhbmRsZXJIb3RrZXlEYXRhQ29sbGVjdGlvbi5QQUdFX0RPV05fSE9US0VZX0RBVEEgKTtcbiAgICBjb25zdCBwYWdlVXBQYWdlRG93bkljb24gPSBuZXcgSEJveCgge1xuICAgICAgY2hpbGRyZW46IFsgcGFnZVVwS2V5Tm9kZSwgcGFnZURvd25LZXlOb2RlIF0sXG4gICAgICBzcGFjaW5nOiBLZXlib2FyZEhlbHBJY29uRmFjdG9yeS5ERUZBVUxUX0lDT05fU1BBQ0lOR1xuICAgIH0gKTtcbiAgICBjb25zdCBhZGp1c3RJbkxhcmdlclN0ZXBzUm93ID0gS2V5Ym9hcmRIZWxwU2VjdGlvblJvdy5sYWJlbFdpdGhJY29uKCBhZGp1c3RJbkxhcmdlclN0ZXBzU3RyaW5nUHJvcGVydHksIHBhZ2VVcFBhZ2VEb3duSWNvbiwge1xuICAgICAgbGFiZWxJbm5lckNvbnRlbnQ6IGtleWJvYXJkSGVscERpYWxvZ0xhcmdlclN0ZXBzU3RyaW5nUHJvcGVydHlcbiAgICB9ICk7XG5cbiAgICAvLyAnbW92ZSB0byBtaW5pbXVtIHZhbHVlJyBjb250ZW50XG4gICAgY29uc3QgaG9tZUtleU5vZGUgPSBLZXlib2FyZEhlbHBJY29uRmFjdG9yeS5mcm9tSG90a2V5RGF0YSggQWNjZXNzaWJsZVZhbHVlSGFuZGxlckhvdGtleURhdGFDb2xsZWN0aW9uLkhPTUVfSE9US0VZX0RBVEEgKTtcbiAgICBjb25zdCBqdW1wVG9NaW5pbXVtUm93ID0gS2V5Ym9hcmRIZWxwU2VjdGlvblJvdy5sYWJlbFdpdGhJY29uKCBqdW1wVG9NaW5pbXVtU3RyaW5nUHJvcGVydHksIGhvbWVLZXlOb2RlLCB7XG4gICAgICBsYWJlbElubmVyQ29udGVudDoganVtcFRvTWluaW11bURlc2NyaXB0aW9uU3RyaW5nUHJvcGVydHlcbiAgICB9ICk7XG5cbiAgICAvLyAnbW92ZSB0byBtYXhpbXVtIHZhbHVlJyBjb250ZW50XG4gICAgY29uc3QgZW5kS2V5Tm9kZSA9IEtleWJvYXJkSGVscEljb25GYWN0b3J5LmZyb21Ib3RrZXlEYXRhKCBBY2Nlc3NpYmxlVmFsdWVIYW5kbGVySG90a2V5RGF0YUNvbGxlY3Rpb24uRU5EX0hPVEtFWV9EQVRBICk7XG4gICAgY29uc3QganVtcFRvTWF4aW11bVJvdyA9IEtleWJvYXJkSGVscFNlY3Rpb25Sb3cubGFiZWxXaXRoSWNvbigganVtcFRvTWF4aW11bVN0cmluZ1Byb3BlcnR5LCBlbmRLZXlOb2RlLCB7XG4gICAgICBsYWJlbElubmVyQ29udGVudDoganVtcFRvTWF4aW11bURlc2NyaXB0aW9uU3RyaW5nUHJvcGVydHlcbiAgICB9ICk7XG5cbiAgICAvLyBhc3NlbWJsZSBmaW5hbCBjb250ZW50IGZvciBLZXlib2FyZEhlbHBTZWN0aW9uXG4gICAgY29uc3QgY29udGVudCA9IFtcbiAgICAgIGFkanVzdFNsaWRlclJvdyxcbiAgICAgIC4uLiggb3B0aW9ucy5pbmNsdWRlU21hbGxlclN0ZXBzUm93ID8gWyBhZGp1c3RTbGlkZXJJblNtYWxsZXJTdGVwc1JvdyBdIDogW10gKSxcbiAgICAgIC4uLiggb3B0aW9ucy5pbmNsdWRlTGFyZ2VyU3RlcHNSb3cgPyBbIGFkanVzdEluTGFyZ2VyU3RlcHNSb3cgXSA6IFtdICksXG4gICAgICBqdW1wVG9NaW5pbXVtUm93LFxuICAgICAganVtcFRvTWF4aW11bVJvdyxcbiAgICAgIC4uLm9wdGlvbnMuYWRkaXRpb25hbFJvd3NcbiAgICBdO1xuXG4gICAgc3VwZXIoIG9wdGlvbnMuaGVhZGluZ1N0cmluZ1Byb3BlcnR5LCBjb250ZW50LCBvcHRpb25zICk7XG4gIH1cbn1cblxuc2NlbmVyeVBoZXQucmVnaXN0ZXIoICdTbGlkZXJDb250cm9sc0tleWJvYXJkSGVscFNlY3Rpb24nLCBTbGlkZXJDb250cm9sc0tleWJvYXJkSGVscFNlY3Rpb24gKTsiXSwibmFtZXMiOlsiUGF0dGVyblN0cmluZ1Byb3BlcnR5IiwiYXNzZXJ0TXV0dWFsbHlFeGNsdXNpdmVPcHRpb25zIiwiRW51bWVyYXRpb24iLCJFbnVtZXJhdGlvblZhbHVlIiwib3B0aW9uaXplIiwiSEJveCIsIkFjY2Vzc2libGVWYWx1ZUhhbmRsZXJIb3RrZXlEYXRhQ29sbGVjdGlvbiIsIlRhbmRlbSIsInNjZW5lcnlQaGV0IiwiU2NlbmVyeVBoZXRTdHJpbmdzIiwiS2V5Ym9hcmRIZWxwSWNvbkZhY3RvcnkiLCJLZXlib2FyZEhlbHBTZWN0aW9uIiwiS2V5Ym9hcmRIZWxwU2VjdGlvblJvdyIsIkFycm93S2V5SWNvbkRpc3BsYXkiLCJVUF9ET1dOIiwiTEVGVF9SSUdIVCIsIkJPVEgiLCJlbnVtZXJhdGlvbiIsIlNsaWRlckNvbnRyb2xzS2V5Ym9hcmRIZWxwU2VjdGlvbiIsInByb3ZpZGVkT3B0aW9ucyIsImFzc2VydCIsIm93bnNNYXhpbXVtU3RyaW5nUHJvcGVydHkiLCJvd25zTWluaW11bVN0cmluZ1Byb3BlcnR5Iiwib3B0aW9ucyIsImFycm93S2V5SWNvbkRpc3BsYXkiLCJoZWFkaW5nU3RyaW5nUHJvcGVydHkiLCJrZXlib2FyZEhlbHBEaWFsb2ciLCJzbGlkZXJDb250cm9sc1N0cmluZ1Byb3BlcnR5IiwidmVyYlN0cmluZ1Byb3BlcnR5IiwiYWRqdXN0U3RyaW5nUHJvcGVydHkiLCJzbGlkZXJTdHJpbmdQcm9wZXJ0eSIsIm1heGltdW1TdHJpbmdQcm9wZXJ0eSIsIm1pbmltdW1TdHJpbmdQcm9wZXJ0eSIsImp1bXBUb01heGltdW1TdHJpbmdQcm9wZXJ0eSIsImp1bXBUb01pbmltdW1TdHJpbmdQcm9wZXJ0eSIsImFkanVzdFNsaWRlclN0cmluZ1Byb3BlcnR5IiwiYWRqdXN0SW5TbWFsbGVyU3RlcHNTdHJpbmdQcm9wZXJ0eSIsImFkanVzdEluTGFyZ2VyU3RlcHNTdHJpbmdQcm9wZXJ0eSIsImluY2x1ZGVTbWFsbGVyU3RlcHNSb3ciLCJpbmNsdWRlTGFyZ2VyU3RlcHNSb3ciLCJhZGRpdGlvbmFsUm93cyIsInZlcmJTbGlkZXJQYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJ2ZXJiIiwic2xpZGVyIiwidGFuZGVtIiwiT1BUX09VVCIsInZlcmJJblNtYWxsZXJTdGVwc1BhdHRlcm5TdHJpbmdQcm9wZXJ0eSIsInZlcmJJbkxhcmdlclN0ZXBzUGF0dGVyblN0cmluZ1Byb3BlcnR5Iiwia2V5c1N0cmluZ1Byb3BlcnR5IiwiYTExeSIsImxlZnRSaWdodEFycm93S2V5c1N0cmluZ1Byb3BlcnR5IiwidXBEb3duQXJyb3dLZXlzU3RyaW5nUHJvcGVydHkiLCJvcktleXNQYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJsZWZ0UmlnaHQiLCJ1cERvd24iLCJrZXlib2FyZEhlbHBEaWFsb2dEZWZhdWx0U3RlcHNTdHJpbmdQcm9wZXJ0eSIsImRlZmF1bHRTdGVwc0Rlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5Iiwia2V5cyIsInNoaWZ0S2V5c1N0cmluZ1Byb3BlcnR5Iiwic2hpZnRMZWZ0UmlnaHRBcnJvd0tleXNTdHJpbmdQcm9wZXJ0eSIsInNoaWZ0VXBEb3duQXJyb3dLZXlzU3RyaW5nUHJvcGVydHkiLCJrZXlib2FyZEhlbHBEaWFsb2dTbWFsbGVyU3RlcHNTdHJpbmdQcm9wZXJ0eSIsInNtYWxsZXJTdGVwc0Rlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5Iiwia2V5Ym9hcmRIZWxwRGlhbG9nTGFyZ2VyU3RlcHNTdHJpbmdQcm9wZXJ0eSIsImxhcmdlclN0ZXBzRGVzY3JpcHRpb25QYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJqdW1wVG9NaW5pbXVtUGF0dGVyblN0cmluZ1Byb3BlcnR5IiwibWluaW11bSIsImp1bXBUb01heGltdW1QYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJtYXhpbXVtIiwianVtcFRvTWluaW11bURlc2NyaXB0aW9uU3RyaW5nUHJvcGVydHkiLCJqdW1wVG9NaW5pbXVtRGVzY3JpcHRpb25QYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJqdW1wVG9NYXhpbXVtRGVzY3JpcHRpb25TdHJpbmdQcm9wZXJ0eSIsImp1bXBUb01heGltdW1EZXNjcmlwdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eSIsImxlZnRSaWdodEFycm93S2V5c1Jvd0ljb24iLCJpY29uUm93IiwiZnJvbUhvdGtleURhdGEiLCJMRUZUX0FSUk9XX0hPVEtFWV9EQVRBIiwiUklHSFRfQVJST1dfSE9US0VZX0RBVEEiLCJzaGlmdFBsdXNMZWZ0UmlnaHRJY29uIiwic2hpZnRQbHVzSWNvbiIsInVwRG93bkFycm93S2V5c1Jvd0ljb24iLCJVUF9BUlJPV19IT1RLRVlfREFUQSIsIkRPV05fQVJST1dfSE9US0VZX0RBVEEiLCJzaGlmdFBsdXNVcERvd25JY29uIiwibGVmdFJpZ2h0T3JVcERvd25JY29uIiwiaWNvbk9ySWNvbiIsImFkanVzdFNsaWRlckljb24iLCJhZGp1c3RTbGlkZXJTbWFsbGVyU3RlcHNJY29ucyIsImFkanVzdFNsaWRlclJvdyIsImxhYmVsV2l0aEljb24iLCJsYWJlbElubmVyQ29udGVudCIsImFkanVzdFNsaWRlckluU21hbGxlclN0ZXBzUm93IiwibGFiZWxXaXRoSWNvbkxpc3QiLCJwYWdlVXBLZXlOb2RlIiwiUEFHRV9VUF9IT1RLRVlfREFUQSIsInBhZ2VEb3duS2V5Tm9kZSIsIlBBR0VfRE9XTl9IT1RLRVlfREFUQSIsInBhZ2VVcFBhZ2VEb3duSWNvbiIsImNoaWxkcmVuIiwic3BhY2luZyIsIkRFRkFVTFRfSUNPTl9TUEFDSU5HIiwiYWRqdXN0SW5MYXJnZXJTdGVwc1JvdyIsImhvbWVLZXlOb2RlIiwiSE9NRV9IT1RLRVlfREFUQSIsImp1bXBUb01pbmltdW1Sb3ciLCJlbmRLZXlOb2RlIiwiRU5EX0hPVEtFWV9EQVRBIiwianVtcFRvTWF4aW11bVJvdyIsImNvbnRlbnQiLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6IkFBQUEsc0RBQXNEO0FBRXREOzs7O0NBSUMsR0FFRCxPQUFPQSwyQkFBMkIsK0NBQStDO0FBRWpGLE9BQU9DLG9DQUFvQyw2REFBNkQ7QUFDeEcsT0FBT0MsaUJBQWlCLDBDQUEwQztBQUNsRSxPQUFPQyxzQkFBc0IsK0NBQStDO0FBQzVFLE9BQU9DLGVBQWUsd0NBQXdDO0FBQzlELFNBQVNDLElBQUksUUFBUSxvQ0FBb0M7QUFDekQsT0FBT0MsZ0RBQWdELGlGQUFpRjtBQUN4SSxPQUFPQyxZQUFZLGtDQUFrQztBQUNyRCxPQUFPQyxpQkFBaUIsdUJBQXVCO0FBQy9DLE9BQU9DLHdCQUF3Qiw4QkFBOEI7QUFDN0QsT0FBT0MsNkJBQTZCLCtCQUErQjtBQUNuRSxPQUFPQyx5QkFBeUQsMkJBQTJCO0FBQzNGLE9BQU9DLDRCQUE0Qiw4QkFBOEI7QUFFakUseUZBQXlGO0FBQ3pGLE9BQU8sTUFBTUMsNEJBQTRCVjtBQU16QztBQU5hVSxvQkFDWUMsVUFBVSxJQUFJRDtBQUQxQkEsb0JBRVlFLGFBQWEsSUFBSUY7QUFGN0JBLG9CQUdZRyxPQUFPLElBQUlIO0FBSHZCQSxvQkFLWUksY0FBYyxJQUFJZixZQUFhVztBQW1EekMsSUFBQSxBQUFNSyxv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