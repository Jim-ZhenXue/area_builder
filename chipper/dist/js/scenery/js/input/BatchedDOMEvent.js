// Copyright 2022-2024, University of Colorado Boulder
/**
 * Pooled structure to record batched events efficiently. How it calls the callback is based on the type
 * (pointer/mspointer/touch/mouse). There is one BatchedDOMEvent for each DOM Event (not for each touch).
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */ import Enumeration from '../../../phet-core/js/Enumeration.js';
import EnumerationValue from '../../../phet-core/js/EnumerationValue.js';
import Pool from '../../../phet-core/js/Pool.js';
import { Input, scenery } from '../imports.js';
export class BatchedDOMEventType extends EnumerationValue {
}
BatchedDOMEventType.POINTER_TYPE = new BatchedDOMEventType();
BatchedDOMEventType.MS_POINTER_TYPE = new BatchedDOMEventType();
BatchedDOMEventType.TOUCH_TYPE = new BatchedDOMEventType();
BatchedDOMEventType.MOUSE_TYPE = new BatchedDOMEventType();
BatchedDOMEventType.WHEEL_TYPE = new BatchedDOMEventType();
BatchedDOMEventType.ALT_TYPE = new BatchedDOMEventType();
BatchedDOMEventType.enumeration = new Enumeration(BatchedDOMEventType, {
    phetioDocumentation: 'The type of batched event'
});
let BatchedDOMEvent = class BatchedDOMEvent {
    initialize(eventContext, type, callback) {
        // called multiple times due to pooling, this should be re-entrant
        assert && assert(eventContext.domEvent, 'for some reason, there is no DOM event?');
        this.eventContext = eventContext;
        this.type = type;
        this.callback = callback;
        return this;
    }
    run(input) {
        sceneryLog && sceneryLog.InputEvent && sceneryLog.InputEvent('Running batched event');
        sceneryLog && sceneryLog.InputEvent && sceneryLog.push();
        const callback = this.callback;
        // process whether anything under the pointers changed before running additional input events
        input.validatePointers();
        //OHTWO TODO: switch? https://github.com/phetsims/scenery/issues/1581
        if (this.type === BatchedDOMEventType.POINTER_TYPE) {
            const context = this.eventContext;
            const pointerEvent = context.domEvent;
            callback.call(input, pointerEvent.pointerId, pointerEvent.pointerType, input.pointFromEvent(pointerEvent), context);
        } else if (this.type === BatchedDOMEventType.MS_POINTER_TYPE) {
            const context = this.eventContext;
            const pointerEvent = context.domEvent;
            callback.call(input, pointerEvent.pointerId, Input.msPointerType(pointerEvent), input.pointFromEvent(pointerEvent), context);
        } else if (this.type === BatchedDOMEventType.TOUCH_TYPE) {
            const context = this.eventContext;
            const touchEvent = context.domEvent;
            for(let i = 0; i < touchEvent.changedTouches.length; i++){
                // according to spec (http://www.w3.org/TR/touch-events/), this is not an Array, but a TouchList
                const touch = touchEvent.changedTouches.item(i);
                callback.call(input, touch.identifier, input.pointFromEvent(touch), context);
            }
        } else if (this.type === BatchedDOMEventType.MOUSE_TYPE) {
            const context = this.eventContext;
            const point = input.pointFromEvent(context.domEvent);
            if (callback === input.mouseDown) {
                callback.call(input, null, point, context);
            } else {
                callback.call(input, point, context);
            }
        } else if (this.type === BatchedDOMEventType.WHEEL_TYPE || this.type === BatchedDOMEventType.ALT_TYPE) {
            callback.call(input, this.eventContext);
        } else {
            throw new Error(`bad type value: ${this.type}`);
        }
        sceneryLog && sceneryLog.InputEvent && sceneryLog.pop();
    }
    /**
   * Releases references
   */ dispose() {
        // clear our references
        this.eventContext = null;
        this.callback = null;
        this.freeToPool();
    }
    freeToPool() {
        BatchedDOMEvent.pool.freeToPool(this);
    }
    constructor(eventContext, type, callback){
        this.initialize(eventContext, type, callback);
    }
};
BatchedDOMEvent.pool = new Pool(BatchedDOMEvent);
export { BatchedDOMEvent as default };
scenery.register('BatchedDOMEvent', BatchedDOMEvent);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW5wdXQvQmF0Y2hlZERPTUV2ZW50LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIyLTIwMjQsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxuXG4vKipcbiAqIFBvb2xlZCBzdHJ1Y3R1cmUgdG8gcmVjb3JkIGJhdGNoZWQgZXZlbnRzIGVmZmljaWVudGx5LiBIb3cgaXQgY2FsbHMgdGhlIGNhbGxiYWNrIGlzIGJhc2VkIG9uIHRoZSB0eXBlXG4gKiAocG9pbnRlci9tc3BvaW50ZXIvdG91Y2gvbW91c2UpLiBUaGVyZSBpcyBvbmUgQmF0Y2hlZERPTUV2ZW50IGZvciBlYWNoIERPTSBFdmVudCAobm90IGZvciBlYWNoIHRvdWNoKS5cbiAqXG4gKiBAYXV0aG9yIEpvbmF0aGFuIE9sc29uIDxqb25hdGhhbi5vbHNvbkBjb2xvcmFkby5lZHU+XG4gKi9cblxuaW1wb3J0IEVudW1lcmF0aW9uIGZyb20gJy4uLy4uLy4uL3BoZXQtY29yZS9qcy9FbnVtZXJhdGlvbi5qcyc7XG5pbXBvcnQgRW51bWVyYXRpb25WYWx1ZSBmcm9tICcuLi8uLi8uLi9waGV0LWNvcmUvanMvRW51bWVyYXRpb25WYWx1ZS5qcyc7XG5pbXBvcnQgUG9vbCwgeyBUUG9vbGFibGUgfSBmcm9tICcuLi8uLi8uLi9waGV0LWNvcmUvanMvUG9vbC5qcyc7XG5pbXBvcnQgSW50ZW50aW9uYWxBbnkgZnJvbSAnLi4vLi4vLi4vcGhldC1jb3JlL2pzL3R5cGVzL0ludGVudGlvbmFsQW55LmpzJztcbmltcG9ydCB7IEV2ZW50Q29udGV4dCwgSW5wdXQsIHNjZW5lcnkgfSBmcm9tICcuLi9pbXBvcnRzLmpzJztcblxuZXhwb3J0IHR5cGUgQmF0Y2hlZERPTUV2ZW50Q2FsbGJhY2sgPSAoIC4uLmFyZ3M6IEludGVudGlvbmFsQW55W10gKSA9PiB2b2lkO1xuXG5leHBvcnQgY2xhc3MgQmF0Y2hlZERPTUV2ZW50VHlwZSBleHRlbmRzIEVudW1lcmF0aW9uVmFsdWUge1xuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFBPSU5URVJfVFlQRSA9IG5ldyBCYXRjaGVkRE9NRXZlbnRUeXBlKCk7XG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTVNfUE9JTlRFUl9UWVBFID0gbmV3IEJhdGNoZWRET01FdmVudFR5cGUoKTtcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBUT1VDSF9UWVBFID0gbmV3IEJhdGNoZWRET01FdmVudFR5cGUoKTtcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBNT1VTRV9UWVBFID0gbmV3IEJhdGNoZWRET01FdmVudFR5cGUoKTtcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBXSEVFTF9UWVBFID0gbmV3IEJhdGNoZWRET01FdmVudFR5cGUoKTtcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBBTFRfVFlQRSA9IG5ldyBCYXRjaGVkRE9NRXZlbnRUeXBlKCk7XG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBlbnVtZXJhdGlvbiA9IG5ldyBFbnVtZXJhdGlvbiggQmF0Y2hlZERPTUV2ZW50VHlwZSwge1xuICAgIHBoZXRpb0RvY3VtZW50YXRpb246ICdUaGUgdHlwZSBvZiBiYXRjaGVkIGV2ZW50J1xuICB9ICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhdGNoZWRET01FdmVudCBpbXBsZW1lbnRzIFRQb29sYWJsZSB7XG5cbiAgcHJpdmF0ZSBldmVudENvbnRleHQhOiBFdmVudENvbnRleHQgfCBudWxsO1xuICBwcml2YXRlIHR5cGUhOiBCYXRjaGVkRE9NRXZlbnRUeXBlIHwgbnVsbDtcbiAgcHJpdmF0ZSBjYWxsYmFjayE6IEJhdGNoZWRET01FdmVudENhbGxiYWNrIHwgbnVsbDtcblxuICBwdWJsaWMgY29uc3RydWN0b3IoIGV2ZW50Q29udGV4dDogRXZlbnRDb250ZXh0LCB0eXBlOiBCYXRjaGVkRE9NRXZlbnRUeXBlLCBjYWxsYmFjazogQmF0Y2hlZERPTUV2ZW50Q2FsbGJhY2sgKSB7XG4gICAgdGhpcy5pbml0aWFsaXplKCBldmVudENvbnRleHQsIHR5cGUsIGNhbGxiYWNrICk7XG4gIH1cblxuICBwdWJsaWMgaW5pdGlhbGl6ZSggZXZlbnRDb250ZXh0OiBFdmVudENvbnRleHQsIHR5cGU6IEJhdGNoZWRET01FdmVudFR5cGUsIGNhbGxiYWNrOiBCYXRjaGVkRE9NRXZlbnRDYWxsYmFjayApOiB0aGlzIHtcbiAgICAvLyBjYWxsZWQgbXVsdGlwbGUgdGltZXMgZHVlIHRvIHBvb2xpbmcsIHRoaXMgc2hvdWxkIGJlIHJlLWVudHJhbnRcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBldmVudENvbnRleHQuZG9tRXZlbnQsICdmb3Igc29tZSByZWFzb24sIHRoZXJlIGlzIG5vIERPTSBldmVudD8nICk7XG5cbiAgICB0aGlzLmV2ZW50Q29udGV4dCA9IGV2ZW50Q29udGV4dDtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHVibGljIHJ1biggaW5wdXQ6IElucHV0ICk6IHZvaWQge1xuICAgIHNjZW5lcnlMb2cgJiYgc2NlbmVyeUxvZy5JbnB1dEV2ZW50ICYmIHNjZW5lcnlMb2cuSW5wdXRFdmVudCggJ1J1bm5pbmcgYmF0Y2hlZCBldmVudCcgKTtcbiAgICBzY2VuZXJ5TG9nICYmIHNjZW5lcnlMb2cuSW5wdXRFdmVudCAmJiBzY2VuZXJ5TG9nLnB1c2goKTtcblxuICAgIGNvbnN0IGNhbGxiYWNrID0gdGhpcy5jYWxsYmFjayE7XG5cbiAgICAvLyBwcm9jZXNzIHdoZXRoZXIgYW55dGhpbmcgdW5kZXIgdGhlIHBvaW50ZXJzIGNoYW5nZWQgYmVmb3JlIHJ1bm5pbmcgYWRkaXRpb25hbCBpbnB1dCBldmVudHNcbiAgICBpbnB1dC52YWxpZGF0ZVBvaW50ZXJzKCk7XG5cbiAgICAvL09IVFdPIFRPRE86IHN3aXRjaD8gaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL3NjZW5lcnkvaXNzdWVzLzE1ODFcbiAgICBpZiAoIHRoaXMudHlwZSA9PT0gQmF0Y2hlZERPTUV2ZW50VHlwZS5QT0lOVEVSX1RZUEUgKSB7XG4gICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5ldmVudENvbnRleHQgYXMgRXZlbnRDb250ZXh0PFBvaW50ZXJFdmVudD47XG4gICAgICBjb25zdCBwb2ludGVyRXZlbnQgPSBjb250ZXh0LmRvbUV2ZW50O1xuICAgICAgY2FsbGJhY2suY2FsbCggaW5wdXQsIHBvaW50ZXJFdmVudC5wb2ludGVySWQsIHBvaW50ZXJFdmVudC5wb2ludGVyVHlwZSwgaW5wdXQucG9pbnRGcm9tRXZlbnQoIHBvaW50ZXJFdmVudCApLCBjb250ZXh0ICk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCB0aGlzLnR5cGUgPT09IEJhdGNoZWRET01FdmVudFR5cGUuTVNfUE9JTlRFUl9UWVBFICkge1xuICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuZXZlbnRDb250ZXh0IGFzIEV2ZW50Q29udGV4dDxQb2ludGVyRXZlbnQ+O1xuICAgICAgY29uc3QgcG9pbnRlckV2ZW50ID0gY29udGV4dC5kb21FdmVudDtcbiAgICAgIGNhbGxiYWNrLmNhbGwoIGlucHV0LCBwb2ludGVyRXZlbnQucG9pbnRlcklkLCBJbnB1dC5tc1BvaW50ZXJUeXBlKCBwb2ludGVyRXZlbnQgKSwgaW5wdXQucG9pbnRGcm9tRXZlbnQoIHBvaW50ZXJFdmVudCApLCBjb250ZXh0ICk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCB0aGlzLnR5cGUgPT09IEJhdGNoZWRET01FdmVudFR5cGUuVE9VQ0hfVFlQRSApIHtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmV2ZW50Q29udGV4dCBhcyBFdmVudENvbnRleHQ8VG91Y2hFdmVudD47XG4gICAgICBjb25zdCB0b3VjaEV2ZW50ID0gY29udGV4dC5kb21FdmVudDtcbiAgICAgIGZvciAoIGxldCBpID0gMDsgaSA8IHRvdWNoRXZlbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgIC8vIGFjY29yZGluZyB0byBzcGVjIChodHRwOi8vd3d3LnczLm9yZy9UUi90b3VjaC1ldmVudHMvKSwgdGhpcyBpcyBub3QgYW4gQXJyYXksIGJ1dCBhIFRvdWNoTGlzdFxuICAgICAgICBjb25zdCB0b3VjaCA9IHRvdWNoRXZlbnQuY2hhbmdlZFRvdWNoZXMuaXRlbSggaSApITtcblxuICAgICAgICBjYWxsYmFjay5jYWxsKCBpbnB1dCwgdG91Y2guaWRlbnRpZmllciwgaW5wdXQucG9pbnRGcm9tRXZlbnQoIHRvdWNoICksIGNvbnRleHQgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoIHRoaXMudHlwZSA9PT0gQmF0Y2hlZERPTUV2ZW50VHlwZS5NT1VTRV9UWVBFICkge1xuICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuZXZlbnRDb250ZXh0IGFzIEV2ZW50Q29udGV4dDxNb3VzZUV2ZW50PjtcbiAgICAgIGNvbnN0IHBvaW50ID0gaW5wdXQucG9pbnRGcm9tRXZlbnQoIGNvbnRleHQuZG9tRXZlbnQgKTtcbiAgICAgIGlmICggY2FsbGJhY2sgPT09IGlucHV0Lm1vdXNlRG93biApIHtcbiAgICAgICAgY2FsbGJhY2suY2FsbCggaW5wdXQsIG51bGwsIHBvaW50LCBjb250ZXh0ICk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2suY2FsbCggaW5wdXQsIHBvaW50LCBjb250ZXh0ICk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKCB0aGlzLnR5cGUgPT09IEJhdGNoZWRET01FdmVudFR5cGUuV0hFRUxfVFlQRSB8fCB0aGlzLnR5cGUgPT09IEJhdGNoZWRET01FdmVudFR5cGUuQUxUX1RZUEUgKSB7XG4gICAgICBjYWxsYmFjay5jYWxsKCBpbnB1dCwgdGhpcy5ldmVudENvbnRleHQgKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoIGBiYWQgdHlwZSB2YWx1ZTogJHt0aGlzLnR5cGV9YCApO1xuICAgIH1cblxuICAgIHNjZW5lcnlMb2cgJiYgc2NlbmVyeUxvZy5JbnB1dEV2ZW50ICYmIHNjZW5lcnlMb2cucG9wKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVsZWFzZXMgcmVmZXJlbmNlc1xuICAgKi9cbiAgcHVibGljIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgLy8gY2xlYXIgb3VyIHJlZmVyZW5jZXNcbiAgICB0aGlzLmV2ZW50Q29udGV4dCA9IG51bGw7XG4gICAgdGhpcy5jYWxsYmFjayA9IG51bGw7XG4gICAgdGhpcy5mcmVlVG9Qb29sKCk7XG4gIH1cblxuICBwdWJsaWMgZnJlZVRvUG9vbCgpOiB2b2lkIHtcbiAgICBCYXRjaGVkRE9NRXZlbnQucG9vbC5mcmVlVG9Qb29sKCB0aGlzICk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHBvb2wgPSBuZXcgUG9vbCggQmF0Y2hlZERPTUV2ZW50ICk7XG59XG5cbnNjZW5lcnkucmVnaXN0ZXIoICdCYXRjaGVkRE9NRXZlbnQnLCBCYXRjaGVkRE9NRXZlbnQgKTsiXSwibmFtZXMiOlsiRW51bWVyYXRpb24iLCJFbnVtZXJhdGlvblZhbHVlIiwiUG9vbCIsIklucHV0Iiwic2NlbmVyeSIsIkJhdGNoZWRET01FdmVudFR5cGUiLCJQT0lOVEVSX1RZUEUiLCJNU19QT0lOVEVSX1RZUEUiLCJUT1VDSF9UWVBFIiwiTU9VU0VfVFlQRSIsIldIRUVMX1RZUEUiLCJBTFRfVFlQRSIsImVudW1lcmF0aW9uIiwicGhldGlvRG9jdW1lbnRhdGlvbiIsIkJhdGNoZWRET01FdmVudCIsImluaXRpYWxpemUiLCJldmVudENvbnRleHQiLCJ0eXBlIiwiY2FsbGJhY2siLCJhc3NlcnQiLCJkb21FdmVudCIsInJ1biIsImlucHV0Iiwic2NlbmVyeUxvZyIsIklucHV0RXZlbnQiLCJwdXNoIiwidmFsaWRhdGVQb2ludGVycyIsImNvbnRleHQiLCJwb2ludGVyRXZlbnQiLCJjYWxsIiwicG9pbnRlcklkIiwicG9pbnRlclR5cGUiLCJwb2ludEZyb21FdmVudCIsIm1zUG9pbnRlclR5cGUiLCJ0b3VjaEV2ZW50IiwiaSIsImNoYW5nZWRUb3VjaGVzIiwibGVuZ3RoIiwidG91Y2giLCJpdGVtIiwiaWRlbnRpZmllciIsInBvaW50IiwibW91c2VEb3duIiwiRXJyb3IiLCJwb3AiLCJkaXNwb3NlIiwiZnJlZVRvUG9vbCIsInBvb2wiLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6IkFBQUEsc0RBQXNEO0FBRXREOzs7OztDQUtDLEdBRUQsT0FBT0EsaUJBQWlCLHVDQUF1QztBQUMvRCxPQUFPQyxzQkFBc0IsNENBQTRDO0FBQ3pFLE9BQU9DLFVBQXlCLGdDQUFnQztBQUVoRSxTQUF1QkMsS0FBSyxFQUFFQyxPQUFPLFFBQVEsZ0JBQWdCO0FBSTdELE9BQU8sTUFBTUMsNEJBQTRCSjtBQVd6QztBQVhhSSxvQkFDWUMsZUFBZSxJQUFJRDtBQUQvQkEsb0JBRVlFLGtCQUFrQixJQUFJRjtBQUZsQ0Esb0JBR1lHLGFBQWEsSUFBSUg7QUFIN0JBLG9CQUlZSSxhQUFhLElBQUlKO0FBSjdCQSxvQkFLWUssYUFBYSxJQUFJTDtBQUw3QkEsb0JBTVlNLFdBQVcsSUFBSU47QUFOM0JBLG9CQVFZTyxjQUFjLElBQUlaLFlBQWFLLHFCQUFxQjtJQUN6RVEscUJBQXFCO0FBQ3ZCO0FBR2EsSUFBQSxBQUFNQyxrQkFBTixNQUFNQTtJQVVaQyxXQUFZQyxZQUEwQixFQUFFQyxJQUF5QixFQUFFQyxRQUFpQyxFQUFTO1FBQ2xILGtFQUFrRTtRQUNsRUMsVUFBVUEsT0FBUUgsYUFBYUksUUFBUSxFQUFFO1FBRXpDLElBQUksQ0FBQ0osWUFBWSxHQUFHQTtRQUNwQixJQUFJLENBQUNDLElBQUksR0FBR0E7UUFDWixJQUFJLENBQUNDLFFBQVEsR0FBR0E7UUFFaEIsT0FBTyxJQUFJO0lBQ2I7SUFFT0csSUFBS0MsS0FBWSxFQUFTO1FBQy9CQyxjQUFjQSxXQUFXQyxVQUFVLElBQUlELFdBQVdDLFVBQVUsQ0FBRTtRQUM5REQsY0FBY0EsV0FBV0MsVUFBVSxJ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