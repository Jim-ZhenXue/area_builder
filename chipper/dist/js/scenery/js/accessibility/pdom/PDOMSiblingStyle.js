// Copyright 2019-2024, University of Colorado Boulder
/**
 * Static CSS style for elements of the PDOM (siblings of PDOMPeer). Adds the styling directly to SceneryStyle,
 * but also exports the class names for root and siblings for where elements are created or retrieved
 * by document.getElementsByClassName().
 *
 * REVIEW: Rename this to AccessiblePDOMStyle (or something more universal)
 *   - For all usages of "sibling" in this file.
 *
 * @author Jesse Greenberg
 */ import { scenery, SceneryStyle } from '../../imports.js';
// constants
const SIBLING_CLASS_NAME = 'a11y-pdom-element';
const ROOT_CLASS_NAME = 'a11y-pdom-root';
const LIST_ITEM_CLASS_NAME = 'a11y-pdom-list-item';
// All elements that use PDOMUtils.createElement should have this style. The only exception is the root of
// the PDOM, which should use root class attributes instead.
SceneryStyle.addRule(`.${SIBLING_CLASS_NAME}{` + // 'fixed' positions elements relative to the ViewPort (global coordinate frame), a requirement for the approach
// in PDOMPeer.positionElements
'position: fixed;' + // default, to the 'relative' root PDOM element - will change with node transform if focusable
'top: 0px;' + 'left: 0px;' + // for CSS transformations of focusable elements, origin at left top
'transform-origin: left top 0px;' + // helps get accurate bounds with getBoundingClientRect() for transformations
'border-width: 0px;' + 'border: 0px;' + 'padding: 1px 1px;' + // cannot be zero, otherwise certain elements will have undefined width and height
'margin: 0px;' + 'white-space: nowrap;' + // to remove the default focus highlight around HTML elements
'outline: none;' + 'box-shadow:none;' + 'border-color:transparent;' + // So that elements can never be seen visually, can comment this out to "see" transformed elements in the
// PDOM. Text is made very small so that it doesn't extend into the display. Very low opacity on the root takes care of the rest.
'font-size: 1px;' + // must be at least 1px to be readable with AT
// adding this clip area seems to prevent Safari from doing expensive DOM layout calculations every change.
// Surprisingly, there is no performance benefit if this is put on the root element.
// see https://github.com/phetsims/scenery/issues/663
'clip: rect(1px, 1px, 1px, 1px);' + '}');
SceneryStyle.addRule(`.${ROOT_CLASS_NAME}{` + // so that this root can also be positioned
'position: absolute;' + // ABSOLUTELY CRITICAL - so PDOM elements do not interfere with rest of scenery input
'pointer-events: none;' + // 'fixed' positioned elements interfere with workarounds that are meant to prevent Safari from going to sleep
// when the browser is left inactive for a few minutes. This z-index keeps the PDOM from interfering, while still
// allowing us to use `fixed`. If the PDOM elements are ever styled with position: 'absolute' (would require
// PDOM elements to be positioned relative to focusable ancestors rather than viewport), this could be removed.
// See https://github.com/phetsims/joist/blob/main/js/Heartbeat.js as well for the workaround.
'z-index: 1;' + // JUST FOR DEBUGGING! So you can see the PDOM on top of other graphical content
// 'z-index: 5000;' +
// a catch all for things that are not hidden by the styling on descendants of the root (for example
// there is no other way to hide or style check boxes with CSS)
'opacity: 0.0001;' + '}');
SceneryStyle.addRule(`.${LIST_ITEM_CLASS_NAME}{` + // removing list styling prevents a VoiceOver behavior where 'bullet' is read in a confusing way.
// Add the LIST_ITEM_CLASS_NAME class with setPDOMClass() to Nodes represented with 'li'
// siblings to prevent this. See https://github.com/phetsims/a11y-research/issues/158.
'list-style: none;');
const PDOMSiblingStyle = {
    SIBLING_CLASS_NAME: SIBLING_CLASS_NAME,
    ROOT_CLASS_NAME: ROOT_CLASS_NAME,
    LIST_ITEM_CLASS_NAME: LIST_ITEM_CLASS_NAME
};
scenery.register('PDOMSiblingStyle', PDOMSiblingStyle);
export default PDOMSiblingStyle;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvYWNjZXNzaWJpbGl0eS9wZG9tL1BET01TaWJsaW5nU3R5bGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTktMjAyNCwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXG5cbi8qKlxuICogU3RhdGljIENTUyBzdHlsZSBmb3IgZWxlbWVudHMgb2YgdGhlIFBET00gKHNpYmxpbmdzIG9mIFBET01QZWVyKS4gQWRkcyB0aGUgc3R5bGluZyBkaXJlY3RseSB0byBTY2VuZXJ5U3R5bGUsXG4gKiBidXQgYWxzbyBleHBvcnRzIHRoZSBjbGFzcyBuYW1lcyBmb3Igcm9vdCBhbmQgc2libGluZ3MgZm9yIHdoZXJlIGVsZW1lbnRzIGFyZSBjcmVhdGVkIG9yIHJldHJpZXZlZFxuICogYnkgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgpLlxuICpcbiAqIFJFVklFVzogUmVuYW1lIHRoaXMgdG8gQWNjZXNzaWJsZVBET01TdHlsZSAob3Igc29tZXRoaW5nIG1vcmUgdW5pdmVyc2FsKVxuICogICAtIEZvciBhbGwgdXNhZ2VzIG9mIFwic2libGluZ1wiIGluIHRoaXMgZmlsZS5cbiAqXG4gKiBAYXV0aG9yIEplc3NlIEdyZWVuYmVyZ1xuICovXG5cbmltcG9ydCB7IHNjZW5lcnksIFNjZW5lcnlTdHlsZSB9IGZyb20gJy4uLy4uL2ltcG9ydHMuanMnO1xuXG4vLyBjb25zdGFudHNcbmNvbnN0IFNJQkxJTkdfQ0xBU1NfTkFNRSA9ICdhMTF5LXBkb20tZWxlbWVudCc7XG5jb25zdCBST09UX0NMQVNTX05BTUUgPSAnYTExeS1wZG9tLXJvb3QnO1xuY29uc3QgTElTVF9JVEVNX0NMQVNTX05BTUUgPSAnYTExeS1wZG9tLWxpc3QtaXRlbSc7XG5cbi8vIEFsbCBlbGVtZW50cyB0aGF0IHVzZSBQRE9NVXRpbHMuY3JlYXRlRWxlbWVudCBzaG91bGQgaGF2ZSB0aGlzIHN0eWxlLiBUaGUgb25seSBleGNlcHRpb24gaXMgdGhlIHJvb3Qgb2Zcbi8vIHRoZSBQRE9NLCB3aGljaCBzaG91bGQgdXNlIHJvb3QgY2xhc3MgYXR0cmlidXRlcyBpbnN0ZWFkLlxuU2NlbmVyeVN0eWxlLmFkZFJ1bGUoIGAuJHtTSUJMSU5HX0NMQVNTX05BTUVcbiAgICAgICAgICAgICAgICAgICAgICB9e2AgK1xuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gJ2ZpeGVkJyBwb3NpdGlvbnMgZWxlbWVudHMgcmVsYXRpdmUgdG8gdGhlIFZpZXdQb3J0IChnbG9iYWwgY29vcmRpbmF0ZSBmcmFtZSksIGEgcmVxdWlyZW1lbnQgZm9yIHRoZSBhcHByb2FjaFxuICAgICAgICAgICAgICAgICAgICAgIC8vIGluIFBET01QZWVyLnBvc2l0aW9uRWxlbWVudHNcbiAgICAgICAgICAgICAgICAgICAgICAncG9zaXRpb246IGZpeGVkOycgK1xuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gZGVmYXVsdCwgdG8gdGhlICdyZWxhdGl2ZScgcm9vdCBQRE9NIGVsZW1lbnQgLSB3aWxsIGNoYW5nZSB3aXRoIG5vZGUgdHJhbnNmb3JtIGlmIGZvY3VzYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICd0b3A6IDBweDsnICtcbiAgICAgICAgICAgICAgICAgICAgICAnbGVmdDogMHB4OycgK1xuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gZm9yIENTUyB0cmFuc2Zvcm1hdGlvbnMgb2YgZm9jdXNhYmxlIGVsZW1lbnRzLCBvcmlnaW4gYXQgbGVmdCB0b3BcbiAgICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtLW9yaWdpbjogbGVmdCB0b3AgMHB4OycgK1xuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gaGVscHMgZ2V0IGFjY3VyYXRlIGJvdW5kcyB3aXRoIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIGZvciB0cmFuc2Zvcm1hdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAnYm9yZGVyLXdpZHRoOiAwcHg7JyArXG4gICAgICAgICAgICAgICAgICAgICAgJ2JvcmRlcjogMHB4OycgK1xuICAgICAgICAgICAgICAgICAgICAgICdwYWRkaW5nOiAxcHggMXB4OycgKyAvLyBjYW5ub3QgYmUgemVybywgb3RoZXJ3aXNlIGNlcnRhaW4gZWxlbWVudHMgd2lsbCBoYXZlIHVuZGVmaW5lZCB3aWR0aCBhbmQgaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgJ21hcmdpbjogMHB4OycgK1xuICAgICAgICAgICAgICAgICAgICAgICd3aGl0ZS1zcGFjZTogbm93cmFwOycgK1xuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gdG8gcmVtb3ZlIHRoZSBkZWZhdWx0IGZvY3VzIGhpZ2hsaWdodCBhcm91bmQgSFRNTCBlbGVtZW50c1xuICAgICAgICAgICAgICAgICAgICAgICdvdXRsaW5lOiBub25lOycgK1xuICAgICAgICAgICAgICAgICAgICAgICdib3gtc2hhZG93Om5vbmU7JyArXG4gICAgICAgICAgICAgICAgICAgICAgJ2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudDsnICtcblxuICAgICAgICAgICAgICAgICAgICAgIC8vIFNvIHRoYXQgZWxlbWVudHMgY2FuIG5ldmVyIGJlIHNlZW4gdmlzdWFsbHksIGNhbiBjb21tZW50IHRoaXMgb3V0IHRvIFwic2VlXCIgdHJhbnNmb3JtZWQgZWxlbWVudHMgaW4gdGhlXG4gICAgICAgICAgICAgICAgICAgICAgLy8gUERPTS4gVGV4dCBpcyBtYWRlIHZlcnkgc21hbGwgc28gdGhhdCBpdCBkb2Vzbid0IGV4dGVuZCBpbnRvIHRoZSBkaXNwbGF5LiBWZXJ5IGxvdyBvcGFjaXR5IG9uIHRoZSByb290IHRha2VzIGNhcmUgb2YgdGhlIHJlc3QuXG4gICAgICAgICAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZTogMXB4OycgKyAvLyBtdXN0IGJlIGF0IGxlYXN0IDFweCB0byBiZSByZWFkYWJsZSB3aXRoIEFUXG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBhZGRpbmcgdGhpcyBjbGlwIGFyZWEgc2VlbXMgdG8gcHJldmVudCBTYWZhcmkgZnJvbSBkb2luZyBleHBlbnNpdmUgRE9NIGxheW91dCBjYWxjdWxhdGlvbnMgZXZlcnkgY2hhbmdlLlxuICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cnByaXNpbmdseSwgdGhlcmUgaXMgbm8gcGVyZm9ybWFuY2UgYmVuZWZpdCBpZiB0aGlzIGlzIHB1dCBvbiB0aGUgcm9vdCBlbGVtZW50LlxuICAgICAgICAgICAgICAgICAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvc2NlbmVyeS9pc3N1ZXMvNjYzXG4gICAgICAgICAgICAgICAgICAgICAgJ2NsaXA6IHJlY3QoMXB4LCAxcHgsIDFweCwgMXB4KTsnICtcbiAgICAgICAgICAgICAgICAgICAgICAnfSdcbik7XG5cblNjZW5lcnlTdHlsZS5hZGRSdWxlKCBgLiR7Uk9PVF9DTEFTU19OQU1FXG4gICAgICAgICAgICAgICAgICAgICAgfXtgICtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBzbyB0aGF0IHRoaXMgcm9vdCBjYW4gYWxzbyBiZSBwb3NpdGlvbmVkXG4gICAgICAgICAgICAgICAgICAgICAgJ3Bvc2l0aW9uOiBhYnNvbHV0ZTsnICtcblxuICAgICAgICAgICAgICAgICAgICAgIC8vIEFCU09MVVRFTFkgQ1JJVElDQUwgLSBzbyBQRE9NIGVsZW1lbnRzIGRvIG5vdCBpbnRlcmZlcmUgd2l0aCByZXN0IG9mIHNjZW5lcnkgaW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAncG9pbnRlci1ldmVudHM6IG5vbmU7JyArXG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyAnZml4ZWQnIHBvc2l0aW9uZWQgZWxlbWVudHMgaW50ZXJmZXJlIHdpdGggd29ya2Fyb3VuZHMgdGhhdCBhcmUgbWVhbnQgdG8gcHJldmVudCBTYWZhcmkgZnJvbSBnb2luZyB0byBzbGVlcFxuICAgICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gdGhlIGJyb3dzZXIgaXMgbGVmdCBpbmFjdGl2ZSBmb3IgYSBmZXcgbWludXRlcy4gVGhpcyB6LWluZGV4IGtlZXBzIHRoZSBQRE9NIGZyb20gaW50ZXJmZXJpbmcsIHdoaWxlIHN0aWxsXG4gICAgICAgICAgICAgICAgICAgICAgLy8gYWxsb3dpbmcgdXMgdG8gdXNlIGBmaXhlZGAuIElmIHRoZSBQRE9NIGVsZW1lbnRzIGFyZSBldmVyIHN0eWxlZCB3aXRoIHBvc2l0aW9uOiAnYWJzb2x1dGUnICh3b3VsZCByZXF1aXJlXG4gICAgICAgICAgICAgICAgICAgICAgLy8gUERPTSBlbGVtZW50cyB0byBiZSBwb3NpdGlvbmVkIHJlbGF0aXZlIHRvIGZvY3VzYWJsZSBhbmNlc3RvcnMgcmF0aGVyIHRoYW4gdmlld3BvcnQpLCB0aGlzIGNvdWxkIGJlIHJlbW92ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9qb2lzdC9ibG9iL21haW4vanMvSGVhcnRiZWF0LmpzIGFzIHdlbGwgZm9yIHRoZSB3b3JrYXJvdW5kLlxuICAgICAgICAgICAgICAgICAgICAgICd6LWluZGV4OiAxOycgK1xuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gSlVTVCBGT1IgREVCVUdHSU5HISBTbyB5b3UgY2FuIHNlZSB0aGUgUERPTSBvbiB0b3Agb2Ygb3RoZXIgZ3JhcGhpY2FsIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAvLyAnei1pbmRleDogNTAwMDsnICtcblxuICAgICAgICAgICAgICAgICAgICAgIC8vIGEgY2F0Y2ggYWxsIGZvciB0aGluZ3MgdGhhdCBhcmUgbm90IGhpZGRlbiBieSB0aGUgc3R5bGluZyBvbiBkZXNjZW5kYW50cyBvZiB0aGUgcm9vdCAoZm9yIGV4YW1wbGVcbiAgICAgICAgICAgICAgICAgICAgICAvLyB0aGVyZSBpcyBubyBvdGhlciB3YXkgdG8gaGlkZSBvciBzdHlsZSBjaGVjayBib3hlcyB3aXRoIENTUylcbiAgICAgICAgICAgICAgICAgICAgICAnb3BhY2l0eTogMC4wMDAxOycgK1xuICAgICAgICAgICAgICAgICAgICAgICd9J1xuKTtcblxuU2NlbmVyeVN0eWxlLmFkZFJ1bGUoIGAuJHtMSVNUX0lURU1fQ0xBU1NfTkFNRVxuICAgICAgICAgICAgICAgICAgICAgIH17YCArXG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmluZyBsaXN0IHN0eWxpbmcgcHJldmVudHMgYSBWb2ljZU92ZXIgYmVoYXZpb3Igd2hlcmUgJ2J1bGxldCcgaXMgcmVhZCBpbiBhIGNvbmZ1c2luZyB3YXkuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBMSVNUX0lURU1fQ0xBU1NfTkFNRSBjbGFzcyB3aXRoIHNldFBET01DbGFzcygpIHRvIE5vZGVzIHJlcHJlc2VudGVkIHdpdGggJ2xpJ1xuICAgICAgICAgICAgICAgICAgICAgIC8vIHNpYmxpbmdzIHRvIHByZXZlbnQgdGhpcy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9hMTF5LXJlc2VhcmNoL2lzc3Vlcy8xNTguXG4gICAgICAgICAgICAgICAgICAgICAgJ2xpc3Qtc3R5bGU6IG5vbmU7J1xuKTtcblxuY29uc3QgUERPTVNpYmxpbmdTdHlsZSA9IHtcbiAgU0lCTElOR19DTEFTU19OQU1FOiBTSUJMSU5HX0NMQVNTX05BTUUsXG4gIFJPT1RfQ0xBU1NfTkFNRTogUk9PVF9DTEFTU19OQU1FLFxuICBMSVNUX0lURU1fQ0xBU1NfTkFNRTogTElTVF9JVEVNX0NMQVNTX05BTUVcbn07XG5cbnNjZW5lcnkucmVnaXN0ZXIoICdQRE9NU2libGluZ1N0eWxlJywgUERPTVNpYmxpbmdTdHlsZSApO1xuZXhwb3J0IGRlZmF1bHQgUERPTVNpYmxpbmdTdHlsZTsiXSwibmFtZXMiOlsic2NlbmVyeSIsIlNjZW5lcnlTdHlsZSIsIlNJQkxJTkdfQ0xBU1NfTkFNRSIsIlJPT1RfQ0xBU1NfTkFNRSIsIkxJU1RfSVRFTV9DTEFTU19OQU1FIiwiYWRkUnVsZSIsIlBET01TaWJsaW5nU3R5bGUiLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6IkFBQUEsc0RBQXNEO0FBRXREOzs7Ozs7Ozs7Q0FTQyxHQUVELFNBQVNBLE9BQU8sRUFBRUMsWUFBWSxRQUFRLG1CQUFtQjtBQUV6RCxZQUFZO0FBQ1osTUFBTUMscUJBQXFCO0FBQzNCLE1BQU1DLGtCQUFrQjtBQUN4QixNQUFNQyx1QkFBdUI7QUFFN0IsMEdBQTBHO0FBQzFHLDREQUE0RDtBQUM1REgsYUFBYUksT0FBTyxDQUFFLENBQUMsQ0FBQyxFQUFFSCxtQkFDSCxDQUFDLENBQUMsR0FFSCxnSEFBZ0g7QUFDaEgsK0JBQStCO0FBQy9CLHFCQUVBLDhGQUE4RjtBQUM5RixjQUNBLGVBRUEsb0VBQW9FO0FBQ3BFLG9DQUVBLDZFQUE2RTtBQUM3RSx1QkFDQSxpQkFDQSxzQkFBc0Isa0ZBQWtGO0FBQ3hHLGlCQUNBLHlCQUVBLDZEQUE2RDtBQUM3RCxtQkFDQSxxQkFDQSw4QkFFQSx5R0FBeUc7QUFDekcsaUlBQWlJO0FBQ2pJLG9CQUFvQiw4Q0FBOEM7QUFFbEUsMkdBQTJHO0FBQzNHLG9GQUFvRjtBQUNwRixxREFBcUQ7QUFDckQsb0NBQ0E7QUFHdEJELGFBQWFJLE9BQU8sQ0FBRSxDQUFDLENBQUMsRUFBRUYsZ0JBQ0gsQ0FBQyxDQUFDLEdBQ0gsMkNBQTJDO0FBQzNDLHdCQUVBLHFGQUFxRjtBQUNyRiwwQkFFQSw4R0FBOEc7QUFDOUcsaUhBQWlIO0FBQ2pILDRHQUE0RztBQUM1RywrR0FBK0c7QUFDL0csOEZBQThGO0FBQzlGLGdCQUVBLGdGQUFnRjtBQUNoRixxQkFBcUI7QUFFckIsb0dBQW9HO0FBQ3BHLCtEQUErRDtBQUMvRCxxQkFDQTtBQUd0QkYsYUFBYUksT0FBTyxDQUFFLENBQUMsQ0FBQyxFQUFFRCxxQkFDSCxDQUFDLENBQUMsR0FFSCxpR0FBaUc7QUFDakcsd0ZBQXdGO0FBQ3hGLHNGQUFzRjtBQUN0RjtBQUd0QixNQUFNRSxtQkFBbUI7SUFDdkJKLG9CQUFvQkE7SUFDcEJDLGlCQUFpQkE7SUFDakJDLHNCQUFzQkE7QUFDeEI7QUFFQUosUUFBUU8sUUFBUSxDQUFFLG9CQUFvQkQ7QUFDdEMsZUFBZUEsaUJBQWlCIn0=