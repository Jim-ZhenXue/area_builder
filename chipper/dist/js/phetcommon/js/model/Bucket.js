// Copyright 2013-2024, University of Colorado Boulder
/**
 * Class that defines the shape and common functionality for a 'bucket', which is a container into which some sort of
 * model objects may be placed.  This is a model object in the Model-View-Controller paradigm, and requires a
 * counterpart in the view in order to be presented to the user.
 *
 * In general, this is intended to be a base class, and subclasses should be used to add specific functionality, such as
 * how other model objects are added to and removed from the bucket.
 *
 * One other important note: The position of the bucket in model space is based on the center of the bucket's opening.
 *
 * @author John Blanco
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */ import Dimension2 from '../../../dot/js/Dimension2.js';
import Vector2 from '../../../dot/js/Vector2.js';
import { Shape } from '../../../kite/js/imports.js';
import optionize from '../../../phet-core/js/optionize.js';
import PhetioObject from '../../../tandem/js/PhetioObject.js';
import phetcommon from '../phetcommon.js';
// Proportion of the total height which the ellipse that represents the hole occupies.  It is assumed that the width
// of the hole is the same as the width specified at construction.
const HOLE_ELLIPSE_HEIGHT_PROPORTION = 0.25;
let Bucket = class Bucket extends PhetioObject {
    constructor(providedOptions){
        const options = optionize()({
            position: Vector2.ZERO,
            size: new Dimension2(200, 50),
            baseColor: '#ff0000',
            captionText: '',
            captionColor: 'white',
            // The following flag controls whether the bucket shape should be essentially upside down.  This allows it to be
            // used in cases where the model uses the inverted-y scheme commonly associated with screen layouts.
            invertY: false
        }, providedOptions);
        super(options);
        this.position = options.position;
        this.baseColor = options.baseColor;
        this.captionText = options.captionText;
        this.captionColor = options.captionColor;
        this.size = options.size;
        const size = this.size;
        const holeRadiusX = size.width / 2;
        const holeRadiusY = size.height * HOLE_ELLIPSE_HEIGHT_PROPORTION / 2;
        this.holeShape = Shape.ellipse(0, 0, holeRadiusX, holeRadiusY, 0);
        // Create the shape of the container.  This code is a bit 'tweaky', meaning that there are a lot of fractional
        // multipliers in here to try to achieve the desired pseudo-3D look.  The intent is that the 'tilt' of the bucket
        // can be changed without needing to rework this code.
        const containerHeight = size.height * (1 - HOLE_ELLIPSE_HEIGHT_PROPORTION / 2);
        const multiplier = options.invertY ? 1 : -1;
        this.containerShape = new Shape().moveTo(-size.width * 0.5, 0).lineTo(-size.width * 0.4, multiplier * containerHeight * 0.8).cubicCurveTo(-size.width * 0.3, multiplier * (containerHeight * 0.8 + size.height * HOLE_ELLIPSE_HEIGHT_PROPORTION * 0.6), size.width * 0.3, multiplier * (containerHeight * 0.8 + size.height * HOLE_ELLIPSE_HEIGHT_PROPORTION * 0.6), size.width * 0.4, multiplier * containerHeight * 0.8).lineTo(size.width * 0.5, 0)// Does not go to the exact endpoints, so there will be small lines at the endpoints.
        // See https://github.com/phetsims/build-an-atom/issues/173
        .ellipticalArc(0, 0, holeRadiusX, holeRadiusY, 0, -0.01 * Math.PI, -0.99 * Math.PI, !options.invertY).close();
    }
};
phetcommon.register('Bucket', Bucket);
export default Bucket;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3BoZXRjb21tb24vanMvbW9kZWwvQnVja2V0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDEzLTIwMjQsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxuXG4vKipcbiAqIENsYXNzIHRoYXQgZGVmaW5lcyB0aGUgc2hhcGUgYW5kIGNvbW1vbiBmdW5jdGlvbmFsaXR5IGZvciBhICdidWNrZXQnLCB3aGljaCBpcyBhIGNvbnRhaW5lciBpbnRvIHdoaWNoIHNvbWUgc29ydCBvZlxuICogbW9kZWwgb2JqZWN0cyBtYXkgYmUgcGxhY2VkLiAgVGhpcyBpcyBhIG1vZGVsIG9iamVjdCBpbiB0aGUgTW9kZWwtVmlldy1Db250cm9sbGVyIHBhcmFkaWdtLCBhbmQgcmVxdWlyZXMgYVxuICogY291bnRlcnBhcnQgaW4gdGhlIHZpZXcgaW4gb3JkZXIgdG8gYmUgcHJlc2VudGVkIHRvIHRoZSB1c2VyLlxuICpcbiAqIEluIGdlbmVyYWwsIHRoaXMgaXMgaW50ZW5kZWQgdG8gYmUgYSBiYXNlIGNsYXNzLCBhbmQgc3ViY2xhc3NlcyBzaG91bGQgYmUgdXNlZCB0byBhZGQgc3BlY2lmaWMgZnVuY3Rpb25hbGl0eSwgc3VjaCBhc1xuICogaG93IG90aGVyIG1vZGVsIG9iamVjdHMgYXJlIGFkZGVkIHRvIGFuZCByZW1vdmVkIGZyb20gdGhlIGJ1Y2tldC5cbiAqXG4gKiBPbmUgb3RoZXIgaW1wb3J0YW50IG5vdGU6IFRoZSBwb3NpdGlvbiBvZiB0aGUgYnVja2V0IGluIG1vZGVsIHNwYWNlIGlzIGJhc2VkIG9uIHRoZSBjZW50ZXIgb2YgdGhlIGJ1Y2tldCdzIG9wZW5pbmcuXG4gKlxuICogQGF1dGhvciBKb2huIEJsYW5jb1xuICogQGF1dGhvciBKb25hdGhhbiBPbHNvbiA8am9uYXRoYW4ub2xzb25AY29sb3JhZG8uZWR1PlxuICovXG5cbmltcG9ydCBEaW1lbnNpb24yIGZyb20gJy4uLy4uLy4uL2RvdC9qcy9EaW1lbnNpb24yLmpzJztcbmltcG9ydCBWZWN0b3IyIGZyb20gJy4uLy4uLy4uL2RvdC9qcy9WZWN0b3IyLmpzJztcbmltcG9ydCB7IFNoYXBlIH0gZnJvbSAnLi4vLi4vLi4va2l0ZS9qcy9pbXBvcnRzLmpzJztcbmltcG9ydCBvcHRpb25pemUgZnJvbSAnLi4vLi4vLi4vcGhldC1jb3JlL2pzL29wdGlvbml6ZS5qcyc7XG5pbXBvcnQgeyBUQ29sb3IgfSBmcm9tICcuLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xuaW1wb3J0IFBoZXRpb09iamVjdCwgeyBQaGV0aW9PYmplY3RPcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vdGFuZGVtL2pzL1BoZXRpb09iamVjdC5qcyc7XG5pbXBvcnQgcGhldGNvbW1vbiBmcm9tICcuLi9waGV0Y29tbW9uLmpzJztcblxuLy8gUHJvcG9ydGlvbiBvZiB0aGUgdG90YWwgaGVpZ2h0IHdoaWNoIHRoZSBlbGxpcHNlIHRoYXQgcmVwcmVzZW50cyB0aGUgaG9sZSBvY2N1cGllcy4gIEl0IGlzIGFzc3VtZWQgdGhhdCB0aGUgd2lkdGhcbi8vIG9mIHRoZSBob2xlIGlzIHRoZSBzYW1lIGFzIHRoZSB3aWR0aCBzcGVjaWZpZWQgYXQgY29uc3RydWN0aW9uLlxuY29uc3QgSE9MRV9FTExJUFNFX0hFSUdIVF9QUk9QT1JUSU9OID0gMC4yNTtcblxudHlwZSBTZWxmT3B0aW9ucyA9IHtcbiAgcG9zaXRpb24/OiBWZWN0b3IyO1xuICBzaXplPzogRGltZW5zaW9uMjtcbiAgYmFzZUNvbG9yPzogVENvbG9yO1xuICBjYXB0aW9uVGV4dD86IHN0cmluZztcbiAgY2FwdGlvbkNvbG9yPzogVENvbG9yO1xuICBpbnZlcnRZPzogYm9vbGVhbjtcbn07XG5leHBvcnQgdHlwZSBCdWNrZXRPcHRpb25zID0gUGhldGlvT2JqZWN0T3B0aW9ucyAmIFNlbGZPcHRpb25zO1xuXG5jbGFzcyBCdWNrZXQgZXh0ZW5kcyBQaGV0aW9PYmplY3Qge1xuXG4gIC8vIFRoZSBwb3NpdGlvbiBpcyBkZWZpbmVkIHRvIGJlIHdoZXJlIHRoZSBjZW50ZXIgb2YgdGhlIGhvbGUgaXMuXG4gIHB1YmxpYyBwb3NpdGlvbjogVmVjdG9yMjtcblxuICAvLyBCYXNlIGNvbG9yIG9mIHRoZSBidWNrZXQuXG4gIHB1YmxpYyByZWFkb25seSBiYXNlQ29sb3I6IFRDb2xvciB8IG51bGw7XG5cbiAgLy8gQ2FwdGlvbiB0byBiZSBzaG93biBvbiB0aGUgYnVja2V0LlxuICBwdWJsaWMgcmVhZG9ubHkgY2FwdGlvblRleHQ6IHN0cmluZztcblxuICAvLyBDb2xvciBmb3IgdGhlIGNhcHRpb24uXG4gIHB1YmxpYyByZWFkb25seSBjYXB0aW9uQ29sb3I6IFRDb2xvcjtcblxuICAvLyBUaGUgc2l6ZSBvZiB0aGUgYnVja2V0LlxuICBwdWJsaWMgcmVhZG9ubHkgc2l6ZTogRGltZW5zaW9uMjtcblxuICAvLyBDcmVhdGUgdGhlIHNoYXBlIG9mIHRoZSBidWNrZXQncyBob2xlLlxuICBwdWJsaWMgcmVhZG9ubHkgaG9sZVNoYXBlOiBTaGFwZTtcblxuICAvLyBUaGUgc2hhcGUgb2YgdGhlIGZyb250IHBvcnRpb24gb2YgdGhlIGJ1Y2tldC5cbiAgcHVibGljIHJlYWRvbmx5IGNvbnRhaW5lclNoYXBlOiBTaGFwZTtcblxuICBwdWJsaWMgY29uc3RydWN0b3IoIHByb3ZpZGVkT3B0aW9ucz86IEJ1Y2tldE9wdGlvbnMgKSB7XG5cbiAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uaXplPEJ1Y2tldE9wdGlvbnMsIFNlbGZPcHRpb25zLCBQaGV0aW9PYmplY3RPcHRpb25zPigpKCB7XG4gICAgICBwb3NpdGlvbjogVmVjdG9yMi5aRVJPLFxuICAgICAgc2l6ZTogbmV3IERpbWVuc2lvbjIoIDIwMCwgNTAgKSxcbiAgICAgIGJhc2VDb2xvcjogJyNmZjAwMDAnLFxuICAgICAgY2FwdGlvblRleHQ6ICcnLFxuICAgICAgY2FwdGlvbkNvbG9yOiAnd2hpdGUnLFxuXG4gICAgICAvLyBUaGUgZm9sbG93aW5nIGZsYWcgY29udHJvbHMgd2hldGhlciB0aGUgYnVja2V0IHNoYXBlIHNob3VsZCBiZSBlc3NlbnRpYWxseSB1cHNpZGUgZG93bi4gIFRoaXMgYWxsb3dzIGl0IHRvIGJlXG4gICAgICAvLyB1c2VkIGluIGNhc2VzIHdoZXJlIHRoZSBtb2RlbCB1c2VzIHRoZSBpbnZlcnRlZC15IHNjaGVtZSBjb21tb25seSBhc3NvY2lhdGVkIHdpdGggc2NyZWVuIGxheW91dHMuXG4gICAgICBpbnZlcnRZOiBmYWxzZVxuICAgIH0sIHByb3ZpZGVkT3B0aW9ucyApO1xuXG4gICAgc3VwZXIoIG9wdGlvbnMgKTtcblxuICAgIHRoaXMucG9zaXRpb24gPSBvcHRpb25zLnBvc2l0aW9uO1xuICAgIHRoaXMuYmFzZUNvbG9yID0gb3B0aW9ucy5iYXNlQ29sb3I7XG4gICAgdGhpcy5jYXB0aW9uVGV4dCA9IG9wdGlvbnMuY2FwdGlvblRleHQ7XG4gICAgdGhpcy5jYXB0aW9uQ29sb3IgPSBvcHRpb25zLmNhcHRpb25Db2xvcjtcbiAgICB0aGlzLnNpemUgPSBvcHRpb25zLnNpemU7XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMuc2l6ZTtcblxuICAgIGNvbnN0IGhvbGVSYWRpdXNYID0gc2l6ZS53aWR0aCAvIDI7XG4gICAgY29uc3QgaG9sZVJhZGl1c1kgPSBzaXplLmhlaWdodCAqIEhPTEVfRUxMSVBTRV9IRUlHSFRfUFJPUE9SVElPTiAvIDI7XG5cbiAgICB0aGlzLmhvbGVTaGFwZSA9IFNoYXBlLmVsbGlwc2UoIDAsIDAsIGhvbGVSYWRpdXNYLCBob2xlUmFkaXVzWSwgMCApO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBzaGFwZSBvZiB0aGUgY29udGFpbmVyLiAgVGhpcyBjb2RlIGlzIGEgYml0ICd0d2Vha3knLCBtZWFuaW5nIHRoYXQgdGhlcmUgYXJlIGEgbG90IG9mIGZyYWN0aW9uYWxcbiAgICAvLyBtdWx0aXBsaWVycyBpbiBoZXJlIHRvIHRyeSB0byBhY2hpZXZlIHRoZSBkZXNpcmVkIHBzZXVkby0zRCBsb29rLiAgVGhlIGludGVudCBpcyB0aGF0IHRoZSAndGlsdCcgb2YgdGhlIGJ1Y2tldFxuICAgIC8vIGNhbiBiZSBjaGFuZ2VkIHdpdGhvdXQgbmVlZGluZyB0byByZXdvcmsgdGhpcyBjb2RlLlxuICAgIGNvbnN0IGNvbnRhaW5lckhlaWdodCA9IHNpemUuaGVpZ2h0ICogKCAxIC0gKCBIT0xFX0VMTElQU0VfSEVJR0hUX1BST1BPUlRJT04gLyAyICkgKTtcbiAgICBjb25zdCBtdWx0aXBsaWVyID0gb3B0aW9ucy5pbnZlcnRZID8gMSA6IC0xO1xuXG4gICAgdGhpcy5jb250YWluZXJTaGFwZSA9IG5ldyBTaGFwZSgpLm1vdmVUbyggLXNpemUud2lkdGggKiAwLjUsIDAgKVxuICAgICAgLmxpbmVUbyggLXNpemUud2lkdGggKiAwLjQsIG11bHRpcGxpZXIgKiBjb250YWluZXJIZWlnaHQgKiAwLjggKVxuICAgICAgLmN1YmljQ3VydmVUbyggLXNpemUud2lkdGggKiAwLjMsIG11bHRpcGxpZXIgKiAoIGNvbnRhaW5lckhlaWdodCAqIDAuOCArIHNpemUuaGVpZ2h0ICogSE9MRV9FTExJUFNFX0hFSUdIVF9QUk9QT1JUSU9OICogMC42ICksXG4gICAgICAgIHNpemUud2lkdGggKiAwLjMsIG11bHRpcGxpZXIgKiAoIGNvbnRhaW5lckhlaWdodCAqIDAuOCArIHNpemUuaGVpZ2h0ICogSE9MRV9FTExJUFNFX0hFSUdIVF9QUk9QT1JUSU9OICogMC42ICksXG4gICAgICAgIHNpemUud2lkdGggKiAwLjQsIG11bHRpcGxpZXIgKiBjb250YWluZXJIZWlnaHQgKiAwLjggKVxuICAgICAgLmxpbmVUbyggc2l6ZS53aWR0aCAqIDAuNSwgMCApXG4gICAgICAvLyBEb2VzIG5vdCBnbyB0byB0aGUgZXhhY3QgZW5kcG9pbnRzLCBzbyB0aGVyZSB3aWxsIGJlIHNtYWxsIGxpbmVzIGF0IHRoZSBlbmRwb2ludHMuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL2J1aWxkLWFuLWF0b20vaXNzdWVzLzE3M1xuICAgICAgLmVsbGlwdGljYWxBcmMoIDAsIDAsIGhvbGVSYWRpdXNYLCBob2xlUmFkaXVzWSwgMCwgLTAuMDEgKiBNYXRoLlBJLCAtMC45OSAqIE1hdGguUEksICFvcHRpb25zLmludmVydFkgKVxuICAgICAgLmNsb3NlKCk7XG4gIH1cbn1cblxucGhldGNvbW1vbi5yZWdpc3RlciggJ0J1Y2tldCcsIEJ1Y2tldCApO1xuZXhwb3J0IGRlZmF1bHQgQnVja2V0OyJdLCJuYW1lcyI6WyJEaW1lbnNpb24yIiwiVmVjdG9yMiIsIlNoYXBlIiwib3B0aW9uaXplIiwiUGhldGlvT2JqZWN0IiwicGhldGNvbW1vbiIsIkhPTEVfRUxMSVBTRV9IRUlHSFRfUFJPUE9SVElPTiIsIkJ1Y2tldCIsInByb3ZpZGVkT3B0aW9ucyIsIm9wdGlvbnMiLCJwb3NpdGlvbiIsIlpFUk8iLCJzaXplIiwiYmFzZUNvbG9yIiwiY2FwdGlvblRleHQiLCJjYXB0aW9uQ29sb3IiLCJpbnZlcnRZIiwiaG9sZVJhZGl1c1giLCJ3aWR0aCIsImhvbGVSYWRpdXNZIiwiaGVpZ2h0IiwiaG9sZVNoYXBlIiwiZWxsaXBzZSIsImNvbnRhaW5lckhlaWdodCIsIm11bHRpcGxpZXIiLCJjb250YWluZXJTaGFwZSIsIm1vdmVUbyIsImxpbmVUbyIsImN1YmljQ3VydmVUbyIsImVsbGlwdGljYWxBcmMiLCJNYXRoIiwiUEkiLCJjbG9zZSIsInJlZ2lzdGVyIl0sIm1hcHBpbmdzIjoiQUFBQSxzREFBc0Q7QUFFdEQ7Ozs7Ozs7Ozs7OztDQVlDLEdBRUQsT0FBT0EsZ0JBQWdCLGdDQUFnQztBQUN2RCxPQUFPQyxhQUFhLDZCQUE2QjtBQUNqRCxTQUFTQyxLQUFLLFFBQVEsOEJBQThCO0FBQ3BELE9BQU9DLGVBQWUscUNBQXFDO0FBRTNELE9BQU9DLGtCQUEyQyxxQ0FBcUM7QUFDdkYsT0FBT0MsZ0JBQWdCLG1CQUFtQjtBQUUxQyxvSEFBb0g7QUFDcEgsa0VBQWtFO0FBQ2xFLE1BQU1DLGlDQUFpQztBQVl2QyxJQUFBLEFBQU1DLFNBQU4sTUFBTUEsZUFBZUg7SUF1Qm5CLFlBQW9CSSxlQUErQixDQUFHO1FBRXBELE1BQU1DLFVBQVVOLFlBQThEO1lBQzVFTyxVQUFVVCxRQUFRVSxJQUFJO1lBQ3RCQyxNQUFNLElBQUlaLFdBQVksS0FBSztZQUMzQmEsV0FBVztZQUNYQyxhQUFhO1lBQ2JDLGNBQWM7WUFFZCxnSEFBZ0g7WUFDaEgsb0dBQW9HO1lBQ3BHQyxTQUFTO1FBQ1gsR0FBR1I7UUFFSCxLQUFLLENBQUVDO1FBRVAsSUFBSSxDQUFDQyxRQUFRLEdBQUdELFFBQVFDLFFBQVE7UUFDaEMsSUFBSSxDQUFDRyxTQUFTLEdBQUdKLFFBQVFJLFNBQVM7UUFDbEMsSUFBSSxDQUFDQyxXQUFXLEdBQUdMLFFBQVFLLFdBQVc7UUFDdEMsSUFBSSxDQUFDQyxZQUFZLEdBQUdOLFFBQVFNLFlBQVk7UUFDeEMsSUFBSSxDQUFDSCxJQUFJLEdBQUdILFFBQVFHLElBQUk7UUFDeEIsTUFBTUEsT0FBTyxJQUFJLENBQUNBLElBQUk7UUFFdEIsTUFBTUssY0FBY0wsS0FBS00sS0FBSyxHQUFHO1FBQ2pDLE1BQU1DLGNBQWNQLEtBQUtRLE1BQU0sR0FBR2QsaUNBQWlDO1FBRW5FLElBQUksQ0FBQ2UsU0FBUyxHQUFHbkIsTUFBTW9CLE9BQU8sQ0FBRSxHQUFHLEdBQUdMLGFBQWFFLGFBQWE7UUFFaEUsOEdBQThHO1FBQzlHLGlIQUFpSDtRQUNqSCxzREFBc0Q7UUFDdEQsTUFBTUksa0JBQWtCWCxLQUFLUSxNQUFNLEdBQUssQ0FBQSxJQUFNZCxpQ0FBaUMsQ0FBRTtRQUNqRixNQUFNa0IsYUFBYWYsUUFBUU8sT0FBTyxHQUFHLElBQUksQ0FBQztRQUUxQyxJQUFJLENBQUNTLGNBQWMsR0FBRyxJQUFJdkIsUUFBUXdCLE1BQU0sQ0FBRSxDQUFDZCxLQUFLTSxLQUFLLEdBQUcsS0FBSyxHQUMxRFMsTUFBTSxDQUFFLENBQUNmLEtBQUtNLEtBQUssR0FBRyxLQUFLTSxhQUFhRCxrQkFBa0IsS0FDMURLLFlBQVksQ0FBRSxDQUFDaEIsS0FBS00sS0FBSyxHQUFHLEtBQUtNLGFBQWVELENBQUFBLGtCQUFrQixNQUFNWCxLQUFLUSxNQUFNLEdBQUdkLGlDQUFpQyxHQUFFLEdBQ3hITSxLQUFLTSxLQUFLLEdBQUcsS0FBS00sYUFBZUQsQ0FBQUEsa0JBQWtCLE1BQU1YLEtBQUtRLE1BQU0sR0FBR2QsaUNBQWlDLEdBQUUsR0FDMUdNLEtBQUtNLEtBQUssR0FBRyxLQUFLTSxhQUFhRCxrQkFBa0IsS0FDbERJLE1BQU0sQ0FBRWYsS0FBS00sS0FBSyxHQUFHLEtBQUssRUFDM0IscUZBQXFGO1FBQ3JGLDJEQUEyRDtTQUMxRFcsYUFBYSxDQUFFLEdBQUcsR0FBR1osYUFBYUUsYUFBYSxHQUFHLENBQUMsT0FBT1csS0FBS0MsRUFBRSxFQUFFLENBQUMsT0FBT0QsS0FBS0MsRUFBRSxFQUFFLENBQUN0QixRQUFRTyxPQUFPLEVBQ3BHZ0IsS0FBSztJQUNWO0FBQ0Y7QUFFQTNCLFdBQVc0QixRQUFRLENBQUUsVUFBVTFCO0FBQy9CLGVBQWVBLE9BQU8ifQ==