// Copyright 2023-2024, University of Colorado Boulder
/**
 * Unit tests for PhetioIDUtils
 *
 * @author Michael Kauzmann (PhET Interactive Simulations)
 */ QUnit.module('PhetioIDUtils');
QUnit.test('PhetioIDUtils.append', (assert)=>{
    const PhetioIDUtils = window.phetio.PhetioIDUtils;
    assert.equal(PhetioIDUtils.append('circuitConstructionKitDc.introScreen.model.circuit.voltageProperty', 'rangeProperty'), 'circuitConstructionKitDc.introScreen.model.circuit.voltageProperty.rangeProperty', 'basic append');
    assert.equal(PhetioIDUtils.append('', 'circuitConstructionKitDc'), 'circuitConstructionKitDc');
    assert.equal(PhetioIDUtils.append('', 'circuitConstructionKitDc', 'introScreen'), 'circuitConstructionKitDc.introScreen');
    assert.equal(PhetioIDUtils.append('circuitConstructionKitDc', 'introScreen', 'model', 'circuit', 'voltageProperty', 'rangeProperty'), 'circuitConstructionKitDc.introScreen.model.circuit.voltageProperty.rangeProperty');
    assert.equal(PhetioIDUtils.append('circuitConstructionKitDc', 'introScreen', '', 'model', 'circuit', 'voltageProperty', '', 'rangeProperty'), 'circuitConstructionKitDc.introScreen.model.circuit.voltageProperty.rangeProperty');
});
QUnit.test('Test archetype mapping', (assert)=>{
    const PhetioIDUtils = window.phetio.PhetioIDUtils;
    assert.equal(PhetioIDUtils.getArchetypalPhetioID('circuitConstructionKitDc.introScreen.model.circuit.batteryGroup.battery_0.powerDissipatedProperty.dependencies.circuitConstructionKitDc-introScreen-model-circuit-batteryGroup-battery_0-currentProperty'), 'circuitConstructionKitDc.introScreen.model.circuit.batteryGroup.archetype.powerDissipatedProperty.dependencies.circuitConstructionKitDc-introScreen-model-circuit-batteryGroup-archetype-currentProperty', 'Unexpected phetioID');
    assert.equal(PhetioIDUtils.getArchetypalPhetioID('circuitConstructionKitDc.introScreen.model.circuit.batteryGroup.battery_0'), 'circuitConstructionKitDc.introScreen.model.circuit.batteryGroup.archetype', 'Unexpected phetioID');
    assert.equal(PhetioIDUtils.getArchetypalPhetioID('circuitConstructionKitDc.introScreen.model.circuit.batteryGroup'), 'circuitConstructionKitDc.introScreen.model.circuit.batteryGroup', 'Unexpected phetioID');
    assert.equal(PhetioIDUtils.getArchetypalPhetioID('circuitConstructionKitDc-introScreen-model-circuit-batteryGroup-battery_0-currentProperty'), 'circuitConstructionKitDc-introScreen-model-circuit-batteryGroup-archetype-currentProperty', 'Unexpected phetioID');
    assert.equal(PhetioIDUtils.getArchetypalPhetioID('sim.circuitConstructionKitDc-introScreen-model-circuit-batteryGroup-battery_0-currentProperty.test.battery_1'), 'sim.circuitConstructionKitDc-introScreen-model-circuit-batteryGroup-archetype-currentProperty.test.archetype', 'Unexpected phetioID');
    assert.equal(PhetioIDUtils.getArchetypalPhetioID('statesOfMatter.general.view.navigationBar.preferencesButton.preferencesDialogCapsule.preferencesDialog.selectedTabProperty'), 'statesOfMatter.general.view.navigationBar.preferencesButton.preferencesDialogCapsule.archetype.selectedTabProperty', 'Unexpected phetioID');
    assert.equal(PhetioIDUtils.getArchetypalPhetioID('statesOfMatter.general.view.navigationBar.preferencesButton.aboutDialogCapsule.preferencesDialog'), 'statesOfMatter.general.view.navigationBar.preferencesButton.aboutDialogCapsule.archetype', 'Unexpected phetioID');
    assert.equal(PhetioIDUtils.getArchetypalPhetioID('statesOfMatter.general.view.navigationBar.preferencesButton.aboutDialogCapsule'), 'statesOfMatter.general.view.navigationBar.preferencesButton.aboutDialogCapsule', 'Unexpected phetioID');
    assert.equal(PhetioIDUtils.getArchetypalPhetioID('aboutDialogCapsule.preferencesDialog.somethingForTheMasses'), 'aboutDialogCapsule.archetype.somethingForTheMasses', 'Unexpected phetioID');
    assert.equal(PhetioIDUtils.getArchetypalPhetioID('myGroup.myElement_foo.positionProperty'), 'myGroup.archetype.positionProperty', 'Unexpected phetioID');
    assert.equal(PhetioIDUtils.getArchetypalPhetioID('myGroup.myElement_1.positionProperty'), 'myGroup.archetype.positionProperty', 'Unexpected phetioID');
    assert.equal(PhetioIDUtils.getArchetypalPhetioID('myGroup.myElement_blarg2.positionProperty'), 'myGroup.archetype.positionProperty', 'Unexpected phetioID');
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3RhbmRlbS9qcy9QaGV0aW9JRFV0aWxzVGVzdHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjMtMjAyNCwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXG5cbi8qKlxuICogVW5pdCB0ZXN0cyBmb3IgUGhldGlvSURVdGlsc1xuICpcbiAqIEBhdXRob3IgTWljaGFlbCBLYXV6bWFubiAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcbiAqL1xuXG5RVW5pdC5tb2R1bGUoICdQaGV0aW9JRFV0aWxzJyApO1xuXG5RVW5pdC50ZXN0KCAnUGhldGlvSURVdGlscy5hcHBlbmQnLCBhc3NlcnQgPT4ge1xuXG4gIGNvbnN0IFBoZXRpb0lEVXRpbHMgPSB3aW5kb3cucGhldGlvLlBoZXRpb0lEVXRpbHM7XG4gIGFzc2VydC5lcXVhbChcbiAgICBQaGV0aW9JRFV0aWxzLmFwcGVuZCggJ2NpcmN1aXRDb25zdHJ1Y3Rpb25LaXREYy5pbnRyb1NjcmVlbi5tb2RlbC5jaXJjdWl0LnZvbHRhZ2VQcm9wZXJ0eScsICdyYW5nZVByb3BlcnR5JyApLFxuICAgICdjaXJjdWl0Q29uc3RydWN0aW9uS2l0RGMuaW50cm9TY3JlZW4ubW9kZWwuY2lyY3VpdC52b2x0YWdlUHJvcGVydHkucmFuZ2VQcm9wZXJ0eScsXG4gICAgJ2Jhc2ljIGFwcGVuZCcgKTtcblxuICBhc3NlcnQuZXF1YWwoXG4gICAgUGhldGlvSURVdGlscy5hcHBlbmQoICcnLCAnY2lyY3VpdENvbnN0cnVjdGlvbktpdERjJyApLFxuICAgICdjaXJjdWl0Q29uc3RydWN0aW9uS2l0RGMnICk7XG5cbiAgYXNzZXJ0LmVxdWFsKFxuICAgIFBoZXRpb0lEVXRpbHMuYXBwZW5kKCAnJywgJ2NpcmN1aXRDb25zdHJ1Y3Rpb25LaXREYycsICdpbnRyb1NjcmVlbicgKSxcbiAgICAnY2lyY3VpdENvbnN0cnVjdGlvbktpdERjLmludHJvU2NyZWVuJyApO1xuXG4gIGFzc2VydC5lcXVhbChcbiAgICBQaGV0aW9JRFV0aWxzLmFwcGVuZCggJ2NpcmN1aXRDb25zdHJ1Y3Rpb25LaXREYycsICdpbnRyb1NjcmVlbicsICdtb2RlbCcsICdjaXJjdWl0JywgJ3ZvbHRhZ2VQcm9wZXJ0eScsICdyYW5nZVByb3BlcnR5JyApLFxuICAgICdjaXJjdWl0Q29uc3RydWN0aW9uS2l0RGMuaW50cm9TY3JlZW4ubW9kZWwuY2lyY3VpdC52b2x0YWdlUHJvcGVydHkucmFuZ2VQcm9wZXJ0eScgKTtcblxuICBhc3NlcnQuZXF1YWwoXG4gICAgUGhldGlvSURVdGlscy5hcHBlbmQoICdjaXJjdWl0Q29uc3RydWN0aW9uS2l0RGMnLCAnaW50cm9TY3JlZW4nLCAnJywgJ21vZGVsJywgJ2NpcmN1aXQnLCAndm9sdGFnZVByb3BlcnR5JywgJycsICdyYW5nZVByb3BlcnR5JyApLFxuICAgICdjaXJjdWl0Q29uc3RydWN0aW9uS2l0RGMuaW50cm9TY3JlZW4ubW9kZWwuY2lyY3VpdC52b2x0YWdlUHJvcGVydHkucmFuZ2VQcm9wZXJ0eScgKTtcbn0gKTtcblxuUVVuaXQudGVzdCggJ1Rlc3QgYXJjaGV0eXBlIG1hcHBpbmcnLCBhc3NlcnQgPT4ge1xuXG4gIGNvbnN0IFBoZXRpb0lEVXRpbHMgPSB3aW5kb3cucGhldGlvLlBoZXRpb0lEVXRpbHM7XG4gIGFzc2VydC5lcXVhbChcbiAgICBQaGV0aW9JRFV0aWxzLmdldEFyY2hldHlwYWxQaGV0aW9JRChcbiAgICAgICdjaXJjdWl0Q29uc3RydWN0aW9uS2l0RGMuaW50cm9TY3JlZW4ubW9kZWwuY2lyY3VpdC5iYXR0ZXJ5R3JvdXAuYmF0dGVyeV8wLnBvd2VyRGlzc2lwYXRlZFByb3BlcnR5LmRlcGVuZGVuY2llcy5jaXJjdWl0Q29uc3RydWN0aW9uS2l0RGMtaW50cm9TY3JlZW4tbW9kZWwtY2lyY3VpdC1iYXR0ZXJ5R3JvdXAtYmF0dGVyeV8wLWN1cnJlbnRQcm9wZXJ0eScgKSxcbiAgICAnY2lyY3VpdENvbnN0cnVjdGlvbktpdERjLmludHJvU2NyZWVuLm1vZGVsLmNpcmN1aXQuYmF0dGVyeUdyb3VwLmFyY2hldHlwZS5wb3dlckRpc3NpcGF0ZWRQcm9wZXJ0eS5kZXBlbmRlbmNpZXMuY2lyY3VpdENvbnN0cnVjdGlvbktpdERjLWludHJvU2NyZWVuLW1vZGVsLWNpcmN1aXQtYmF0dGVyeUdyb3VwLWFyY2hldHlwZS1jdXJyZW50UHJvcGVydHknLFxuICAgICdVbmV4cGVjdGVkIHBoZXRpb0lEJyApO1xuXG4gIGFzc2VydC5lcXVhbChcbiAgICBQaGV0aW9JRFV0aWxzLmdldEFyY2hldHlwYWxQaGV0aW9JRChcbiAgICAgICdjaXJjdWl0Q29uc3RydWN0aW9uS2l0RGMuaW50cm9TY3JlZW4ubW9kZWwuY2lyY3VpdC5iYXR0ZXJ5R3JvdXAuYmF0dGVyeV8wJyApLFxuICAgICdjaXJjdWl0Q29uc3RydWN0aW9uS2l0RGMuaW50cm9TY3JlZW4ubW9kZWwuY2lyY3VpdC5iYXR0ZXJ5R3JvdXAuYXJjaGV0eXBlJyxcbiAgICAnVW5leHBlY3RlZCBwaGV0aW9JRCcgKTtcblxuICBhc3NlcnQuZXF1YWwoXG4gICAgUGhldGlvSURVdGlscy5nZXRBcmNoZXR5cGFsUGhldGlvSUQoXG4gICAgICAnY2lyY3VpdENvbnN0cnVjdGlvbktpdERjLmludHJvU2NyZWVuLm1vZGVsLmNpcmN1aXQuYmF0dGVyeUdyb3VwJyApLFxuICAgICdjaXJjdWl0Q29uc3RydWN0aW9uS2l0RGMuaW50cm9TY3JlZW4ubW9kZWwuY2lyY3VpdC5iYXR0ZXJ5R3JvdXAnLFxuICAgICdVbmV4cGVjdGVkIHBoZXRpb0lEJyApO1xuXG4gIGFzc2VydC5lcXVhbChcbiAgICBQaGV0aW9JRFV0aWxzLmdldEFyY2hldHlwYWxQaGV0aW9JRChcbiAgICAgICdjaXJjdWl0Q29uc3RydWN0aW9uS2l0RGMtaW50cm9TY3JlZW4tbW9kZWwtY2lyY3VpdC1iYXR0ZXJ5R3JvdXAtYmF0dGVyeV8wLWN1cnJlbnRQcm9wZXJ0eScgKSxcbiAgICAnY2lyY3VpdENvbnN0cnVjdGlvbktpdERjLWludHJvU2NyZWVuLW1vZGVsLWNpcmN1aXQtYmF0dGVyeUdyb3VwLWFyY2hldHlwZS1jdXJyZW50UHJvcGVydHknLFxuICAgICdVbmV4cGVjdGVkIHBoZXRpb0lEJyApO1xuXG4gIGFzc2VydC5lcXVhbChcbiAgICBQaGV0aW9JRFV0aWxzLmdldEFyY2hldHlwYWxQaGV0aW9JRChcbiAgICAgICdzaW0uY2lyY3VpdENvbnN0cnVjdGlvbktpdERjLWludHJvU2NyZWVuLW1vZGVsLWNpcmN1aXQtYmF0dGVyeUdyb3VwLWJhdHRlcnlfMC1jdXJyZW50UHJvcGVydHkudGVzdC5iYXR0ZXJ5XzEnICksXG4gICAgJ3NpbS5jaXJjdWl0Q29uc3RydWN0aW9uS2l0RGMtaW50cm9TY3JlZW4tbW9kZWwtY2lyY3VpdC1iYXR0ZXJ5R3JvdXAtYXJjaGV0eXBlLWN1cnJlbnRQcm9wZXJ0eS50ZXN0LmFyY2hldHlwZScsXG4gICAgJ1VuZXhwZWN0ZWQgcGhldGlvSUQnICk7XG5cbiAgYXNzZXJ0LmVxdWFsKFxuICAgIFBoZXRpb0lEVXRpbHMuZ2V0QXJjaGV0eXBhbFBoZXRpb0lEKFxuICAgICAgJ3N0YXRlc09mTWF0dGVyLmdlbmVyYWwudmlldy5uYXZpZ2F0aW9uQmFyLnByZWZlcmVuY2VzQnV0dG9uLnByZWZlcmVuY2VzRGlhbG9nQ2Fwc3VsZS5wcmVmZXJlbmNlc0RpYWxvZy5zZWxlY3RlZFRhYlByb3BlcnR5JyApLFxuICAgICdzdGF0ZXNPZk1hdHRlci5nZW5lcmFsLnZpZXcubmF2aWdhdGlvbkJhci5wcmVmZXJlbmNlc0J1dHRvbi5wcmVmZXJlbmNlc0RpYWxvZ0NhcHN1bGUuYXJjaGV0eXBlLnNlbGVjdGVkVGFiUHJvcGVydHknLFxuICAgICdVbmV4cGVjdGVkIHBoZXRpb0lEJyApO1xuXG4gIGFzc2VydC5lcXVhbChcbiAgICBQaGV0aW9JRFV0aWxzLmdldEFyY2hldHlwYWxQaGV0aW9JRChcbiAgICAgICdzdGF0ZXNPZk1hdHRlci5nZW5lcmFsLnZpZXcubmF2aWdhdGlvbkJhci5wcmVmZXJlbmNlc0J1dHRvbi5hYm91dERpYWxvZ0NhcHN1bGUucHJlZmVyZW5jZXNEaWFsb2cnICksXG4gICAgJ3N0YXRlc09mTWF0dGVyLmdlbmVyYWwudmlldy5uYXZpZ2F0aW9uQmFyLnByZWZlcmVuY2VzQnV0dG9uLmFib3V0RGlhbG9nQ2Fwc3VsZS5hcmNoZXR5cGUnLFxuICAgICdVbmV4cGVjdGVkIHBoZXRpb0lEJyApO1xuXG4gIGFzc2VydC5lcXVhbChcbiAgICBQaGV0aW9JRFV0aWxzLmdldEFyY2hldHlwYWxQaGV0aW9JRChcbiAgICAgICdzdGF0ZXNPZk1hdHRlci5nZW5lcmFsLnZpZXcubmF2aWdhdGlvbkJhci5wcmVmZXJlbmNlc0J1dHRvbi5hYm91dERpYWxvZ0NhcHN1bGUnICksXG4gICAgJ3N0YXRlc09mTWF0dGVyLmdlbmVyYWwudmlldy5uYXZpZ2F0aW9uQmFyLnByZWZlcmVuY2VzQnV0dG9uLmFib3V0RGlhbG9nQ2Fwc3VsZScsXG4gICAgJ1VuZXhwZWN0ZWQgcGhldGlvSUQnICk7XG5cbiAgYXNzZXJ0LmVxdWFsKFxuICAgIFBoZXRpb0lEVXRpbHMuZ2V0QXJjaGV0eXBhbFBoZXRpb0lEKFxuICAgICAgJ2Fib3V0RGlhbG9nQ2Fwc3VsZS5wcmVmZXJlbmNlc0RpYWxvZy5zb21ldGhpbmdGb3JUaGVNYXNzZXMnICksXG4gICAgJ2Fib3V0RGlhbG9nQ2Fwc3VsZS5hcmNoZXR5cGUuc29tZXRoaW5nRm9yVGhlTWFzc2VzJyxcbiAgICAnVW5leHBlY3RlZCBwaGV0aW9JRCcgKTtcblxuICBhc3NlcnQuZXF1YWwoXG4gICAgUGhldGlvSURVdGlscy5nZXRBcmNoZXR5cGFsUGhldGlvSUQoXG4gICAgICAnbXlHcm91cC5teUVsZW1lbnRfZm9vLnBvc2l0aW9uUHJvcGVydHknICksXG4gICAgJ215R3JvdXAuYXJjaGV0eXBlLnBvc2l0aW9uUHJvcGVydHknLFxuICAgICdVbmV4cGVjdGVkIHBoZXRpb0lEJyApO1xuXG4gIGFzc2VydC5lcXVhbChcbiAgICBQaGV0aW9JRFV0aWxzLmdldEFyY2hldHlwYWxQaGV0aW9JRChcbiAgICAgICdteUdyb3VwLm15RWxlbWVudF8xLnBvc2l0aW9uUHJvcGVydHknICksXG4gICAgJ215R3JvdXAuYXJjaGV0eXBlLnBvc2l0aW9uUHJvcGVydHknLFxuICAgICdVbmV4cGVjdGVkIHBoZXRpb0lEJyApO1xuXG4gIGFzc2VydC5lcXVhbChcbiAgICBQaGV0aW9JRFV0aWxzLmdldEFyY2hldHlwYWxQaGV0aW9JRChcbiAgICAgICdteUdyb3VwLm15RWxlbWVudF9ibGFyZzIucG9zaXRpb25Qcm9wZXJ0eScgKSxcbiAgICAnbXlHcm91cC5hcmNoZXR5cGUucG9zaXRpb25Qcm9wZXJ0eScsXG4gICAgJ1VuZXhwZWN0ZWQgcGhldGlvSUQnICk7XG59ICk7Il0sIm5hbWVzIjpbIlFVbml0IiwibW9kdWxlIiwidGVzdCIsImFzc2VydCIsIlBoZXRpb0lEVXRpbHMiLCJ3aW5kb3ciLCJwaGV0aW8iLCJlcXVhbCIsImFwcGVuZCIsImdldEFyY2hldHlwYWxQaGV0aW9JRCJdLCJtYXBwaW5ncyI6IkFBQUEsc0RBQXNEO0FBRXREOzs7O0NBSUMsR0FFREEsTUFBTUMsTUFBTSxDQUFFO0FBRWRELE1BQU1FLElBQUksQ0FBRSx3QkFBd0JDLENBQUFBO0lBRWxDLE1BQU1DLGdCQUFnQkMsT0FBT0MsTUFBTSxDQUFDRixhQUFhO0lBQ2pERCxPQUFPSSxLQUFLLENBQ1ZILGNBQWNJLE1BQU0sQ0FBRSxzRUFBc0Usa0JBQzVGLG9GQUNBO0lBRUZMLE9BQU9JLEtBQUssQ0FDVkgsY0FBY0ksTUFBTSxDQUFFLElBQUksNkJBQzFCO0lBRUZMLE9BQU9JLEtBQUssQ0FDVkgsY0FBY0ksTUFBTSxDQUFFLElBQUksNEJBQTRCLGdCQUN0RDtJQUVGTCxPQUFPSSxLQUFLLENBQ1ZILGNBQWNJLE1BQU0sQ0FBRSw0QkFBNEIsZUFBZSxTQUFTLFdBQVcsbUJBQW1CLGtCQUN4RztJQUVGTCxPQUFPSSxLQUFLLENBQ1ZILGNBQWNJLE1BQU0sQ0FBRSw0QkFBNEIsZUFBZSxJQUFJLFNBQVMsV0FBVyxtQkFBbUIsSUFBSSxrQkFDaEg7QUFDSjtBQUVBUixNQUFNRSxJQUFJLENBQUUsMEJBQTBCQyxDQUFBQTtJQUVwQyxNQUFNQyxnQkFBZ0JDLE9BQU9DLE1BQU0sQ0FBQ0YsYUFBYTtJQUNqREQsT0FBT0ksS0FBSyxDQUNWSCxjQUFjSyxxQkFBcUIsQ0FDakMsNk1BQ0YsNE1BQ0E7SUFFRk4sT0FBT0ksS0FBSyxDQUNWSCxjQUFjSyxxQkFBcUIsQ0FDakMsOEVBQ0YsNkVBQ0E7SUFFRk4sT0FBT0ksS0FBSyxDQUNWSCxjQUFjSyxxQkFBcUIsQ0FDakMsb0VBQ0YsbUVBQ0E7SUFFRk4sT0FBT0ksS0FBSyxDQUNWSCxjQUFjSyxxQkFBcUIsQ0FDakMsOEZBQ0YsNkZBQ0E7SUFFRk4sT0FBT0ksS0FBSyxDQUNWSCxjQUFjSyxxQkFBcUIsQ0FDakMsaUhBQ0YsZ0hBQ0E7SUFFRk4sT0FBT0ksS0FBSyxDQUNWSCxjQUFjSyxxQkFBcUIsQ0FDakMsK0hBQ0Ysc0hBQ0E7SUFFRk4sT0FBT0ksS0FBSyxDQUNWSCxjQUFjSyxxQkFBcUIsQ0FDakMscUdBQ0YsNEZBQ0E7SUFFRk4sT0FBT0ksS0FBSyxDQUNWSCxjQUFjSyxxQkFBcUIsQ0FDakMsbUZBQ0Ysa0ZBQ0E7SUFFRk4sT0FBT0ksS0FBSyxDQUNWSCxjQUFjSyxxQkFBcUIsQ0FDakMsK0RBQ0Ysc0RBQ0E7SUFFRk4sT0FBT0ksS0FBSyxDQUNWSCxjQUFjSyxxQkFBcUIsQ0FDakMsMkNBQ0Ysc0NBQ0E7SUFFRk4sT0FBT0ksS0FBSyxDQUNWSCxjQUFjSyxxQkFBcUIsQ0FDakMseUNBQ0Ysc0NBQ0E7SUFFRk4sT0FBT0ksS0FBSyxDQUNWSCxjQUFjSyxxQkFBcUIsQ0FDakMsOENBQ0Ysc0NBQ0E7QUFDSiJ9