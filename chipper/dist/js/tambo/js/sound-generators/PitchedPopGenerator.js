// Copyright 2018-2022, University of Colorado Boulder
/**
 * sound generator that produces a popping sound with controllable pitch
 *
 * @author John Blanco (PhET Interactive Simulations)
 * @author Michael Kauzmann (PhET Interactive Simulations)
 */ import Range from '../../../dot/js/Range.js';
import optionize from '../../../phet-core/js/optionize.js';
import tambo from '../tambo.js';
import SoundGenerator from './SoundGenerator.js';
// constants
const DEFAULT_NUM_POP_GENERATORS = 8;
const ENVELOPE_TIME_CONSTANT = 0.005; // in seconds
const DEFAULT_POP_DURATION = 0.02; // in seconds
let PitchedPopGenerator = class PitchedPopGenerator extends SoundGenerator {
    /**
   * Play the pop sound.
   * relativePitch - a value from 0 to 1 indicating the proportionate frequency to play within the pitch range
   [duration] - the duration of the pop sound to be played, in seconds
   */ playPop(relativePitch, duration = DEFAULT_POP_DURATION) {
        assert && assert(relativePitch >= 0 && relativePitch <= 1, 'relative pitch value out of range');
        if (!this.fullyEnabled) {
            // ignore the request
            return;
        }
        // determine the frequency value of the pop
        const minFrequency = this.pitchRange.min;
        const maxFrequency = this.pitchRange.max;
        const frequency = minFrequency + relativePitch * (maxFrequency - minFrequency);
        // get a sound source from the pool, then index to the next one (see above for type info on sound sources)
        const soundSource = this.soundSources[this.nextSoundSourceIndex];
        this.nextSoundSourceIndex = (this.nextSoundSourceIndex + 1) % this.soundSources.length;
        // play the pop sound
        const now = this.audioContext.currentTime;
        soundSource.gainNode.gain.cancelScheduledValues(now);
        soundSource.oscillator.frequency.setValueAtTime(frequency / 2, now);
        soundSource.gainNode.gain.setValueAtTime(0, now);
        soundSource.oscillator.frequency.linearRampToValueAtTime(frequency * 2, now + duration);
        soundSource.gainNode.gain.setTargetAtTime(1, now, ENVELOPE_TIME_CONSTANT);
        soundSource.gainNode.gain.setTargetAtTime(0, now + duration, ENVELOPE_TIME_CONSTANT);
    }
    constructor(providedOptions){
        const options = optionize()({
            pitchRange: new Range(220, 660),
            numPopGenerators: DEFAULT_NUM_POP_GENERATORS
        }, providedOptions);
        super(options);
        this.pitchRange = options.pitchRange;
        // A dynamics compressor node used to limit max output amplitude, otherwise distortion tends to occur when lots of
        // pops are played at once.
        const dynamicsCompressorNode = this.audioContext.createDynamicsCompressor();
        // The following parameter values for the dynamics compressor were empirically determined through informed
        // experimentation.
        const now = this.audioContext.currentTime;
        dynamicsCompressorNode.threshold.setValueAtTime(-3, now);
        dynamicsCompressorNode.knee.setValueAtTime(0, now); // hard knee
        dynamicsCompressorNode.ratio.setValueAtTime(12, now);
        dynamicsCompressorNode.attack.setValueAtTime(0, now);
        dynamicsCompressorNode.release.setValueAtTime(0.25, now);
        dynamicsCompressorNode.connect(this.soundSourceDestination);
        // Create the sound sources - several are created so that pops can be played in rapid succession if desired.
        this.soundSources = [];
        _.times(options.numPopGenerators, ()=>{
            const oscillator = this.audioContext.createOscillator();
            const now = this.audioContext.currentTime;
            oscillator.type = 'sine';
            oscillator.frequency.setValueAtTime(options.pitchRange.min, now);
            oscillator.start(0);
            const gainNode = this.audioContext.createGain();
            gainNode.gain.setValueAtTime(0, now);
            oscillator.connect(gainNode);
            gainNode.connect(dynamicsCompressorNode);
            this.soundSources.push({
                oscillator: oscillator,
                gainNode: gainNode
            });
        });
        this.nextSoundSourceIndex = 0;
    }
};
tambo.register('PitchedPopGenerator', PitchedPopGenerator);
export default PitchedPopGenerator;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3RhbWJvL2pzL3NvdW5kLWdlbmVyYXRvcnMvUGl0Y2hlZFBvcEdlbmVyYXRvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOC0yMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcblxuLyoqXG4gKiBzb3VuZCBnZW5lcmF0b3IgdGhhdCBwcm9kdWNlcyBhIHBvcHBpbmcgc291bmQgd2l0aCBjb250cm9sbGFibGUgcGl0Y2hcbiAqXG4gKiBAYXV0aG9yIEpvaG4gQmxhbmNvIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxuICogQGF1dGhvciBNaWNoYWVsIEthdXptYW5uIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxuICovXG5cbmltcG9ydCBSYW5nZSBmcm9tICcuLi8uLi8uLi9kb3QvanMvUmFuZ2UuanMnO1xuaW1wb3J0IG9wdGlvbml6ZSBmcm9tICcuLi8uLi8uLi9waGV0LWNvcmUvanMvb3B0aW9uaXplLmpzJztcbmltcG9ydCB0YW1ibyBmcm9tICcuLi90YW1iby5qcyc7XG5pbXBvcnQgU291bmRHZW5lcmF0b3IsIHsgU291bmRHZW5lcmF0b3JPcHRpb25zIH0gZnJvbSAnLi9Tb3VuZEdlbmVyYXRvci5qcyc7XG5cbnR5cGUgU2VsZk9wdGlvbnMgPSB7XG5cbiAgLy8gdGhlIHJhbmdlIG9mIHBpdGNoZXMgdGhhdCB3aWxsIGJlIHByb2R1Y2VkLCBpbiBIelxuICBwaXRjaFJhbmdlPzogUmFuZ2U7XG5cbiAgLy8gdGhlIG51bWJlciBvZiBwb3AgZ2VuZXJhdG9ycyB0byBjcmVhdGUgYW5kIHBvb2wsIHVzZSBtb3JlIGlmIGdlbmVyYXRpbmcgbG90cyBvZiBwb3BzIGNsb3NlIHRvZ2V0aGVyLCBsZXNzIGlmIG5vdFxuICBudW1Qb3BHZW5lcmF0b3JzPzogbnVtYmVyO1xufTtcbmV4cG9ydCB0eXBlIFBpdGNoZWRQb3BHZW5lcmF0b3JPcHRpb25zID0gU2VsZk9wdGlvbnMgJiBTb3VuZEdlbmVyYXRvck9wdGlvbnM7XG5cbi8vIGNvbnN0YW50c1xuY29uc3QgREVGQVVMVF9OVU1fUE9QX0dFTkVSQVRPUlMgPSA4O1xuY29uc3QgRU5WRUxPUEVfVElNRV9DT05TVEFOVCA9IDAuMDA1OyAvLyBpbiBzZWNvbmRzXG5jb25zdCBERUZBVUxUX1BPUF9EVVJBVElPTiA9IDAuMDI7IC8vIGluIHNlY29uZHNcblxuY2xhc3MgUGl0Y2hlZFBvcEdlbmVyYXRvciBleHRlbmRzIFNvdW5kR2VuZXJhdG9yIHtcblxuICAvLyByYW5nZSBvZiBwaXRjaGVzIHRvIGJlIHByb2R1Y2VkXG4gIHByaXZhdGUgcmVhZG9ubHkgcGl0Y2hSYW5nZTogUmFuZ2U7XG5cbiAgLy8gU291bmQgc291cmNlcywgd2hpY2ggY29uc2lzdCBvZiBhbiBvc2NpbGxhdG9yIGFuZCBhIGdhaW4gbm9kZS5cbiAgcHJpdmF0ZSByZWFkb25seSBzb3VuZFNvdXJjZXM6IHsgb3NjaWxsYXRvcjogT3NjaWxsYXRvck5vZGU7IGdhaW5Ob2RlOiBHYWluTm9kZSB9W107XG5cbiAgLy8gbmV4dCBzb3VuZCBzb3VyY2UgdG8gdXNlIHRvIHBsYXkgYSBzb3VuZFxuICBwcml2YXRlIG5leHRTb3VuZFNvdXJjZUluZGV4OiBudW1iZXI7XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKCBwcm92aWRlZE9wdGlvbnM/OiBQaXRjaGVkUG9wR2VuZXJhdG9yT3B0aW9ucyApIHtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25pemU8UGl0Y2hlZFBvcEdlbmVyYXRvck9wdGlvbnMsIFNlbGZPcHRpb25zLCBTb3VuZEdlbmVyYXRvck9wdGlvbnM+KCkoIHtcbiAgICAgIHBpdGNoUmFuZ2U6IG5ldyBSYW5nZSggMjIwLCA2NjAgKSxcbiAgICAgIG51bVBvcEdlbmVyYXRvcnM6IERFRkFVTFRfTlVNX1BPUF9HRU5FUkFUT1JTXG4gICAgfSwgcHJvdmlkZWRPcHRpb25zICk7XG5cbiAgICBzdXBlciggb3B0aW9ucyApO1xuXG4gICAgdGhpcy5waXRjaFJhbmdlID0gb3B0aW9ucy5waXRjaFJhbmdlO1xuXG4gICAgLy8gQSBkeW5hbWljcyBjb21wcmVzc29yIG5vZGUgdXNlZCB0byBsaW1pdCBtYXggb3V0cHV0IGFtcGxpdHVkZSwgb3RoZXJ3aXNlIGRpc3RvcnRpb24gdGVuZHMgdG8gb2NjdXIgd2hlbiBsb3RzIG9mXG4gICAgLy8gcG9wcyBhcmUgcGxheWVkIGF0IG9uY2UuXG4gICAgY29uc3QgZHluYW1pY3NDb21wcmVzc29yTm9kZSA9IHRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZUR5bmFtaWNzQ29tcHJlc3NvcigpO1xuXG4gICAgLy8gVGhlIGZvbGxvd2luZyBwYXJhbWV0ZXIgdmFsdWVzIGZvciB0aGUgZHluYW1pY3MgY29tcHJlc3NvciB3ZXJlIGVtcGlyaWNhbGx5IGRldGVybWluZWQgdGhyb3VnaCBpbmZvcm1lZFxuICAgIC8vIGV4cGVyaW1lbnRhdGlvbi5cbiAgICBjb25zdCBub3cgPSB0aGlzLmF1ZGlvQ29udGV4dC5jdXJyZW50VGltZTtcbiAgICBkeW5hbWljc0NvbXByZXNzb3JOb2RlLnRocmVzaG9sZC5zZXRWYWx1ZUF0VGltZSggLTMsIG5vdyApO1xuICAgIGR5bmFtaWNzQ29tcHJlc3Nvck5vZGUua25lZS5zZXRWYWx1ZUF0VGltZSggMCwgbm93ICk7IC8vIGhhcmQga25lZVxuICAgIGR5bmFtaWNzQ29tcHJlc3Nvck5vZGUucmF0aW8uc2V0VmFsdWVBdFRpbWUoIDEyLCBub3cgKTtcbiAgICBkeW5hbWljc0NvbXByZXNzb3JOb2RlLmF0dGFjay5zZXRWYWx1ZUF0VGltZSggMCwgbm93ICk7XG4gICAgZHluYW1pY3NDb21wcmVzc29yTm9kZS5yZWxlYXNlLnNldFZhbHVlQXRUaW1lKCAwLjI1LCBub3cgKTtcbiAgICBkeW5hbWljc0NvbXByZXNzb3JOb2RlLmNvbm5lY3QoIHRoaXMuc291bmRTb3VyY2VEZXN0aW5hdGlvbiApO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBzb3VuZCBzb3VyY2VzIC0gc2V2ZXJhbCBhcmUgY3JlYXRlZCBzbyB0aGF0IHBvcHMgY2FuIGJlIHBsYXllZCBpbiByYXBpZCBzdWNjZXNzaW9uIGlmIGRlc2lyZWQuXG4gICAgdGhpcy5zb3VuZFNvdXJjZXMgPSBbXTtcbiAgICBfLnRpbWVzKCBvcHRpb25zLm51bVBvcEdlbmVyYXRvcnMsICgpID0+IHtcblxuICAgICAgY29uc3Qgb3NjaWxsYXRvciA9IHRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZU9zY2lsbGF0b3IoKTtcbiAgICAgIGNvbnN0IG5vdyA9IHRoaXMuYXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lO1xuICAgICAgb3NjaWxsYXRvci50eXBlID0gJ3NpbmUnO1xuICAgICAgb3NjaWxsYXRvci5mcmVxdWVuY3kuc2V0VmFsdWVBdFRpbWUoIG9wdGlvbnMucGl0Y2hSYW5nZS5taW4sIG5vdyApO1xuICAgICAgb3NjaWxsYXRvci5zdGFydCggMCApO1xuXG4gICAgICBjb25zdCBnYWluTm9kZSA9IHRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZUdhaW4oKTtcbiAgICAgIGdhaW5Ob2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUoIDAsIG5vdyApO1xuICAgICAgb3NjaWxsYXRvci5jb25uZWN0KCBnYWluTm9kZSApO1xuICAgICAgZ2Fpbk5vZGUuY29ubmVjdCggZHluYW1pY3NDb21wcmVzc29yTm9kZSApO1xuXG4gICAgICB0aGlzLnNvdW5kU291cmNlcy5wdXNoKCB7XG4gICAgICAgIG9zY2lsbGF0b3I6IG9zY2lsbGF0b3IsXG4gICAgICAgIGdhaW5Ob2RlOiBnYWluTm9kZVxuICAgICAgfSApO1xuICAgIH0gKTtcblxuICAgIHRoaXMubmV4dFNvdW5kU291cmNlSW5kZXggPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFBsYXkgdGhlIHBvcCBzb3VuZC5cbiAgICogcmVsYXRpdmVQaXRjaCAtIGEgdmFsdWUgZnJvbSAwIHRvIDEgaW5kaWNhdGluZyB0aGUgcHJvcG9ydGlvbmF0ZSBmcmVxdWVuY3kgdG8gcGxheSB3aXRoaW4gdGhlIHBpdGNoIHJhbmdlXG4gICBbZHVyYXRpb25dIC0gdGhlIGR1cmF0aW9uIG9mIHRoZSBwb3Agc291bmQgdG8gYmUgcGxheWVkLCBpbiBzZWNvbmRzXG4gICAqL1xuICBwdWJsaWMgcGxheVBvcCggcmVsYXRpdmVQaXRjaDogbnVtYmVyLCBkdXJhdGlvbiA9IERFRkFVTFRfUE9QX0RVUkFUSU9OICk6IHZvaWQge1xuXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggcmVsYXRpdmVQaXRjaCA+PSAwICYmIHJlbGF0aXZlUGl0Y2ggPD0gMSwgJ3JlbGF0aXZlIHBpdGNoIHZhbHVlIG91dCBvZiByYW5nZScgKTtcblxuICAgIGlmICggIXRoaXMuZnVsbHlFbmFibGVkICkge1xuXG4gICAgICAvLyBpZ25vcmUgdGhlIHJlcXVlc3RcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBkZXRlcm1pbmUgdGhlIGZyZXF1ZW5jeSB2YWx1ZSBvZiB0aGUgcG9wXG4gICAgY29uc3QgbWluRnJlcXVlbmN5ID0gdGhpcy5waXRjaFJhbmdlLm1pbjtcbiAgICBjb25zdCBtYXhGcmVxdWVuY3kgPSB0aGlzLnBpdGNoUmFuZ2UubWF4O1xuICAgIGNvbnN0IGZyZXF1ZW5jeSA9IG1pbkZyZXF1ZW5jeSArIHJlbGF0aXZlUGl0Y2ggKiAoIG1heEZyZXF1ZW5jeSAtIG1pbkZyZXF1ZW5jeSApO1xuXG4gICAgLy8gZ2V0IGEgc291bmQgc291cmNlIGZyb20gdGhlIHBvb2wsIHRoZW4gaW5kZXggdG8gdGhlIG5leHQgb25lIChzZWUgYWJvdmUgZm9yIHR5cGUgaW5mbyBvbiBzb3VuZCBzb3VyY2VzKVxuICAgIGNvbnN0IHNvdW5kU291cmNlID0gdGhpcy5zb3VuZFNvdXJjZXNbIHRoaXMubmV4dFNvdW5kU291cmNlSW5kZXggXTtcbiAgICB0aGlzLm5leHRTb3VuZFNvdXJjZUluZGV4ID0gKCB0aGlzLm5leHRTb3VuZFNvdXJjZUluZGV4ICsgMSApICUgdGhpcy5zb3VuZFNvdXJjZXMubGVuZ3RoO1xuXG4gICAgLy8gcGxheSB0aGUgcG9wIHNvdW5kXG4gICAgY29uc3Qgbm93ID0gdGhpcy5hdWRpb0NvbnRleHQuY3VycmVudFRpbWU7XG4gICAgc291bmRTb3VyY2UuZ2Fpbk5vZGUuZ2Fpbi5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMoIG5vdyApO1xuICAgIHNvdW5kU291cmNlLm9zY2lsbGF0b3IuZnJlcXVlbmN5LnNldFZhbHVlQXRUaW1lKCBmcmVxdWVuY3kgLyAyLCBub3cgKTtcbiAgICBzb3VuZFNvdXJjZS5nYWluTm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKCAwLCBub3cgKTtcbiAgICBzb3VuZFNvdXJjZS5vc2NpbGxhdG9yLmZyZXF1ZW5jeS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSggZnJlcXVlbmN5ICogMiwgbm93ICsgZHVyYXRpb24gKTtcbiAgICBzb3VuZFNvdXJjZS5nYWluTm9kZS5nYWluLnNldFRhcmdldEF0VGltZSggMSwgbm93LCBFTlZFTE9QRV9USU1FX0NPTlNUQU5UICk7XG4gICAgc291bmRTb3VyY2UuZ2Fpbk5vZGUuZ2Fpbi5zZXRUYXJnZXRBdFRpbWUoIDAsIG5vdyArIGR1cmF0aW9uLCBFTlZFTE9QRV9USU1FX0NPTlNUQU5UICk7XG4gIH1cbn1cblxudGFtYm8ucmVnaXN0ZXIoICdQaXRjaGVkUG9wR2VuZXJhdG9yJywgUGl0Y2hlZFBvcEdlbmVyYXRvciApO1xuXG5leHBvcnQgZGVmYXVsdCBQaXRjaGVkUG9wR2VuZXJhdG9yOyJdLCJuYW1lcyI6WyJSYW5nZSIsIm9wdGlvbml6ZSIsInRhbWJvIiwiU291bmRHZW5lcmF0b3IiLCJERUZBVUxUX05VTV9QT1BfR0VORVJBVE9SUyIsIkVOVkVMT1BFX1RJTUVfQ09OU1RBTlQiLCJERUZBVUxUX1BPUF9EVVJBVElPTiIsIlBpdGNoZWRQb3BHZW5lcmF0b3IiLCJwbGF5UG9wIiwicmVsYXRpdmVQaXRjaCIsImR1cmF0aW9uIiwiYXNzZXJ0IiwiZnVsbHlFbmFibGVkIiwibWluRnJlcXVlbmN5IiwicGl0Y2hSYW5nZSIsIm1pbiIsIm1heEZyZXF1ZW5jeSIsIm1heCIsImZyZXF1ZW5jeSIsInNvdW5kU291cmNlIiwic291bmRTb3VyY2VzIiwibmV4dFNvdW5kU291cmNlSW5kZXgiLCJsZW5ndGgiLCJub3ciLCJhdWRpb0NvbnRleHQiLCJjdXJyZW50VGltZSIsImdhaW5Ob2RlIiwiZ2FpbiIsImNhbmNlbFNjaGVkdWxlZFZhbHVlcyIsIm9zY2lsbGF0b3IiLCJzZXRWYWx1ZUF0VGltZSIsImxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lIiwic2V0VGFyZ2V0QXRUaW1lIiwicHJvdmlkZWRPcHRpb25zIiwib3B0aW9ucyIsIm51bVBvcEdlbmVyYXRvcnMiLCJkeW5hbWljc0NvbXByZXNzb3JOb2RlIiwiY3JlYXRlRHluYW1pY3NDb21wcmVzc29yIiwidGhyZXNob2xkIiwia25lZSIsInJhdGlvIiwiYXR0YWNrIiwicmVsZWFzZSIsImNvbm5lY3QiLCJzb3VuZFNvdXJjZURlc3RpbmF0aW9uIiwiXyIsInRpbWVzIiwiY3JlYXRlT3NjaWxsYXRvciIsInR5cGUiLCJzdGFydCIsImNyZWF0ZUdhaW4iLCJwdXNoIiwicmVnaXN0ZXIiXSwibWFwcGluZ3MiOiJBQUFBLHNEQUFzRDtBQUV0RDs7Ozs7Q0FLQyxHQUVELE9BQU9BLFdBQVcsMkJBQTJCO0FBQzdDLE9BQU9DLGVBQWUscUNBQXFDO0FBQzNELE9BQU9DLFdBQVcsY0FBYztBQUNoQyxPQUFPQyxvQkFBK0Msc0JBQXNCO0FBWTVFLFlBQVk7QUFDWixNQUFNQyw2QkFBNkI7QUFDbkMsTUFBTUMseUJBQXlCLE9BQU8sYUFBYTtBQUNuRCxNQUFNQyx1QkFBdUIsTUFBTSxhQUFhO0FBRWhELElBQUEsQUFBTUMsc0JBQU4sTUFBTUEsNEJBQTRCSjtJQTREaEM7Ozs7R0FJQyxHQUNELEFBQU9LLFFBQVNDLGFBQXFCLEVBQUVDLFdBQVdKLG9CQUFvQixFQUFTO1FBRTdFSyxVQUFVQSxPQUFRRixpQkFBaUIsS0FBS0EsaUJBQWlCLEdBQUc7UUFFNUQsSUFBSyxDQUFDLElBQUksQ0FBQ0csWUFBWSxFQUFHO1lBRXhCLHFCQUFxQjtZ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