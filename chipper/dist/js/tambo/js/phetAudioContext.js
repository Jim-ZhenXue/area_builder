// Copyright 2018-2022, University of Colorado Boulder
/**
 * `phetAudioContext` is a singleton instance of a Web Audio context that is used for all Web Audio interaction within
 * a sim.
 *
 * @author John Blanco
 */ import tambo from './tambo.js';
// create a Web Audio context
let phetAudioContext;
if (window.AudioContext) {
    phetAudioContext = new window.AudioContext();
} else if (window.webkitAudioContext) {
    phetAudioContext = new window.webkitAudioContext(); // eslint-disable-line new-cap
} else {
    // The browser doesn't support creating an audio context, create an empty object.  Failures will occur the first time
    // any code tries to do anything with the audio context.
    phetAudioContext = {};
    console.error('error: this browser does not support Web Audio');
}
// register for phet-io
tambo.register('phetAudioContext', phetAudioContext);
export default phetAudioContext;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3RhbWJvL2pzL3BoZXRBdWRpb0NvbnRleHQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTgtMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXG5cbi8qKlxuICogYHBoZXRBdWRpb0NvbnRleHRgIGlzIGEgc2luZ2xldG9uIGluc3RhbmNlIG9mIGEgV2ViIEF1ZGlvIGNvbnRleHQgdGhhdCBpcyB1c2VkIGZvciBhbGwgV2ViIEF1ZGlvIGludGVyYWN0aW9uIHdpdGhpblxuICogYSBzaW0uXG4gKlxuICogQGF1dGhvciBKb2huIEJsYW5jb1xuICovXG5cbmltcG9ydCBJbnRlbnRpb25hbEFueSBmcm9tICcuLi8uLi9waGV0LWNvcmUvanMvdHlwZXMvSW50ZW50aW9uYWxBbnkuanMnO1xuaW1wb3J0IHRhbWJvIGZyb20gJy4vdGFtYm8uanMnO1xuXG4vLyBjcmVhdGUgYSBXZWIgQXVkaW8gY29udGV4dFxubGV0IHBoZXRBdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dDtcbmlmICggd2luZG93LkF1ZGlvQ29udGV4dCApIHtcbiAgcGhldEF1ZGlvQ29udGV4dCA9IG5ldyB3aW5kb3cuQXVkaW9Db250ZXh0KCk7XG59XG5lbHNlIGlmICggKCB3aW5kb3cgYXMgSW50ZW50aW9uYWxBbnkgKS53ZWJraXRBdWRpb0NvbnRleHQgKSB7XG4gIHBoZXRBdWRpb0NvbnRleHQgPSBuZXcgKCAoIHdpbmRvdyBhcyBJbnRlbnRpb25hbEFueSApLndlYmtpdEF1ZGlvQ29udGV4dCApKCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbmV3LWNhcFxufVxuZWxzZSB7XG5cbiAgLy8gVGhlIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IGNyZWF0aW5nIGFuIGF1ZGlvIGNvbnRleHQsIGNyZWF0ZSBhbiBlbXB0eSBvYmplY3QuICBGYWlsdXJlcyB3aWxsIG9jY3VyIHRoZSBmaXJzdCB0aW1lXG4gIC8vIGFueSBjb2RlIHRyaWVzIHRvIGRvIGFueXRoaW5nIHdpdGggdGhlIGF1ZGlvIGNvbnRleHQuXG4gIHBoZXRBdWRpb0NvbnRleHQgPSB7fSBhcyBBdWRpb0NvbnRleHQ7XG4gIGNvbnNvbGUuZXJyb3IoICdlcnJvcjogdGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgV2ViIEF1ZGlvJyApO1xufVxuXG4vLyByZWdpc3RlciBmb3IgcGhldC1pb1xudGFtYm8ucmVnaXN0ZXIoICdwaGV0QXVkaW9Db250ZXh0JywgcGhldEF1ZGlvQ29udGV4dCApO1xuXG5leHBvcnQgZGVmYXVsdCBwaGV0QXVkaW9Db250ZXh0OyJdLCJuYW1lcyI6WyJ0YW1ibyIsInBoZXRBdWRpb0NvbnRleHQiLCJ3aW5kb3ciLCJBdWRpb0NvbnRleHQiLCJ3ZWJraXRBdWRpb0NvbnRleHQiLCJjb25zb2xlIiwiZXJyb3IiLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6IkFBQUEsc0RBQXNEO0FBRXREOzs7OztDQUtDLEdBR0QsT0FBT0EsV0FBVyxhQUFhO0FBRS9CLDZCQUE2QjtBQUM3QixJQUFJQztBQUNKLElBQUtDLE9BQU9DLFlBQVksRUFBRztJQUN6QkYsbUJBQW1CLElBQUlDLE9BQU9DLFlBQVk7QUFDNUMsT0FDSyxJQUFLLEFBQUVELE9BQTJCRSxrQkFBa0IsRUFBRztJQUMxREgsbUJBQW1CLElBQU0sQUFBRUMsT0FBMkJFLGtCQUFrQixJQUFNLDhCQUE4QjtBQUM5RyxPQUNLO0lBRUgscUhBQXFIO0lBQ3JILHdEQUF3RDtJQUN4REgsbUJBQW1CLENBQUM7SUFDcEJJLFFBQVFDLEtBQUssQ0FBRTtBQUNqQjtBQUVBLHVCQUF1QjtBQUN2Qk4sTUFBTU8sUUFBUSxDQUFFLG9CQUFvQk47QUFFcEMsZUFBZUEsaUJBQWlCIn0=