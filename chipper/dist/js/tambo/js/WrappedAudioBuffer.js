// Copyright 2020-2022, University of Colorado Boulder
/**
 * WrappedAudioBuffer is an object that contains a Web Audio AudioBuffer and a TinyProperty that indicates whether the
 * audio buffer has been decoded.  This is *only* intended for usage during the loading process, not during run time,
 * which is why it isn't namespaced.  This is part of the mechanism in PhET sims through which sounds are imported using
 * the standard JavaScript 'import' statement.
 *
 * @author John Blanco (PhET Interactive Simulations)
 */ import TinyProperty from '../../axon/js/TinyProperty.js';
import tambo from './tambo.js';
let WrappedAudioBuffer = class WrappedAudioBuffer {
    constructor(){
        this.audioBufferProperty = new TinyProperty(null);
        // Make sure that the audio buffer is only ever set once.
        assert && this.audioBufferProperty.lazyLink((audioBuffer, previousAudioBuffer)=>{
            assert && assert(previousAudioBuffer === null && audioBuffer !== null, 'The audio buffer can only be set once');
        });
    }
};
tambo.register('WrappedAudioBuffer', WrappedAudioBuffer);
export default WrappedAudioBuffer;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3RhbWJvL2pzL1dyYXBwZWRBdWRpb0J1ZmZlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMC0yMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcblxuLyoqXG4gKiBXcmFwcGVkQXVkaW9CdWZmZXIgaXMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYSBXZWIgQXVkaW8gQXVkaW9CdWZmZXIgYW5kIGEgVGlueVByb3BlcnR5IHRoYXQgaW5kaWNhdGVzIHdoZXRoZXIgdGhlXG4gKiBhdWRpbyBidWZmZXIgaGFzIGJlZW4gZGVjb2RlZC4gIFRoaXMgaXMgKm9ubHkqIGludGVuZGVkIGZvciB1c2FnZSBkdXJpbmcgdGhlIGxvYWRpbmcgcHJvY2Vzcywgbm90IGR1cmluZyBydW4gdGltZSxcbiAqIHdoaWNoIGlzIHdoeSBpdCBpc24ndCBuYW1lc3BhY2VkLiAgVGhpcyBpcyBwYXJ0IG9mIHRoZSBtZWNoYW5pc20gaW4gUGhFVCBzaW1zIHRocm91Z2ggd2hpY2ggc291bmRzIGFyZSBpbXBvcnRlZCB1c2luZ1xuICogdGhlIHN0YW5kYXJkIEphdmFTY3JpcHQgJ2ltcG9ydCcgc3RhdGVtZW50LlxuICpcbiAqIEBhdXRob3IgSm9obiBCbGFuY28gKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXG4gKi9cblxuaW1wb3J0IFRpbnlQcm9wZXJ0eSBmcm9tICcuLi8uLi9heG9uL2pzL1RpbnlQcm9wZXJ0eS5qcyc7XG5pbXBvcnQgdGFtYm8gZnJvbSAnLi90YW1iby5qcyc7XG5cbmNsYXNzIFdyYXBwZWRBdWRpb0J1ZmZlciB7XG5cbiAgLy8gVGhpcyBUaW55UHJvcGVydHkgaXMgc2V0IHRvIG51bGwgZHVyaW5nIGNvbnN0cnVjdGlvbi4gIExhdGVyLCB3aGVuIGF1ZGlvIGRhdGEgaXMgbG9hZGVkIGFuZCBkZWNvZGVkLCB0aGUgY2xpZW50XG4gIC8vIHNob3VsZCBzZXQgdGhpcyB0byB0aGUgcmVzdWx0YW50IEF1ZGlvQnVmZmVyLiAgT25jZSB0aGlzIGlzIHNldCB0byBhbiBBdWRpb0J1ZmZlciwgaXQgc2hvdWxkIG5vdCBiZSBzZXQgYWdhaW4uXG4gIHB1YmxpYyByZWFkb25seSBhdWRpb0J1ZmZlclByb3BlcnR5OiBUaW55UHJvcGVydHk8QXVkaW9CdWZmZXIgfCBudWxsPjtcblxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG5cbiAgICB0aGlzLmF1ZGlvQnVmZmVyUHJvcGVydHkgPSBuZXcgVGlueVByb3BlcnR5PEF1ZGlvQnVmZmVyIHwgbnVsbD4oIG51bGwgKTtcblxuICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBhdWRpbyBidWZmZXIgaXMgb25seSBldmVyIHNldCBvbmNlLlxuICAgIGFzc2VydCAmJiB0aGlzLmF1ZGlvQnVmZmVyUHJvcGVydHkubGF6eUxpbmsoICggYXVkaW9CdWZmZXIsIHByZXZpb3VzQXVkaW9CdWZmZXIgKSA9PiB7XG4gICAgICBhc3NlcnQgJiYgYXNzZXJ0KCBwcmV2aW91c0F1ZGlvQnVmZmVyID09PSBudWxsICYmIGF1ZGlvQnVmZmVyICE9PSBudWxsLCAnVGhlIGF1ZGlvIGJ1ZmZlciBjYW4gb25seSBiZSBzZXQgb25jZScgKTtcbiAgICB9ICk7XG4gIH1cbn1cblxudGFtYm8ucmVnaXN0ZXIoICdXcmFwcGVkQXVkaW9CdWZmZXInLCBXcmFwcGVkQXVkaW9CdWZmZXIgKTtcbmV4cG9ydCBkZWZhdWx0IFdyYXBwZWRBdWRpb0J1ZmZlcjsiXSwibmFtZXMiOlsiVGlueVByb3BlcnR5IiwidGFtYm8iLCJXcmFwcGVkQXVkaW9CdWZmZXIiLCJhdWRpb0J1ZmZlclByb3BlcnR5IiwiYXNzZXJ0IiwibGF6eUxpbmsiLCJhdWRpb0J1ZmZlciIsInByZXZpb3VzQXVkaW9CdWZmZXIiLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6IkFBQUEsc0RBQXNEO0FBRXREOzs7Ozs7O0NBT0MsR0FFRCxPQUFPQSxrQkFBa0IsZ0NBQWdDO0FBQ3pELE9BQU9DLFdBQVcsYUFBYTtBQUUvQixJQUFBLEFBQU1DLHFCQUFOLE1BQU1BO0lBTUosYUFBcUI7UUFFbkIsSUFBSSxDQUFDQyxtQkFBbUIsR0FBRyxJQUFJSCxhQUFrQztRQUVqRSx5REFBeUQ7UUFDekRJLFVBQVUsSUFBSSxDQUFDRCxtQkFBbUIsQ0FBQ0UsUUFBUSxDQUFFLENBQUVDLGFBQWFDO1lBQzFESCxVQUFVQSxPQUFRRyx3QkFBd0IsUUFBUUQsZ0JBQWdCLE1BQU07UUFDMUU7SUFDRjtBQUNGO0FBRUFMLE1BQU1PLFFBQVEsQ0FBRSxzQkFBc0JOO0FBQ3RDLGVBQWVBLG1CQUFtQiJ9