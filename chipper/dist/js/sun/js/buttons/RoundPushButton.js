// Copyright 2014-2024, University of Colorado Boulder
/**
 * RoundPushButton is a round push button, used to initiate some action.
 *
 * @author John Blanco (PhET Interactive Simulations)
 * @author Sam Reid (PhET Interactive Simulations)
 */ import InstanceRegistry from '../../../phet-core/js/documentation/InstanceRegistry.js';
import optionize from '../../../phet-core/js/optionize.js';
import sharedSoundPlayers from '../../../tambo/js/sharedSoundPlayers.js';
import Tandem from '../../../tandem/js/Tandem.js';
import sun from '../sun.js';
import PushButtonInteractionStateProperty from './PushButtonInteractionStateProperty.js';
import PushButtonModel from './PushButtonModel.js';
import RoundButton from './RoundButton.js';
let RoundPushButton = class RoundPushButton extends RoundButton {
    dispose() {
        // The order of operations here is important - the view needs to be disposed first so that it is unhooked from
        // the model before the model is disposed.  If the model is disposed first, the view ends up trying to change some
        // of its Property values when it is disposed.  See https://github.com/phetsims/axon/issues/242.
        super.dispose();
        this.disposeRoundPushButton();
    }
    /**
   * Adds a listener that will be notified when the button fires.
   */ addListener(listener) {
        this.pushButtonModel.addListener(listener);
    }
    /**
   * Removes a listener.
   */ removeListener(listener) {
        this.pushButtonModel.removeListener(listener);
    }
    constructor(providedOptions){
        var _window_phet_chipper_queryParameters, _window_phet_chipper, _window_phet;
        const options = optionize()({
            soundPlayer: sharedSoundPlayers.get('pushButton'),
            tandem: Tandem.REQUIRED
        }, providedOptions);
        // Save the listener and add it after creating the button model. This is done so that
        // the same code path is always used for adding listener, thus guaranteeing a consistent code path if addListener is
        // overridden, see https://github.com/phetsims/sun/issues/284.
        const listener = options.listener;
        const superOptions = _.omit(options, [
            'listener'
        ]);
        // Note it shares a tandem with this, so the emitter will be instrumented as a child of the button
        //TODO https://github.com/phetsims/sun/issues/749 its surprising that we can pass superOptions with irrelevant fields to PushButtonModel without TS errors
        const pushButtonModel = new PushButtonModel(superOptions);
        super(pushButtonModel, new PushButtonInteractionStateProperty(pushButtonModel), superOptions);
        this.pushButtonModel = pushButtonModel;
        // add the listener that was potentially saved above
        listener && this.addListener(listener);
        // sound generation
        const playSound = ()=>{
            options.soundPlayer.play();
        };
        pushButtonModel.produceSoundEmitter.addListener(playSound);
        this.disposeRoundPushButton = ()=>{
            pushButtonModel.produceSoundEmitter.removeListener(playSound);
            pushButtonModel.dispose();
        };
        // support for binder documentation, stripped out in builds and only runs when ?binder is specified
        assert && ((_window_phet = window.phet) == null ? void 0 : (_window_phet_chipper = _window_phet.chipper) == null ? void 0 : (_window_phet_chipper_queryParameters = _window_phet_chipper.queryParameters) == null ? void 0 : _window_phet_chipper_queryParameters.binder) && InstanceRegistry.registerDataURL('sun', 'RoundPushButton', this);
    }
};
export { RoundPushButton as default };
sun.register('RoundPushButton', RoundPushButton);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3N1bi9qcy9idXR0b25zL1JvdW5kUHVzaEJ1dHRvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxNC0yMDI0LCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcblxuLyoqXG4gKiBSb3VuZFB1c2hCdXR0b24gaXMgYSByb3VuZCBwdXNoIGJ1dHRvbiwgdXNlZCB0byBpbml0aWF0ZSBzb21lIGFjdGlvbi5cbiAqXG4gKiBAYXV0aG9yIEpvaG4gQmxhbmNvIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxuICogQGF1dGhvciBTYW0gUmVpZCAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcbiAqL1xuXG5pbXBvcnQgSW5zdGFuY2VSZWdpc3RyeSBmcm9tICcuLi8uLi8uLi9waGV0LWNvcmUvanMvZG9jdW1lbnRhdGlvbi9JbnN0YW5jZVJlZ2lzdHJ5LmpzJztcbmltcG9ydCBvcHRpb25pemUgZnJvbSAnLi4vLi4vLi4vcGhldC1jb3JlL2pzL29wdGlvbml6ZS5qcyc7XG5pbXBvcnQgc2hhcmVkU291bmRQbGF5ZXJzIGZyb20gJy4uLy4uLy4uL3RhbWJvL2pzL3NoYXJlZFNvdW5kUGxheWVycy5qcyc7XG5pbXBvcnQgVFNvdW5kUGxheWVyIGZyb20gJy4uLy4uLy4uL3RhbWJvL2pzL1RTb3VuZFBsYXllci5qcyc7XG5pbXBvcnQgVGFuZGVtIGZyb20gJy4uLy4uLy4uL3RhbmRlbS9qcy9UYW5kZW0uanMnO1xuaW1wb3J0IHN1biBmcm9tICcuLi9zdW4uanMnO1xuaW1wb3J0IFB1c2hCdXR0b25JbnRlcmFjdGlvblN0YXRlUHJvcGVydHkgZnJvbSAnLi9QdXNoQnV0dG9uSW50ZXJhY3Rpb25TdGF0ZVByb3BlcnR5LmpzJztcbmltcG9ydCBQdXNoQnV0dG9uTW9kZWwsIHsgUHVzaEJ1dHRvbkxpc3RlbmVyLCBQdXNoQnV0dG9uTW9kZWxPcHRpb25zIH0gZnJvbSAnLi9QdXNoQnV0dG9uTW9kZWwuanMnO1xuaW1wb3J0IFJvdW5kQnV0dG9uLCB7IFJvdW5kQnV0dG9uT3B0aW9ucyB9IGZyb20gJy4vUm91bmRCdXR0b24uanMnO1xuXG50eXBlIFNlbGZPcHRpb25zID0ge1xuICBzb3VuZFBsYXllcj86IFRTb3VuZFBsYXllcjtcbn07XG5cbi8vVE9ETyBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvc3VuL2lzc3Vlcy83NDkgTGV0J3Mgbm90IGNyZWF0ZSBQdXNoQnV0dG9uTW9kZWwgd2l0aCB0aGVzZSBvcHRpb25zP1xudHlwZSBTdXBlck9wdGlvbnMgPSBSb3VuZEJ1dHRvbk9wdGlvbnMgJiBQdXNoQnV0dG9uTW9kZWxPcHRpb25zO1xuXG5leHBvcnQgdHlwZSBSb3VuZFB1c2hCdXR0b25PcHRpb25zID0gU2VsZk9wdGlvbnMgJiBTdXBlck9wdGlvbnM7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvdW5kUHVzaEJ1dHRvbiBleHRlbmRzIFJvdW5kQnV0dG9uIHtcblxuICAvLyBSb3VuZEJ1dHRvbiBoYXMgdGhpcy5idXR0b25Nb2RlbCwgYnV0IHdlIGFsc28gbmVlZCB0aGlzLnB1c2hCdXR0b25Nb2RlbCwgYmVjYXVzZSBpdCBoYXMgYWRkaXRpb25hbCBtZXRob2RzXG4gIHByb3RlY3RlZCByZWFkb25seSBwdXNoQnV0dG9uTW9kZWw6IFB1c2hCdXR0b25Nb2RlbDtcblxuICBwcml2YXRlIHJlYWRvbmx5IGRpc3Bvc2VSb3VuZFB1c2hCdXR0b246ICgpID0+IHZvaWQ7XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKCBwcm92aWRlZE9wdGlvbnM/OiBSb3VuZFB1c2hCdXR0b25PcHRpb25zICkge1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbml6ZTxSb3VuZFB1c2hCdXR0b25PcHRpb25zLCBTZWxmT3B0aW9ucywgU3VwZXJPcHRpb25zPigpKCB7XG4gICAgICBzb3VuZFBsYXllcjogc2hhcmVkU291bmRQbGF5ZXJzLmdldCggJ3B1c2hCdXR0b24nICksXG4gICAgICB0YW5kZW06IFRhbmRlbS5SRVFVSVJFRFxuICAgIH0sIHByb3ZpZGVkT3B0aW9ucyApO1xuXG4gICAgLy8gU2F2ZSB0aGUgbGlzdGVuZXIgYW5kIGFkZCBpdCBhZnRlciBjcmVhdGluZyB0aGUgYnV0dG9uIG1vZGVsLiBUaGlzIGlzIGRvbmUgc28gdGhhdFxuICAgIC8vIHRoZSBzYW1lIGNvZGUgcGF0aCBpcyBhbHdheXMgdXNlZCBmb3IgYWRkaW5nIGxpc3RlbmVyLCB0aHVzIGd1YXJhbnRlZWluZyBhIGNvbnNpc3RlbnQgY29kZSBwYXRoIGlmIGFkZExpc3RlbmVyIGlzXG4gICAgLy8gb3ZlcnJpZGRlbiwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9zdW4vaXNzdWVzLzI4NC5cbiAgICBjb25zdCBsaXN0ZW5lciA9IG9wdGlvbnMubGlzdGVuZXI7XG4gICAgY29uc3Qgc3VwZXJPcHRpb25zID0gXy5vbWl0KCBvcHRpb25zLCBbICdsaXN0ZW5lcicgXSApO1xuXG4gICAgLy8gTm90ZSBpdCBzaGFyZXMgYSB0YW5kZW0gd2l0aCB0aGlzLCBzbyB0aGUgZW1pdHRlciB3aWxsIGJlIGluc3RydW1lbnRlZCBhcyBhIGNoaWxkIG9mIHRoZSBidXR0b25cbiAgICAvL1RPRE8gaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL3N1bi9pc3N1ZXMvNzQ5IGl0cyBzdXJwcmlzaW5nIHRoYXQgd2UgY2FuIHBhc3Mgc3VwZXJPcHRpb25zIHdpdGggaXJyZWxldmFudCBmaWVsZHMgdG8gUHVzaEJ1dHRvbk1vZGVsIHdpdGhvdXQgVFMgZXJyb3JzXG4gICAgY29uc3QgcHVzaEJ1dHRvbk1vZGVsID0gbmV3IFB1c2hCdXR0b25Nb2RlbCggc3VwZXJPcHRpb25zICk7XG5cbiAgICBzdXBlciggcHVzaEJ1dHRvbk1vZGVsLCBuZXcgUHVzaEJ1dHRvbkludGVyYWN0aW9uU3RhdGVQcm9wZXJ0eSggcHVzaEJ1dHRvbk1vZGVsICksIHN1cGVyT3B0aW9ucyApO1xuXG4gICAgdGhpcy5wdXNoQnV0dG9uTW9kZWwgPSBwdXNoQnV0dG9uTW9kZWw7XG5cbiAgICAvLyBhZGQgdGhlIGxpc3RlbmVyIHRoYXQgd2FzIHBvdGVudGlhbGx5IHNhdmVkIGFib3ZlXG4gICAgbGlzdGVuZXIgJiYgdGhpcy5hZGRMaXN0ZW5lciggbGlzdGVuZXIgKTtcblxuICAgIC8vIHNvdW5kIGdlbmVyYXRpb25cbiAgICBjb25zdCBwbGF5U291bmQgPSAoKSA9PiB7IG9wdGlvbnMuc291bmRQbGF5ZXIucGxheSgpOyB9O1xuICAgIHB1c2hCdXR0b25Nb2RlbC5wcm9kdWNlU291bmRFbWl0dGVyLmFkZExpc3RlbmVyKCBwbGF5U291bmQgKTtcblxuICAgIHRoaXMuZGlzcG9zZVJvdW5kUHVzaEJ1dHRvbiA9ICgpID0+IHtcbiAgICAgIHB1c2hCdXR0b25Nb2RlbC5wcm9kdWNlU291bmRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyKCBwbGF5U291bmQgKTtcbiAgICAgIHB1c2hCdXR0b25Nb2RlbC5kaXNwb3NlKCk7XG4gICAgfTtcblxuICAgIC8vIHN1cHBvcnQgZm9yIGJpbmRlciBkb2N1bWVudGF0aW9uLCBzdHJpcHBlZCBvdXQgaW4gYnVpbGRzIGFuZCBvbmx5IHJ1bnMgd2hlbiA/YmluZGVyIGlzIHNwZWNpZmllZFxuICAgIGFzc2VydCAmJiB3aW5kb3cucGhldD8uY2hpcHBlcj8ucXVlcnlQYXJhbWV0ZXJzPy5iaW5kZXIgJiYgSW5zdGFuY2VSZWdpc3RyeS5yZWdpc3RlckRhdGFVUkwoICdzdW4nLCAnUm91bmRQdXNoQnV0dG9uJywgdGhpcyApO1xuICB9XG5cbiAgcHVibGljIG92ZXJyaWRlIGRpc3Bvc2UoKTogdm9pZCB7XG5cbiAgICAvLyBUaGUgb3JkZXIgb2Ygb3BlcmF0aW9ucyBoZXJlIGlzIGltcG9ydGFudCAtIHRoZSB2aWV3IG5lZWRzIHRvIGJlIGRpc3Bvc2VkIGZpcnN0IHNvIHRoYXQgaXQgaXMgdW5ob29rZWQgZnJvbVxuICAgIC8vIHRoZSBtb2RlbCBiZWZvcmUgdGhlIG1vZGVsIGlzIGRpc3Bvc2VkLiAgSWYgdGhlIG1vZGVsIGlzIGRpc3Bvc2VkIGZpcnN0LCB0aGUgdmlldyBlbmRzIHVwIHRyeWluZyB0byBjaGFuZ2Ugc29tZVxuICAgIC8vIG9mIGl0cyBQcm9wZXJ0eSB2YWx1ZXMgd2hlbiBpdCBpcyBkaXNwb3NlZC4gIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvYXhvbi9pc3N1ZXMvMjQyLlxuICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICB0aGlzLmRpc3Bvc2VSb3VuZFB1c2hCdXR0b24oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIG5vdGlmaWVkIHdoZW4gdGhlIGJ1dHRvbiBmaXJlcy5cbiAgICovXG4gIHB1YmxpYyBhZGRMaXN0ZW5lciggbGlzdGVuZXI6IFB1c2hCdXR0b25MaXN0ZW5lciApOiB2b2lkIHtcbiAgICB0aGlzLnB1c2hCdXR0b25Nb2RlbC5hZGRMaXN0ZW5lciggbGlzdGVuZXIgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgbGlzdGVuZXIuXG4gICAqL1xuICBwdWJsaWMgcmVtb3ZlTGlzdGVuZXIoIGxpc3RlbmVyOiBQdXNoQnV0dG9uTGlzdGVuZXIgKTogdm9pZCB7XG4gICAgdGhpcy5wdXNoQnV0dG9uTW9kZWwucmVtb3ZlTGlzdGVuZXIoIGxpc3RlbmVyICk7XG4gIH1cbn1cblxuc3VuLnJlZ2lzdGVyKCAnUm91bmRQdXNoQnV0dG9uJywgUm91bmRQdXNoQnV0dG9uICk7Il0sIm5hbWVzIjpbIkluc3RhbmNlUmVnaXN0cnkiLCJvcHRpb25pemUiLCJzaGFyZWRTb3VuZFBsYXllcnMiLCJUYW5kZW0iLCJzdW4iLCJQdXNoQnV0dG9uSW50ZXJhY3Rpb25TdGF0ZVByb3BlcnR5IiwiUHVzaEJ1dHRvbk1vZGVsIiwiUm91bmRCdXR0b24iLCJSb3VuZFB1c2hCdXR0b24iLCJkaXNwb3NlIiwiZGlzcG9zZVJvdW5kUHVzaEJ1dHRvbiIsImFkZExpc3RlbmVyIiwibGlzdGVuZXIiLCJwdXNoQnV0dG9uTW9kZWwiLCJyZW1vdmVMaXN0ZW5lciIsInByb3ZpZGVkT3B0aW9ucyIsIndpbmRvdyIsIm9wdGlvbnMiLCJzb3VuZFBsYXllciIsImdldCIsInRhbmRlbSIsIlJFUVVJUkVEIiwic3VwZXJPcHRpb25zIiwiXyIsIm9taXQiLCJwbGF5U291bmQiLCJwbGF5IiwicHJvZHVjZVNvdW5kRW1pdHRlciIsImFzc2VydCIsInBoZXQiLCJjaGlwcGVyIiwicXVlcnlQYXJhbWV0ZXJzIiwiYmluZGVyIiwicmVnaXN0ZXJEYXRhVVJMIiwicmVnaXN0ZXIiXSwibWFwcGluZ3MiOiJBQUFBLHNEQUFzRDtBQUV0RDs7Ozs7Q0FLQyxHQUVELE9BQU9BLHNCQUFzQiwwREFBMEQ7QUFDdkYsT0FBT0MsZUFBZSxxQ0FBcUM7QUFDM0QsT0FBT0Msd0JBQXdCLDBDQUEwQztBQUV6RSxPQUFPQyxZQUFZLCtCQUErQjtBQUNsRCxPQUFPQyxTQUFTLFlBQVk7QUFDNUIsT0FBT0Msd0NBQXdDLDBDQUEwQztBQUN6RixPQUFPQyxxQkFBcUUsdUJBQXVCO0FBQ25HLE9BQU9DLGlCQUF5QyxtQkFBbUI7QUFXcEQsSUFBQSxBQUFNQyxrQkFBTixNQUFNQSx3QkFBd0JEO0lBNEMzQkUsVUFBZ0I7UUFFOUIsOEdBQThHO1FBQzlHLGtIQUFrSDtRQUNsSCxnR0FBZ0c7UUFDaEcsS0FBSyxDQUFDQTtRQUNOLElBQUksQ0FBQ0Msc0JBQXNCO0lBQzdCO0lBRUE7O0dBRUMsR0FDRCxBQUFPQyxZQUFhQyxRQUE0QixFQUFTO1FBQ3ZELElBQUksQ0FBQ0MsZUFBZSxDQUFDRixXQUFXLENBQUVDO0lBQ3BDO0lBRUE7O0dBRUMsR0FDRCxBQUFPRSxlQUFnQkYsUUFBNEIsRUFBUztRQUMxRCxJQUFJLENBQUNDLGVBQWUsQ0FBQ0MsY0FBYyxDQUFFRjtJQUN2QztJQTFEQSxZQUFvQkcsZUFBd0MsQ0FBRztZQWtDbkRDLHNDQUFBQSxzQkFBQUE7UUFoQ1YsTUFBTUMsVUFBVWhCLFlBQWdFO1lBQzlFaUIsYUFBYWhCLG1CQUFtQmlCLEdBQUcsQ0FBRTtZQUNyQ0MsUUFBUWpCLE9BQU9rQixRQUFRO1FBQ3pCLEdBQUdOO1FBRUgscUZBQXFGO1FBQ3JGLG9IQUFvSDtRQUNwSCw4REFBOEQ7UUFDOUQsTUFBTUgsV0FBV0ssUUFBUUwsUUFBUTtRQUNqQyxNQUFNVSxlQUFlQyxFQUFFQyxJQUFJLENBQUVQLFNBQVM7WUFBRTtTQUFZO1FBRXBELGtHQUFrRztRQUNsRywwSkFBMEo7UUFDMUosTUFBTUosa0JBQWtCLElBQUlQLGdCQUFpQmdCO1FBRTdDLEtBQUssQ0FBRVQsaUJBQWlCLElBQUlSLG1DQUFvQ1Esa0JBQW1CUztRQUVuRixJQUFJLENBQUNULGVBQWUsR0FBR0E7UUFFdkIsb0RBQW9EO1FBQ3BERCxZQUFZLElBQUksQ0FBQ0QsV0FBVyxDQUFFQztRQUU5QixtQkFBbUI7UUFDbkIsTUFBTWEsWUFBWTtZQUFRUixRQUFRQyxXQUFXLENBQUNRLElBQUk7UUFBSTtRQUN0RGIsZ0JBQWdCYyxtQkFBbUIsQ0FBQ2hCLFdBQVcsQ0FBRWM7UUFFakQsSUFBSSxDQUFDZixzQkFBc0IsR0FBRztZQUM1QkcsZ0JBQWdCYyxtQkFBbUIsQ0FBQ2IsY0FBYyxDQUFFVztZQUNwRFosZ0JBQWdCSixPQUFPO1FBQ3pCO1FBRUEsbUdBQW1HO1FBQ25HbUIsWUFBVVosZUFBQUEsT0FBT2EsSUFBSSxzQkFBWGIsdUJBQUFBLGFBQWFjLE9BQU8sc0JBQXBCZCx1Q0FBQUEscUJBQXNCZSxlQUFlLHFCQUFyQ2YscUNBQXVDZ0IsTUFBTSxLQUFJaEMsaUJBQWlCaUMsZUFBZSxDQUFFLE9BQU8sbUJBQW1CLElBQUk7SUFDN0g7QUF3QkY7QUFsRUEsU0FBcUJ6Qiw2QkFrRXBCO0FBRURKLElBQUk4QixRQUFRLENBQUUsbUJBQW1CMUIifQ==