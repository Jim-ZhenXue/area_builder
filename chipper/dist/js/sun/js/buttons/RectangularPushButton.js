// Copyright 2014-2024, University of Colorado Boulder
/**
 * RectangularPushButton is a rectangular push button, used to initiate some action.
 *
 * @author John Blanco (PhET Interactive Simulations)
 */ import InstanceRegistry from '../../../phet-core/js/documentation/InstanceRegistry.js';
import optionize from '../../../phet-core/js/optionize.js';
import sharedSoundPlayers from '../../../tambo/js/sharedSoundPlayers.js';
import Tandem from '../../../tandem/js/Tandem.js';
import sun from '../sun.js';
import PushButtonInteractionStateProperty from './PushButtonInteractionStateProperty.js';
import PushButtonModel from './PushButtonModel.js';
import RectangularButton from './RectangularButton.js';
let RectangularPushButton = class RectangularPushButton extends RectangularButton {
    dispose() {
        // The order of operations here is important - the view needs to be disposed first so that it is unhooked from
        // the model before the model is disposed.  If the model is disposed first, the view ends up trying to change some
        // of its Property values when it is disposed.  See https://github.com/phetsims/axon/issues/242.
        super.dispose();
        this.disposeRectangularPushButton();
    }
    /**
   * Adds a listener that will be notified when the button fires.
   */ addListener(listener) {
        this.pushButtonModel.addListener(listener);
    }
    /**
   * Removes a listener.
   */ removeListener(listener) {
        this.pushButtonModel.removeListener(listener);
    }
    constructor(providedOptions){
        var _window_phet_chipper_queryParameters, _window_phet_chipper, _window_phet;
        const options = optionize()({
            soundPlayer: sharedSoundPlayers.get('pushButton'),
            tandem: Tandem.REQUIRED
        }, providedOptions);
        // Save the listener and add it after creating the button model.  This is done so that
        // the same code path is always used for adding listener, thus guaranteeing a consistent code path if addListener is
        // overridden, see https://github.com/phetsims/sun/issues/284.
        const listener = options.listener;
        const superOptions = _.omit(options, [
            'listener'
        ]);
        // Note it shares a tandem with this, so the emitter will be instrumented as a child of the button
        //TODO https://github.com/phetsims/sun/issues/749 its surprising that we can pass superOptions with irrelevant fields to PushButtonModel without TS errors
        const pushButtonModel = new PushButtonModel(superOptions);
        super(pushButtonModel, new PushButtonInteractionStateProperty(pushButtonModel), superOptions);
        this.pushButtonModel = pushButtonModel;
        // add the listener that was potentially saved above
        listener && this.addListener(listener);
        // sound generation
        const playSound = ()=>{
            options.soundPlayer.play();
        };
        pushButtonModel.produceSoundEmitter.addListener(playSound);
        this.disposeRectangularPushButton = function() {
            pushButtonModel.produceSoundEmitter.removeListener(playSound);
            pushButtonModel.dispose(); //TODO this fails when assertions are enabled, see sun#212
        };
        // support for binder documentation, stripped out in builds and only runs when ?binder is specified
        assert && ((_window_phet = window.phet) == null ? void 0 : (_window_phet_chipper = _window_phet.chipper) == null ? void 0 : (_window_phet_chipper_queryParameters = _window_phet_chipper.queryParameters) == null ? void 0 : _window_phet_chipper_queryParameters.binder) && InstanceRegistry.registerDataURL('sun', 'RectangularPushButton', this);
    }
};
export { RectangularPushButton as default };
sun.register('RectangularPushButton', RectangularPushButton);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3N1bi9qcy9idXR0b25zL1JlY3Rhbmd1bGFyUHVzaEJ1dHRvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxNC0yMDI0LCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcblxuLyoqXG4gKiBSZWN0YW5ndWxhclB1c2hCdXR0b24gaXMgYSByZWN0YW5ndWxhciBwdXNoIGJ1dHRvbiwgdXNlZCB0byBpbml0aWF0ZSBzb21lIGFjdGlvbi5cbiAqXG4gKiBAYXV0aG9yIEpvaG4gQmxhbmNvIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxuICovXG5cbmltcG9ydCBJbnN0YW5jZVJlZ2lzdHJ5IGZyb20gJy4uLy4uLy4uL3BoZXQtY29yZS9qcy9kb2N1bWVudGF0aW9uL0luc3RhbmNlUmVnaXN0cnkuanMnO1xuaW1wb3J0IG9wdGlvbml6ZSBmcm9tICcuLi8uLi8uLi9waGV0LWNvcmUvanMvb3B0aW9uaXplLmpzJztcbmltcG9ydCBzaGFyZWRTb3VuZFBsYXllcnMgZnJvbSAnLi4vLi4vLi4vdGFtYm8vanMvc2hhcmVkU291bmRQbGF5ZXJzLmpzJztcbmltcG9ydCBUU291bmRQbGF5ZXIgZnJvbSAnLi4vLi4vLi4vdGFtYm8vanMvVFNvdW5kUGxheWVyLmpzJztcbmltcG9ydCBUYW5kZW0gZnJvbSAnLi4vLi4vLi4vdGFuZGVtL2pzL1RhbmRlbS5qcyc7XG5pbXBvcnQgc3VuIGZyb20gJy4uL3N1bi5qcyc7XG5pbXBvcnQgUHVzaEJ1dHRvbkludGVyYWN0aW9uU3RhdGVQcm9wZXJ0eSBmcm9tICcuL1B1c2hCdXR0b25JbnRlcmFjdGlvblN0YXRlUHJvcGVydHkuanMnO1xuaW1wb3J0IFB1c2hCdXR0b25Nb2RlbCwgeyBQdXNoQnV0dG9uTGlzdGVuZXIsIFB1c2hCdXR0b25Nb2RlbE9wdGlvbnMgfSBmcm9tICcuL1B1c2hCdXR0b25Nb2RlbC5qcyc7XG5pbXBvcnQgUmVjdGFuZ3VsYXJCdXR0b24sIHsgUmVjdGFuZ3VsYXJCdXR0b25PcHRpb25zIH0gZnJvbSAnLi9SZWN0YW5ndWxhckJ1dHRvbi5qcyc7XG5cbnR5cGUgU2VsZk9wdGlvbnMgPSB7XG4gIHNvdW5kUGxheWVyPzogVFNvdW5kUGxheWVyO1xufTtcblxuLy9UT0RPIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9zdW4vaXNzdWVzLzc0OSBMZXQncyBub3QgY3JlYXRlIFB1c2hCdXR0b25Nb2RlbCB3aXRoIHRoZXNlIG9wdGlvbnM/XG50eXBlIFN1cGVyT3B0aW9ucyA9IFJlY3Rhbmd1bGFyQnV0dG9uT3B0aW9ucyAmIFB1c2hCdXR0b25Nb2RlbE9wdGlvbnM7XG5cbmV4cG9ydCB0eXBlIFJlY3Rhbmd1bGFyUHVzaEJ1dHRvbk9wdGlvbnMgPSBTZWxmT3B0aW9ucyAmIFN1cGVyT3B0aW9ucztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVjdGFuZ3VsYXJQdXNoQnV0dG9uIGV4dGVuZHMgUmVjdGFuZ3VsYXJCdXR0b24ge1xuXG4gIC8vIFJlY3Rhbmd1bGFyQnV0dG9uIGhhcyB0aGlzLmJ1dHRvbk1vZGVsLCBidXQgd2UgYWxzbyBuZWVkIHRoaXMucHVzaEJ1dHRvbk1vZGVsLCBiZWNhdXNlIGl0IGhhcyBhZGRpdGlvbmFsIG1ldGhvZHNcbiAgcHJvdGVjdGVkIHJlYWRvbmx5IHB1c2hCdXR0b25Nb2RlbDogUHVzaEJ1dHRvbk1vZGVsO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgZGlzcG9zZVJlY3Rhbmd1bGFyUHVzaEJ1dHRvbjogKCkgPT4gdm9pZDtcblxuICBwdWJsaWMgY29uc3RydWN0b3IoIHByb3ZpZGVkT3B0aW9ucz86IFJlY3Rhbmd1bGFyUHVzaEJ1dHRvbk9wdGlvbnMgKSB7XG5cbiAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uaXplPFJlY3Rhbmd1bGFyUHVzaEJ1dHRvbk9wdGlvbnMsIFNlbGZPcHRpb25zLCBTdXBlck9wdGlvbnM+KCkoIHtcbiAgICAgIHNvdW5kUGxheWVyOiBzaGFyZWRTb3VuZFBsYXllcnMuZ2V0KCAncHVzaEJ1dHRvbicgKSxcbiAgICAgIHRhbmRlbTogVGFuZGVtLlJFUVVJUkVEXG4gICAgfSwgcHJvdmlkZWRPcHRpb25zICk7XG5cbiAgICAvLyBTYXZlIHRoZSBsaXN0ZW5lciBhbmQgYWRkIGl0IGFmdGVyIGNyZWF0aW5nIHRoZSBidXR0b24gbW9kZWwuICBUaGlzIGlzIGRvbmUgc28gdGhhdFxuICAgIC8vIHRoZSBzYW1lIGNvZGUgcGF0aCBpcyBhbHdheXMgdXNlZCBmb3IgYWRkaW5nIGxpc3RlbmVyLCB0aHVzIGd1YXJhbnRlZWluZyBhIGNvbnNpc3RlbnQgY29kZSBwYXRoIGlmIGFkZExpc3RlbmVyIGlzXG4gICAgLy8gb3ZlcnJpZGRlbiwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9zdW4vaXNzdWVzLzI4NC5cbiAgICBjb25zdCBsaXN0ZW5lciA9IG9wdGlvbnMubGlzdGVuZXI7XG4gICAgY29uc3Qgc3VwZXJPcHRpb25zID0gXy5vbWl0KCBvcHRpb25zLCBbICdsaXN0ZW5lcicgXSApO1xuXG4gICAgLy8gTm90ZSBpdCBzaGFyZXMgYSB0YW5kZW0gd2l0aCB0aGlzLCBzbyB0aGUgZW1pdHRlciB3aWxsIGJlIGluc3RydW1lbnRlZCBhcyBhIGNoaWxkIG9mIHRoZSBidXR0b25cbiAgICAvL1RPRE8gaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL3N1bi9pc3N1ZXMvNzQ5IGl0cyBzdXJwcmlzaW5nIHRoYXQgd2UgY2FuIHBhc3Mgc3VwZXJPcHRpb25zIHdpdGggaXJyZWxldmFudCBmaWVsZHMgdG8gUHVzaEJ1dHRvbk1vZGVsIHdpdGhvdXQgVFMgZXJyb3JzXG4gICAgY29uc3QgcHVzaEJ1dHRvbk1vZGVsID0gbmV3IFB1c2hCdXR0b25Nb2RlbCggc3VwZXJPcHRpb25zICk7XG5cbiAgICBzdXBlciggcHVzaEJ1dHRvbk1vZGVsLCBuZXcgUHVzaEJ1dHRvbkludGVyYWN0aW9uU3RhdGVQcm9wZXJ0eSggcHVzaEJ1dHRvbk1vZGVsICksIHN1cGVyT3B0aW9ucyApO1xuXG4gICAgdGhpcy5wdXNoQnV0dG9uTW9kZWwgPSBwdXNoQnV0dG9uTW9kZWw7XG5cbiAgICAvLyBhZGQgdGhlIGxpc3RlbmVyIHRoYXQgd2FzIHBvdGVudGlhbGx5IHNhdmVkIGFib3ZlXG4gICAgbGlzdGVuZXIgJiYgdGhpcy5hZGRMaXN0ZW5lciggbGlzdGVuZXIgKTtcblxuICAgIC8vIHNvdW5kIGdlbmVyYXRpb25cbiAgICBjb25zdCBwbGF5U291bmQgPSAoKSA9PiB7IG9wdGlvbnMuc291bmRQbGF5ZXIucGxheSgpOyB9O1xuICAgIHB1c2hCdXR0b25Nb2RlbC5wcm9kdWNlU291bmRFbWl0dGVyLmFkZExpc3RlbmVyKCBwbGF5U291bmQgKTtcblxuICAgIHRoaXMuZGlzcG9zZVJlY3Rhbmd1bGFyUHVzaEJ1dHRvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcHVzaEJ1dHRvbk1vZGVsLnByb2R1Y2VTb3VuZEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoIHBsYXlTb3VuZCApO1xuICAgICAgcHVzaEJ1dHRvbk1vZGVsLmRpc3Bvc2UoKTsgLy9UT0RPIHRoaXMgZmFpbHMgd2hlbiBhc3NlcnRpb25zIGFyZSBlbmFibGVkLCBzZWUgc3VuIzIxMlxuICAgIH07XG5cbiAgICAvLyBzdXBwb3J0IGZvciBiaW5kZXIgZG9jdW1lbnRhdGlvbiwgc3RyaXBwZWQgb3V0IGluIGJ1aWxkcyBhbmQgb25seSBydW5zIHdoZW4gP2JpbmRlciBpcyBzcGVjaWZpZWRcbiAgICBhc3NlcnQgJiYgd2luZG93LnBoZXQ/LmNoaXBwZXI/LnF1ZXJ5UGFyYW1ldGVycz8uYmluZGVyICYmIEluc3RhbmNlUmVnaXN0cnkucmVnaXN0ZXJEYXRhVVJMKCAnc3VuJywgJ1JlY3Rhbmd1bGFyUHVzaEJ1dHRvbicsIHRoaXMgKTtcbiAgfVxuXG4gIHB1YmxpYyBvdmVycmlkZSBkaXNwb3NlKCk6IHZvaWQge1xuXG4gICAgLy8gVGhlIG9yZGVyIG9mIG9wZXJhdGlvbnMgaGVyZSBpcyBpbXBvcnRhbnQgLSB0aGUgdmlldyBuZWVkcyB0byBiZSBkaXNwb3NlZCBmaXJzdCBzbyB0aGF0IGl0IGlzIHVuaG9va2VkIGZyb21cbiAgICAvLyB0aGUgbW9kZWwgYmVmb3JlIHRoZSBtb2RlbCBpcyBkaXNwb3NlZC4gIElmIHRoZSBtb2RlbCBpcyBkaXNwb3NlZCBmaXJzdCwgdGhlIHZpZXcgZW5kcyB1cCB0cnlpbmcgdG8gY2hhbmdlIHNvbWVcbiAgICAvLyBvZiBpdHMgUHJvcGVydHkgdmFsdWVzIHdoZW4gaXQgaXMgZGlzcG9zZWQuICBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL2F4b24vaXNzdWVzLzI0Mi5cbiAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgdGhpcy5kaXNwb3NlUmVjdGFuZ3VsYXJQdXNoQnV0dG9uKCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBub3RpZmllZCB3aGVuIHRoZSBidXR0b24gZmlyZXMuXG4gICAqL1xuICBwdWJsaWMgYWRkTGlzdGVuZXIoIGxpc3RlbmVyOiBQdXNoQnV0dG9uTGlzdGVuZXIgKTogdm9pZCB7XG4gICAgdGhpcy5wdXNoQnV0dG9uTW9kZWwuYWRkTGlzdGVuZXIoIGxpc3RlbmVyICk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhIGxpc3RlbmVyLlxuICAgKi9cbiAgcHVibGljIHJlbW92ZUxpc3RlbmVyKCBsaXN0ZW5lcjogUHVzaEJ1dHRvbkxpc3RlbmVyICk6IHZvaWQge1xuICAgIHRoaXMucHVzaEJ1dHRvbk1vZGVsLnJlbW92ZUxpc3RlbmVyKCBsaXN0ZW5lciApO1xuICB9XG59XG5cbnN1bi5yZWdpc3RlciggJ1JlY3Rhbmd1bGFyUHVzaEJ1dHRvbicsIFJlY3Rhbmd1bGFyUHVzaEJ1dHRvbiApOyJdLCJuYW1lcyI6WyJJbnN0YW5jZVJlZ2lzdHJ5Iiwib3B0aW9uaXplIiwic2hhcmVkU291bmRQbGF5ZXJzIiwiVGFuZGVtIiwic3VuIiwiUHVzaEJ1dHRvbkludGVyYWN0aW9uU3RhdGVQcm9wZXJ0eSIsIlB1c2hCdXR0b25Nb2RlbCIsIlJlY3Rhbmd1bGFyQnV0dG9uIiwiUmVjdGFuZ3VsYXJQdXNoQnV0dG9uIiwiZGlzcG9zZSIsImRpc3Bvc2VSZWN0YW5ndWxhclB1c2hCdXR0b24iLCJhZGRMaXN0ZW5lciIsImxpc3RlbmVyIiwicHVzaEJ1dHRvbk1vZGVsIiwicmVtb3ZlTGlzdGVuZXIiLCJwcm92aWRlZE9wdGlvbnMiLCJ3aW5kb3ciLCJvcHRpb25zIiwic291bmRQbGF5ZXIiLCJnZXQiLCJ0YW5kZW0iLCJSRVFVSVJFRCIsInN1cGVyT3B0aW9ucyIsIl8iLCJvbWl0IiwicGxheVNvdW5kIiwicGxheSIsInByb2R1Y2VTb3VuZEVtaXR0ZXIiLCJhc3NlcnQiLCJwaGV0IiwiY2hpcHBlciIsInF1ZXJ5UGFyYW1ldGVycyIsImJpbmRlciIsInJlZ2lzdGVyRGF0YVVSTCIsInJlZ2lzdGVyIl0sIm1hcHBpbmdzIjoiQUFBQSxzREFBc0Q7QUFFdEQ7Ozs7Q0FJQyxHQUVELE9BQU9BLHNCQUFzQiwwREFBMEQ7QUFDdkYsT0FBT0MsZUFBZSxxQ0FBcUM7QUFDM0QsT0FBT0Msd0JBQXdCLDBDQUEwQztBQUV6RSxPQUFPQyxZQUFZLCtCQUErQjtBQUNsRCxPQUFPQyxTQUFTLFlBQVk7QUFDNUIsT0FBT0Msd0NBQXdDLDBDQUEwQztBQUN6RixPQUFPQyxxQkFBcUUsdUJBQXVCO0FBQ25HLE9BQU9DLHVCQUFxRCx5QkFBeUI7QUFXdEUsSUFBQSxBQUFNQyx3QkFBTixNQUFNQSw4QkFBOEJEO0lBNENqQ0UsVUFBZ0I7UUFFOUIsOEdBQThHO1FBQzlHLGtIQUFrSDtRQUNsSCxnR0FBZ0c7UUFDaEcsS0FBSyxDQUFDQTtRQUNOLElBQUksQ0FBQ0MsNEJBQTRCO0lBQ25DO0lBRUE7O0dBRUMsR0FDRCxBQUFPQyxZQUFhQyxRQUE0QixFQUFTO1FBQ3ZELElBQUksQ0FBQ0MsZUFBZSxDQUFDRixXQUFXLENBQUVDO0lBQ3BDO0lBRUE7O0dBRUMsR0FDRCxBQUFPRSxlQUFnQkYsUUFBNEIsRUFBUztRQUMxRCxJQUFJLENBQUNDLGVBQWUsQ0FBQ0MsY0FBYyxDQUFFRjtJQUN2QztJQTFEQSxZQUFvQkcsZUFBOEMsQ0FBRztZQWtDekRDLHNDQUFBQSxzQkFBQUE7UUFoQ1YsTUFBTUMsVUFBVWhCLFlBQXNFO1lBQ3BGaUIsYUFBYWhCLG1CQUFtQmlCLEdBQUcsQ0FBRTtZQUNyQ0MsUUFBUWpCLE9BQU9rQixRQUFRO1FBQ3pCLEdBQUdOO1FBRUgsc0ZBQXNGO1FBQ3RGLG9IQUFvSDtRQUNwSCw4REFBOEQ7UUFDOUQsTUFBTUgsV0FBV0ssUUFBUUwsUUFBUTtRQUNqQyxNQUFNVSxlQUFlQyxFQUFFQyxJQUFJLENBQUVQLFNBQVM7WUFBRTtTQUFZO1FBRXBELGtHQUFrRztRQUNsRywwSkFBMEo7UUFDMUosTUFBTUosa0JBQWtCLElBQUlQLGdCQUFpQmdCO1FBRTdDLEtBQUssQ0FBRVQsaUJBQWlCLElBQUlSLG1DQUFvQ1Esa0JBQW1CUztRQUVuRixJQUFJLENBQUNULGVBQWUsR0FBR0E7UUFFdkIsb0RBQW9EO1FBQ3BERCxZQUFZLElBQUksQ0FBQ0QsV0FBVyxDQUFFQztRQUU5QixtQkFBbUI7UUFDbkIsTUFBTWEsWUFBWTtZQUFRUixRQUFRQyxXQUFXLENBQUNRLElBQUk7UUFBSTtRQUN0RGIsZ0JBQWdCYyxtQkFBbUIsQ0FBQ2hCLFdBQVcsQ0FBRWM7UUFFakQsSUFBSSxDQUFDZiw0QkFBNEIsR0FBRztZQUNsQ0csZ0JBQWdCYyxtQkFBbUIsQ0FBQ2IsY0FBYyxDQUFFVztZQUNwRFosZ0JBQWdCSixPQUFPLElBQUksMERBQTBEO1FBQ3ZGO1FBRUEsbUdBQW1HO1FBQ25HbUIsWUFBVVosZUFBQUEsT0FBT2EsSUFBSSxzQkFBWGIsdUJBQUFBLGFBQWFjLE9BQU8sc0JBQXBCZCx1Q0FBQUEscUJBQXNCZSxlQUFlLHFCQUFyQ2YscUNBQXVDZ0IsTUFBTSxLQUFJaEMsaUJBQWlCaUMsZUFBZSxDQUFFLE9BQU8seUJBQXlCLElBQUk7SUFDbkk7QUF3QkY7QUFsRUEsU0FBcUJ6QixtQ0FrRXBCO0FBRURKLElBQUk4QixRQUFRLENBQUUseUJBQXlCMUIifQ==