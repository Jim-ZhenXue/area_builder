// Copyright 2024, University of Colorado Boulder
/**
 * WARNING: This will commit/push the changes. Those changes likely be propagated immediately to the website and rosetta.
 *
 * NOTE: Run with CWD of chipper/js/data
 *
 * @author Matt Pennington (PhET Interactive Simulations)
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */ function _extends() {
    _extends = Object.assign || function(target) {
        for(var i = 1; i < arguments.length; i++){
            var source = arguments[i];
            for(var key in source){
                if (Object.prototype.hasOwnProperty.call(source, key)) {
                    target[key] = source[key];
                }
            }
        }
        return target;
    };
    return _extends.apply(this, arguments);
}
import child_process from 'child_process';
import fs from 'fs';
/**
 * Converts locale data from babel/localeData.json into legacy formats used by rosetta and the website.
 *
 * Overall description of the localeData system:
 *
 * - babel/localeData.json - Ground truth, includes the "new" format with locale3 and englishName instead of name
 * - chipper/js/data/localeInfo.js - CommonJS legacy module
 * - chipper/js/data/localeInfo.json - JSON legacy
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */ // Load our ground source of truth
const localeData = JSON.parse(fs.readFileSync('../../../babel/localeData.json', 'utf8'));
// Construct the concise JS that defines the legacy locale-info format
let localeInfoSnippet = '{';
// eslint-disable-next-line phet/bad-text
const badText = 'Slave'; // There is an englishName that contains this word, see https://en.wikipedia.org/?title=Slave_language_(Athapascan)&redirect=no
// Add properties for all locales
for (const locale of Object.keys(localeData)){
    localeInfoSnippet += `
  ${locale}: {
    ${localeData[locale].englishName.includes(badText) ? '// eslint-disable-next-line phet/bad-text\n    ' : ''}name: '${localeData[locale].englishName.replace(/'/g, '\\\'')}',
    localizedName: '${localeData[locale].localizedName.replace(/'/g, '\\\'')}',
    direction: '${localeData[locale].direction}'
  },`;
}
// Remove the trailing comma
localeInfoSnippet = localeInfoSnippet.slice(0, -1);
// Close the object
localeInfoSnippet += '\n}';
const localeInfo = {};
for (const locale of Object.keys(localeData)){
    localeInfo[locale] = {
        name: localeData[locale].englishName,
        localizedName: localeData[locale].localizedName,
        direction: localeData[locale].direction
    };
}
const newLocaleInfo = _extends({
    _comment: 'This file is automatically generated by js/data/updateLocaleInfo.js. Do not modify it directly.'
}, localeInfo // eslint-disable-line phet/no-object-spread-on-non-literals
);
fs.writeFileSync('../../data/localeInfo.json', JSON.stringify(newLocaleInfo, null, 2));
const commonDocumentation = `// Copyright 2015-${new Date().getFullYear()}, University of Colorado Boulder

/**
  * This file is automatically generated by js/data/updateLocaleInfo.js. Do not modify it directly.
  *
  * @author automatically generated by updateLocaleInfo.js
  */

`;
const newCommonJSSouceCode = `${commonDocumentation}module.exports = ${localeInfoSnippet};`;
fs.writeFileSync('./localeInfo.js', newCommonJSSouceCode);
console.log('locale info files updated');
let needsCommit = false;
try {
    // 0 exit code if there are no working copy changes from HEAD.
    child_process.execSync('git diff-index --quiet HEAD --');
    console.log('No locale info changes, no commit needed.');
} catch (e) {
    needsCommit = true;
}
if (needsCommit) {
    try {
        console.log('pulling');
        // Some devs have rebase set by default, and you cannot rebase-pull with working copy changes.
        child_process.execSync('git pull --no-rebase');
        child_process.execSync('git add ../../data/localeInfo.json');
        child_process.execSync('git add ./localeInfo.js');
        if (needsCommit) {
            console.log('committing');
            child_process.execSync('git commit --no-verify ../../data/localeInfo.json ./localeInfo.js -m "Automatically updated generated localeInfo files"');
            console.log('pushing');
            child_process.execSync('git push');
        }
    } catch (e) {
        console.error('Unable to update files in git.', e);
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL2pzL2RhdGEvdXBkYXRlTG9jYWxlSW5mby50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyNCwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXG5cbi8qKlxuICogV0FSTklORzogVGhpcyB3aWxsIGNvbW1pdC9wdXNoIHRoZSBjaGFuZ2VzLiBUaG9zZSBjaGFuZ2VzIGxpa2VseSBiZSBwcm9wYWdhdGVkIGltbWVkaWF0ZWx5IHRvIHRoZSB3ZWJzaXRlIGFuZCByb3NldHRhLlxuICpcbiAqIE5PVEU6IFJ1biB3aXRoIENXRCBvZiBjaGlwcGVyL2pzL2RhdGFcbiAqXG4gKiBAYXV0aG9yIE1hdHQgUGVubmluZ3RvbiAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcbiAqIEBhdXRob3IgSm9uYXRoYW4gT2xzb24gPGpvbmF0aGFuLm9sc29uQGNvbG9yYWRvLmVkdT5cbiAqL1xuXG5pbXBvcnQgY2hpbGRfcHJvY2VzcyBmcm9tICdjaGlsZF9wcm9jZXNzJztcbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgeyBMb2NhbGVEYXRhIH0gZnJvbSAnLi4vZ3J1bnQvZ2V0U3RyaW5nTWFwLmpzJztcblxuLyoqXG4gKiBDb252ZXJ0cyBsb2NhbGUgZGF0YSBmcm9tIGJhYmVsL2xvY2FsZURhdGEuanNvbiBpbnRvIGxlZ2FjeSBmb3JtYXRzIHVzZWQgYnkgcm9zZXR0YSBhbmQgdGhlIHdlYnNpdGUuXG4gKlxuICogT3ZlcmFsbCBkZXNjcmlwdGlvbiBvZiB0aGUgbG9jYWxlRGF0YSBzeXN0ZW06XG4gKlxuICogLSBiYWJlbC9sb2NhbGVEYXRhLmpzb24gLSBHcm91bmQgdHJ1dGgsIGluY2x1ZGVzIHRoZSBcIm5ld1wiIGZvcm1hdCB3aXRoIGxvY2FsZTMgYW5kIGVuZ2xpc2hOYW1lIGluc3RlYWQgb2YgbmFtZVxuICogLSBjaGlwcGVyL2pzL2RhdGEvbG9jYWxlSW5mby5qcyAtIENvbW1vbkpTIGxlZ2FjeSBtb2R1bGVcbiAqIC0gY2hpcHBlci9qcy9kYXRhL2xvY2FsZUluZm8uanNvbiAtIEpTT04gbGVnYWN5XG4gKlxuICogQGF1dGhvciBKb25hdGhhbiBPbHNvbiA8am9uYXRoYW4ub2xzb25AY29sb3JhZG8uZWR1PlxuICovXG5cbi8vIExvYWQgb3VyIGdyb3VuZCBzb3VyY2Ugb2YgdHJ1dGhcbmNvbnN0IGxvY2FsZURhdGE6IExvY2FsZURhdGEgPSBKU09OLnBhcnNlKCBmcy5yZWFkRmlsZVN5bmMoICcuLi8uLi8uLi9iYWJlbC9sb2NhbGVEYXRhLmpzb24nLCAndXRmOCcgKSApO1xuXG4vLyBDb25zdHJ1Y3QgdGhlIGNvbmNpc2UgSlMgdGhhdCBkZWZpbmVzIHRoZSBsZWdhY3kgbG9jYWxlLWluZm8gZm9ybWF0XG5sZXQgbG9jYWxlSW5mb1NuaXBwZXQgPSAneyc7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcGhldC9iYWQtdGV4dFxuY29uc3QgYmFkVGV4dCA9ICdTbGF2ZSc7IC8vIFRoZXJlIGlzIGFuIGVuZ2xpc2hOYW1lIHRoYXQgY29udGFpbnMgdGhpcyB3b3JkLCBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnLz90aXRsZT1TbGF2ZV9sYW5ndWFnZV8oQXRoYXBhc2NhbikmcmVkaXJlY3Q9bm9cbi8vIEFkZCBwcm9wZXJ0aWVzIGZvciBhbGwgbG9jYWxlc1xuZm9yICggY29uc3QgbG9jYWxlIG9mIE9iamVjdC5rZXlzKCBsb2NhbGVEYXRhICkgKSB7XG4gIGxvY2FsZUluZm9TbmlwcGV0ICs9IGBcbiAgJHtsb2NhbGV9OiB7XG4gICAgJHtsb2NhbGVEYXRhWyBsb2NhbGUgXS5lbmdsaXNoTmFtZS5pbmNsdWRlcyggYmFkVGV4dCApID8gJy8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwaGV0L2JhZC10ZXh0XFxuICAgICcgOiAnJ31uYW1lOiAnJHtsb2NhbGVEYXRhWyBsb2NhbGUgXS5lbmdsaXNoTmFtZS5yZXBsYWNlKCAvJy9nLCAnXFxcXFxcJycgKX0nLFxuICAgIGxvY2FsaXplZE5hbWU6ICcke2xvY2FsZURhdGFbIGxvY2FsZSBdLmxvY2FsaXplZE5hbWUucmVwbGFjZSggLycvZywgJ1xcXFxcXCcnICl9JyxcbiAgICBkaXJlY3Rpb246ICcke2xvY2FsZURhdGFbIGxvY2FsZSBdLmRpcmVjdGlvbn0nXG4gIH0sYDtcbn1cbi8vIFJlbW92ZSB0aGUgdHJhaWxpbmcgY29tbWFcbmxvY2FsZUluZm9TbmlwcGV0ID0gbG9jYWxlSW5mb1NuaXBwZXQuc2xpY2UoIDAsIC0xICk7XG4vLyBDbG9zZSB0aGUgb2JqZWN0XG5sb2NhbGVJbmZvU25pcHBldCArPSAnXFxufSc7XG50eXBlIExvY2FsZUluZm9PYmplY3QgPSB7XG4gIG5hbWU6IHN0cmluZztcbiAgbG9jYWxpemVkTmFtZTogc3RyaW5nO1xuICBkaXJlY3Rpb246IHN0cmluZztcbn07XG5cbmNvbnN0IGxvY2FsZUluZm86IFJlY29yZDxzdHJpbmcsIExvY2FsZUluZm9PYmplY3Q+ID0ge307XG5mb3IgKCBjb25zdCBsb2NhbGUgb2YgT2JqZWN0LmtleXMoIGxvY2FsZURhdGEgKSApIHtcblxuICBsb2NhbGVJbmZvWyBsb2NhbGUgXSA9IHtcbiAgICBuYW1lOiBsb2NhbGVEYXRhWyBsb2NhbGUgXS5lbmdsaXNoTmFtZSxcbiAgICBsb2NhbGl6ZWROYW1lOiBsb2NhbGVEYXRhWyBsb2NhbGUgXS5sb2NhbGl6ZWROYW1lLFxuICAgIGRpcmVjdGlvbjogbG9jYWxlRGF0YVsgbG9jYWxlIF0uZGlyZWN0aW9uXG4gIH07XG59XG5cbmNvbnN0IG5ld0xvY2FsZUluZm8gPSB7XG4gIF9jb21tZW50OiAnVGhpcyBmaWxlIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IGpzL2RhdGEvdXBkYXRlTG9jYWxlSW5mby5qcy4gRG8gbm90IG1vZGlmeSBpdCBkaXJlY3RseS4nLFxuICAuLi5sb2NhbGVJbmZvIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcGhldC9uby1vYmplY3Qtc3ByZWFkLW9uLW5vbi1saXRlcmFsc1xufTtcblxuZnMud3JpdGVGaWxlU3luYyggJy4uLy4uL2RhdGEvbG9jYWxlSW5mby5qc29uJywgSlNPTi5zdHJpbmdpZnkoIG5ld0xvY2FsZUluZm8sIG51bGwsIDIgKSApO1xuXG5jb25zdCBjb21tb25Eb2N1bWVudGF0aW9uID0gYC8vIENvcHlyaWdodCAyMDE1LSR7bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpfSwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXG5cbi8qKlxuICAqIFRoaXMgZmlsZSBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBqcy9kYXRhL3VwZGF0ZUxvY2FsZUluZm8uanMuIERvIG5vdCBtb2RpZnkgaXQgZGlyZWN0bHkuXG4gICpcbiAgKiBAYXV0aG9yIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IHVwZGF0ZUxvY2FsZUluZm8uanNcbiAgKi9cblxuYDtcblxuY29uc3QgbmV3Q29tbW9uSlNTb3VjZUNvZGUgPSBgJHtjb21tb25Eb2N1bWVudGF0aW9ufW1vZHVsZS5leHBvcnRzID0gJHtsb2NhbGVJbmZvU25pcHBldH07YDtcbmZzLndyaXRlRmlsZVN5bmMoICcuL2xvY2FsZUluZm8uanMnLCBuZXdDb21tb25KU1NvdWNlQ29kZSApO1xuXG5jb25zb2xlLmxvZyggJ2xvY2FsZSBpbmZvIGZpbGVzIHVwZGF0ZWQnICk7XG5cbmxldCBuZWVkc0NvbW1pdCA9IGZhbHNlO1xudHJ5IHtcblxuICAvLyAwIGV4aXQgY29kZSBpZiB0aGVyZSBhcmUgbm8gd29ya2luZyBjb3B5IGNoYW5nZXMgZnJvbSBIRUFELlxuICBjaGlsZF9wcm9jZXNzLmV4ZWNTeW5jKCAnZ2l0IGRpZmYtaW5kZXggLS1xdWlldCBIRUFEIC0tJyApO1xuICBjb25zb2xlLmxvZyggJ05vIGxvY2FsZSBpbmZvIGNoYW5nZXMsIG5vIGNvbW1pdCBuZWVkZWQuJyApO1xufVxuY2F0Y2goIGUgKSB7XG4gIG5lZWRzQ29tbWl0ID0gdHJ1ZTtcbn1cblxuaWYgKCBuZWVkc0NvbW1pdCApIHtcbiAgdHJ5IHtcblxuICAgIGNvbnNvbGUubG9nKCAncHVsbGluZycgKTtcblxuICAgIC8vIFNvbWUgZGV2cyBoYXZlIHJlYmFzZSBzZXQgYnkgZGVmYXVsdCwgYW5kIHlvdSBjYW5ub3QgcmViYXNlLXB1bGwgd2l0aCB3b3JraW5nIGNvcHkgY2hhbmdlcy5cbiAgICBjaGlsZF9wcm9jZXNzLmV4ZWNTeW5jKCAnZ2l0IHB1bGwgLS1uby1yZWJhc2UnICk7XG5cbiAgICBjaGlsZF9wcm9jZXNzLmV4ZWNTeW5jKCAnZ2l0IGFkZCAuLi8uLi9kYXRhL2xvY2FsZUluZm8uanNvbicgKTtcbiAgICBjaGlsZF9wcm9jZXNzLmV4ZWNTeW5jKCAnZ2l0IGFkZCAuL2xvY2FsZUluZm8uanMnICk7XG5cbiAgICBpZiAoIG5lZWRzQ29tbWl0ICkge1xuICAgICAgY29uc29sZS5sb2coICdjb21taXR0aW5nJyApO1xuICAgICAgY2hpbGRfcHJvY2Vzcy5leGVjU3luYyggJ2dpdCBjb21taXQgLS1uby12ZXJpZnkgLi4vLi4vZGF0YS9sb2NhbGVJbmZvLmpzb24gLi9sb2NhbGVJbmZvLmpzIC1tIFwiQXV0b21hdGljYWxseSB1cGRhdGVkIGdlbmVyYXRlZCBsb2NhbGVJbmZvIGZpbGVzXCInICk7XG4gICAgICBjb25zb2xlLmxvZyggJ3B1c2hpbmcnICk7XG4gICAgICBjaGlsZF9wcm9jZXNzLmV4ZWNTeW5jKCAnZ2l0IHB1c2gnICk7XG4gICAgfVxuICB9XG4gIGNhdGNoKCBlICkge1xuICAgIGNvbnNvbGUuZXJyb3IoICdVbmFibGUgdG8gdXBkYXRlIGZpbGVzIGluIGdpdC4nLCBlICk7XG4gIH1cbn0iXSwibmFtZXMiOlsiY2hpbGRfcHJvY2VzcyIsImZzIiwibG9jYWxlRGF0YSIsIkpTT04iLCJwYXJzZSIsInJlYWRGaWxlU3luYyIsImxvY2FsZUluZm9TbmlwcGV0IiwiYmFkVGV4dCIsImxvY2FsZSIsIk9iamVjdCIsImtleXMiLCJlbmdsaXNoTmFtZSIsImluY2x1ZGVzIiwicmVwbGFjZSIsImxvY2FsaXplZE5hbWUiLCJkaXJlY3Rpb24iLCJzbGljZSIsImxvY2FsZUluZm8iLCJuYW1lIiwibmV3TG9jYWxlSW5mbyIsIl9jb21tZW50Iiwid3JpdGVGaWxlU3luYyIsInN0cmluZ2lmeSIsImNvbW1vbkRvY3VtZW50YXRpb24iLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJuZXdDb21tb25KU1NvdWNlQ29kZSIsImNvbnNvbGUiLCJsb2ciLCJuZWVkc0NvbW1pdCIsImV4ZWNTeW5jIiwiZSIsImVycm9yIl0sIm1hcHBpbmdzIjoiQUFBQSxpREFBaUQ7QUFFakQ7Ozs7Ozs7Q0FPQzs7Ozs7Ozs7Ozs7Ozs7QUFFRCxPQUFPQSxtQkFBbUIsZ0JBQWdCO0FBQzFDLE9BQU9DLFFBQVEsS0FBSztBQUdwQjs7Ozs7Ozs7OztDQVVDLEdBRUQsa0NBQWtDO0FBQ2xDLE1BQU1DLGFBQXlCQyxLQUFLQyxLQUFLLENBQUVILEdBQUdJLFlBQVksQ0FBRSxrQ0FBa0M7QUFFOUYsc0VBQXNFO0FBQ3RFLElBQUlDLG9CQUFvQjtBQUN4Qix5Q0FBeUM7QUFDekMsTUFBTUMsVUFBVSxTQUFTLCtIQUErSDtBQUN4SixpQ0FBaUM7QUFDakMsS0FBTSxNQUFNQyxVQUFVQyxPQUFPQyxJQUFJLENBQUVSLFlBQWU7SUFDaERJLHFCQUFxQixDQUFDO0VBQ3RCLEVBQUVFLE9BQU87SUFDUCxFQUFFTixVQUFVLENBQUVNLE9BQVEsQ0FBQ0csV0FBVyxDQUFDQyxRQUFRLENBQUVMLFdBQVksb0RBQW9ELEdBQUcsT0FBTyxFQUFFTCxVQUFVLENBQUVNLE9BQVEsQ0FBQ0csV0FBVyxDQUFDRSxPQUFPLENBQUUsTUFBTSxRQUFTO29CQUNsSyxFQUFFWCxVQUFVLENBQUVNLE9BQVEsQ0FBQ00sYUFBYSxDQUFDRCxPQUFPLENBQUUsTUFBTSxRQUFTO2dCQUNqRSxFQUFFWCxVQUFVLENBQUVNLE9BQVEsQ0FBQ08sU0FBUyxDQUFDO0lBQzdDLENBQUM7QUFDTDtBQUNBLDRCQUE0QjtBQUM1QlQsb0JBQW9CQSxrQkFBa0JVLEtBQUssQ0FBRSxHQUFHLENBQUM7QUFDakQsbUJBQW1CO0FBQ25CVixxQkFBcUI7QUFPckIsTUFBTVcsYUFBK0MsQ0FBQztBQUN0RCxLQUFNLE1BQU1ULFVBQVVDLE9BQU9DLElBQUksQ0FBRVIsWUFBZTtJQUVoRGUsVUFBVSxDQUFFVCxPQUFRLEdBQUc7UUFDckJVLE1BQU1oQixVQUFVLENBQUVNLE9BQVEsQ0FBQ0csV0FBVztRQUN0Q0csZUFBZVosVUFBVSxDQUFFTSxPQUFRLENBQUNNLGFBQWE7UUFDakRDLFdBQVdiLFVBQVUsQ0FBRU0sT0FBUSxDQUFDTyxTQUFTO0lBQzNDO0FBQ0Y7QUFFQSxNQUFNSSxnQkFBZ0I7SUFDcEJDLFVBQVU7R0FDUEgsV0FBVyw0REFBNEQ7O0FBRzVFaEIsR0FBR29CLGFBQWEsQ0FBRSw4QkFBOEJsQixLQUFLbUIsU0FBUyxDQUFFSCxlQUFlLE1BQU07QUFFckYsTUFBTUksc0JBQXNCLENBQUMsa0JBQWtCLEVBQUUsSUFBSUMsT0FBT0MsV0FBVyxHQUFHOzs7Ozs7OztBQVExRSxDQUFDO0FBRUQsTUFBTUMsdUJBQXVCLEdBQUdILG9CQUFvQixpQkFBaUIsRUFBRWpCLGtCQUFrQixDQUFDLENBQUM7QUFDM0ZMLEdBQUdvQixhQUFhLENBQUUsbUJBQW1CSztBQUVyQ0MsUUFBUUMsR0FBRyxDQUFFO0FBRWIsSUFBSUMsY0FBYztBQUNsQixJQUFJO0lBRUYsOERBQThEO0lBQzlEN0IsY0FBYzhCLFFBQVEsQ0FBRTtJQUN4QkgsUUFBUUMsR0FBRyxDQUFFO0FBQ2YsRUFDQSxPQUFPRyxHQUFJO0lBQ1RGLGNBQWM7QUFDaEI7QUFFQSxJQUFLQSxhQUFjO0lBQ2pCLElBQUk7UUFFRkYsUUFBUUMsR0FBRyxDQUFFO1FBRWIsOEZBQThGO1FBQzlGNUIsY0FBYzhCLFFBQVEsQ0FBRTtRQUV4QjlCLGNBQWM4QixRQUFRLENBQUU7UUFDeEI5QixjQUFjOEIsUUFBUSxDQUFFO1FBRXhCLElBQUtELGFBQWM7WUFDakJGLFFBQVFDLEdBQUcsQ0FBRTtZQUNiNUIsY0FBYzhCLFFBQVEsQ0FBRTtZQUN4QkgsUUFBUUMsR0FBRyxDQUFFO1lBQ2I1QixjQUFjOEIsUUFBUSxDQUFFO1FBQzFCO0lBQ0YsRUFDQSxPQUFPQyxHQUFJO1FBQ1RKLFFBQVFLLEtBQUssQ0FBRSxrQ0FBa0NEO0lBQ25EO0FBQ0YifQ==