// Copyright 2022-2024, University of Colorado Boulder
/**
 * LevelSelectionButtonGroup is a group of related LevelSelectionButtons, used in games.
 *
 * Responsibilities include:
 * - Instantiation of the buttons, based on an 'items' array that describes the buttons.
 * - Setting an effective uniform size for the button icons.
 * - Layout of the buttons, see details below.
 * - Support for the gameLevels query parameter, via LevelSelectionButtonGroupOptions.gameLevels.
 *
 * Layout:
 * - The default layout is a single row of buttons, customizable via LevelSelectionButtonGroupOptions.flowBoxOptions.
 * - To create multiple rows of buttons, see example MultiRowButtonGroup in demoLevelSelectionButtonGroup.ts.
 * - To create a custom layout, see example XButtonGroup in demoLevelSelectionButtonGroup.ts.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */ import optionize, { combineOptions } from '../../phet-core/js/optionize.js';
import { FlowBox, Node } from '../../scenery/js/imports.js';
import Tandem from '../../tandem/js/Tandem.js';
import LevelSelectionButton from './LevelSelectionButton.js';
import vegas from './vegas.js';
let LevelSelectionButtonGroup = class LevelSelectionButtonGroup extends Node {
    /**
   * Sets the focus to the button associated with a specified level number. If your simulation supports keyboard
   * traversal, you'll typically need to call this when returning to the UI that show the LevelSelectionButtonGroup,
   * for example, when the 'Back' or 'Start Over' button is pressed in a game.
   * @param level - numbered starting from 1, to comply with gameLevels query parameter
   */ focusLevelSelectionButton(level) {
        assert && assert(Number.isInteger(level) && level > 0 && level <= this.buttons.length, `invalid level: ${level}`);
        this.buttons[level - 1].focus();
    }
    /**
   * @param items - descriptions of the LevelSelectionButtons, ordered by increasing level number
   * @param [providedOptions]
   */ constructor(items, providedOptions){
        assert && assert(items.length > 0, 'at least one item must be specified');
        const options = optionize()({
            // The default layout is a single row of buttons.
            flowBoxOptions: {
                orientation: 'horizontal',
                spacing: 10
            },
            // @ts-expect-error This default is provided for JavaScript simulations.
            tandem: Tandem.REQUIRED
        }, providedOptions);
        // Create the LevelSelectionButton instances.
        const buttons = items.map((item, index)=>{
            let tandem = Tandem.OPT_OUT;
            if (options.tandem.supplied) {
                const tandemName = item.tandemName || `level${index + 1}Button`;
                tandem = options.tandem.createTandem(tandemName);
            }
            const buttonOptions = combineOptions({
                buttonHeight: options.groupButtonHeight,
                buttonWidth: options.groupButtonWidth,
                tandem: tandem
            }, options.levelSelectionButtonOptions, item.options);
            return new LevelSelectionButton(item.icon, item.scoreProperty, buttonOptions);
        });
        // Hide buttons for levels that are not included in gameLevels.
        // All buttons must be instantiated so that the PhET-iO API is not changed conditionally.
        // While options.gameLevels is required, this guard is provided for .js sims that do not comply.
        if (options.gameLevels) {
            assert && assert(options.gameLevels.length > 0, 'at least 1 gameLevel must be visible');
            assert && assert(_.every(options.gameLevels, (gameLevel)=>Number.isInteger(gameLevel) && gameLevel > 0), 'gameLevels must be positive integers');
            buttons.forEach((button, index)=>{
                button.visible = options.gameLevels.includes(index + 1);
            });
        }
        let layoutNode;
        if (options.createLayoutNode) {
            layoutNode = options.createLayoutNode(buttons);
        } else {
            // The default layout is a FlowBox, customizable via options.flowBoxOptions.
            layoutNode = new FlowBox(combineOptions({
                children: buttons
            }, options.flowBoxOptions));
        }
        options.children = [
            layoutNode
        ];
        super(options);
        this.buttons = buttons;
    }
};
export { LevelSelectionButtonGroup as default };
vegas.register('LevelSelectionButtonGroup', LevelSelectionButtonGroup);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3ZlZ2FzL2pzL0xldmVsU2VsZWN0aW9uQnV0dG9uR3JvdXAudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjItMjAyNCwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXG5cbi8qKlxuICogTGV2ZWxTZWxlY3Rpb25CdXR0b25Hcm91cCBpcyBhIGdyb3VwIG9mIHJlbGF0ZWQgTGV2ZWxTZWxlY3Rpb25CdXR0b25zLCB1c2VkIGluIGdhbWVzLlxuICpcbiAqIFJlc3BvbnNpYmlsaXRpZXMgaW5jbHVkZTpcbiAqIC0gSW5zdGFudGlhdGlvbiBvZiB0aGUgYnV0dG9ucywgYmFzZWQgb24gYW4gJ2l0ZW1zJyBhcnJheSB0aGF0IGRlc2NyaWJlcyB0aGUgYnV0dG9ucy5cbiAqIC0gU2V0dGluZyBhbiBlZmZlY3RpdmUgdW5pZm9ybSBzaXplIGZvciB0aGUgYnV0dG9uIGljb25zLlxuICogLSBMYXlvdXQgb2YgdGhlIGJ1dHRvbnMsIHNlZSBkZXRhaWxzIGJlbG93LlxuICogLSBTdXBwb3J0IGZvciB0aGUgZ2FtZUxldmVscyBxdWVyeSBwYXJhbWV0ZXIsIHZpYSBMZXZlbFNlbGVjdGlvbkJ1dHRvbkdyb3VwT3B0aW9ucy5nYW1lTGV2ZWxzLlxuICpcbiAqIExheW91dDpcbiAqIC0gVGhlIGRlZmF1bHQgbGF5b3V0IGlzIGEgc2luZ2xlIHJvdyBvZiBidXR0b25zLCBjdXN0b21pemFibGUgdmlhIExldmVsU2VsZWN0aW9uQnV0dG9uR3JvdXBPcHRpb25zLmZsb3dCb3hPcHRpb25zLlxuICogLSBUbyBjcmVhdGUgbXVsdGlwbGUgcm93cyBvZiBidXR0b25zLCBzZWUgZXhhbXBsZSBNdWx0aVJvd0J1dHRvbkdyb3VwIGluIGRlbW9MZXZlbFNlbGVjdGlvbkJ1dHRvbkdyb3VwLnRzLlxuICogLSBUbyBjcmVhdGUgYSBjdXN0b20gbGF5b3V0LCBzZWUgZXhhbXBsZSBYQnV0dG9uR3JvdXAgaW4gZGVtb0xldmVsU2VsZWN0aW9uQnV0dG9uR3JvdXAudHMuXG4gKlxuICogQGF1dGhvciBDaHJpcyBNYWxsZXkgKFBpeGVsWm9vbSwgSW5jLilcbiAqL1xuXG5pbXBvcnQgVFByb3BlcnR5IGZyb20gJy4uLy4uL2F4b24vanMvVFByb3BlcnR5LmpzJztcbmltcG9ydCBvcHRpb25pemUsIHsgY29tYmluZU9wdGlvbnMgfSBmcm9tICcuLi8uLi9waGV0LWNvcmUvanMvb3B0aW9uaXplLmpzJztcbmltcG9ydCBQaWNrUmVxdWlyZWQgZnJvbSAnLi4vLi4vcGhldC1jb3JlL2pzL3R5cGVzL1BpY2tSZXF1aXJlZC5qcyc7XG5pbXBvcnQgU3RyaWN0T21pdCBmcm9tICcuLi8uLi9waGV0LWNvcmUvanMvdHlwZXMvU3RyaWN0T21pdC5qcyc7XG5pbXBvcnQgeyBGbG93Qm94LCBGbG93Qm94T3B0aW9ucywgTGF5b3V0Tm9kZSwgTm9kZSwgTm9kZUxheW91dENvbnN0cmFpbnQsIE5vZGVPcHRpb25zIH0gZnJvbSAnLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcbmltcG9ydCBUYW5kZW0gZnJvbSAnLi4vLi4vdGFuZGVtL2pzL1RhbmRlbS5qcyc7XG5pbXBvcnQgTGV2ZWxTZWxlY3Rpb25CdXR0b24sIHsgTGV2ZWxTZWxlY3Rpb25CdXR0b25PcHRpb25zIH0gZnJvbSAnLi9MZXZlbFNlbGVjdGlvbkJ1dHRvbi5qcyc7XG5pbXBvcnQgdmVnYXMgZnJvbSAnLi92ZWdhcy5qcyc7XG5cbi8vIERlc2NyaWJlcyBvbmUgTGV2ZWxTZWxlY3Rpb25CdXR0b25cbmV4cG9ydCB0eXBlIExldmVsU2VsZWN0aW9uQnV0dG9uR3JvdXBJdGVtID0ge1xuXG4gIC8vIFRoZSBpY29uIGRpc3BsYXllZCBvbiB0aGUgYnV0dG9uXG4gIGljb246IE5vZGU7XG5cbiAgLy8gVGhlIHNjb3JlIGRpc3BsYXllZCBvbiB0aGUgYnV0dG9uXG4gIHNjb3JlUHJvcGVydHk6IFRQcm9wZXJ0eTxudW1iZXI+O1xuXG4gIC8vIE5hbWUgdXNlZCB3aGVuIGNyZWF0aW5nIHRoZSBidXR0b24ncyB0YW5kZW0sIGRlZmF1bHRzIHRvIGBsZXZlbCR7Tn1CdXR0b25gXG4gIHRhbmRlbU5hbWU/OiBzdHJpbmc7XG5cbiAgLy8gT3B0aW9ucyBmb3IgdGhlIGJ1dHRvbi4gVGhlc2Ugd2lsbCBvdmVycmlkZSBMZXZlbFNlbGVjdGlvbkJ1dHRvbkdyb3VwT3B0aW9ucy5sZXZlbFNlbGVjdGlvbkJ1dHRvbk9wdGlvbnMuXG4gIC8vIFNldHRpbmcgdGFuZGVtIGlzIHRoZSByZXNwb25zaWJpbGl0eSBvZiB0aGUgZ3JvdXAsIHNvIGl0IGlzIG9taXR0ZWQgaGVyZS5cbiAgb3B0aW9ucz86IFN0cmljdE9taXQ8TGV2ZWxTZWxlY3Rpb25CdXR0b25PcHRpb25zLCAndGFuZGVtJyB8ICdidXR0b25IZWlnaHQnIHwgJ2J1dHRvbldpZHRoJz47XG59O1xuXG50eXBlIFNlbGZPcHRpb25zID0ge1xuXG4gIC8vIE9wdGlvbnMgZm9yIGFsbCBMZXZlbFNlbGVjdGlvbkJ1dHRvbiBpbnN0YW5jZXMgaW4gdGhlIGdyb3VwLlxuICAvLyBUaGVzZSBjYW4gYmUgb3ZlcnJpZGRlbiBmb3Igc3BlY2lmaWMgYnV0dG9uKHMpIHZpYSBMZXZlbFNlbGVjdGlvbkJ1dHRvbkdyb3VwSXRlbS5vcHRpb25zLlxuICBsZXZlbFNlbGVjdGlvbkJ1dHRvbk9wdGlvbnM/OiBTdHJpY3RPbWl0PExldmVsU2VsZWN0aW9uQnV0dG9uT3B0aW9ucywgJ3RhbmRlbScgfCAnYnV0dG9uSGVpZ2h0JyB8ICdidXR0b25XaWR0aCc+O1xuXG4gIC8vIE9wdGlvbnMgZm9yIHRoZSBkZWZhdWx0IGxheW91dCwgd2hpY2ggaXMgYSBGbG93Qm94LiBJZ25vcmVkIGlmIGNyZWF0ZUxheW91dE5vZGUgaXMgcHJvdmlkZWQuXG4gIGZsb3dCb3hPcHRpb25zPzogU3RyaWN0T21pdDxGbG93Qm94T3B0aW9ucywgJ2NoaWxkcmVuJz47XG5cbiAgLy8gQ3JlYXRlcyB0aGUgTm9kZSB0aGF0IGhhbmRsZXMgbGF5b3V0IG9mIHRoZSBidXR0b25zLlxuICAvLyBVc2UgdGhpcyBvcHRpb24gaWYgeW91IGhhdmUgYSBjdXN0b20gbGF5b3V0IHRoYXQgY2Fubm90IGJlIGFjaGlldmVkIHVzaW5nIHRoZSBkZWZhdWx0IEZsb3dCb3guXG4gIGNyZWF0ZUxheW91dE5vZGU/OiAoIGJ1dHRvbnM6IExldmVsU2VsZWN0aW9uQnV0dG9uW10gKSA9PiBMYXlvdXROb2RlPE5vZGVMYXlvdXRDb25zdHJhaW50PjtcblxuICAvLyBHYW1lIGxldmVscyB3aG9zZSBidXR0b25zIHNob3VsZCBiZSB2aXNpYmxlLiBMZXZlbHMgYXJlIG51bWJlcmVkIHN0YXJ0aW5nIGZyb20gMS5cbiAgLy8gU2V0IHRoaXMgdG8gdGhlIHZhbHVlIG9mIHRoZSBnYW1lTGV2ZWxzIHF1ZXJ5IHBhcmFtZXRlciwgYSByZXF1aXJlZCBxdWVyeSBwYXJhbWV0ZXIuXG4gIC8vIFNlZSBnZXRHYW1lTGV2ZWxzU2NoZW1hLnRzIGFuZCBleGFtcGxlIHVzZSBpbiBGTVdRdWVyeVBhcmFtZXRlcnMuXG4gIGdhbWVMZXZlbHM6IG51bWJlcltdO1xuXG4gIGdyb3VwQnV0dG9uSGVpZ2h0PzogbnVtYmVyO1xuICBncm91cEJ1dHRvbldpZHRoPzogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgTGV2ZWxTZWxlY3Rpb25CdXR0b25Hcm91cE9wdGlvbnMgPSBTZWxmT3B0aW9ucyAmIFN0cmljdE9taXQ8Tm9kZU9wdGlvbnMsICdjaGlsZHJlbic+ICYgUGlja1JlcXVpcmVkPE5vZGVPcHRpb25zLCAndGFuZGVtJz47XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExldmVsU2VsZWN0aW9uQnV0dG9uR3JvdXAgZXh0ZW5kcyBOb2RlIHtcblxuICAvLyBCdXR0b25zLCBvcmRlcmVkIGJ5IGluY3JlYXNpbmcgbGV2ZWwgbnVtYmVyLlxuICAvLyBOb3RlIHRoYXQgbGV2ZWwgbnVtYmVyaW5nIHN0YXJ0cyBmcm9tIDEsIHRvIG1hdGNoIHRoZSBnYW1lTGV2ZWxzIHF1ZXJ5IHBhcmFtZXRlci5cbiAgcHJpdmF0ZSByZWFkb25seSBidXR0b25zOiBMZXZlbFNlbGVjdGlvbkJ1dHRvbltdO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gaXRlbXMgLSBkZXNjcmlwdGlvbnMgb2YgdGhlIExldmVsU2VsZWN0aW9uQnV0dG9ucywgb3JkZXJlZCBieSBpbmNyZWFzaW5nIGxldmVsIG51bWJlclxuICAgKiBAcGFyYW0gW3Byb3ZpZGVkT3B0aW9uc11cbiAgICovXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggaXRlbXM6IExldmVsU2VsZWN0aW9uQnV0dG9uR3JvdXBJdGVtW10sIHByb3ZpZGVkT3B0aW9ucz86IExldmVsU2VsZWN0aW9uQnV0dG9uR3JvdXBPcHRpb25zICkge1xuICAgIGFzc2VydCAmJiBhc3NlcnQoIGl0ZW1zLmxlbmd0aCA+IDAsICdhdCBsZWFzdCBvbmUgaXRlbSBtdXN0IGJlIHNwZWNpZmllZCcgKTtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25pemU8TGV2ZWxTZWxlY3Rpb25CdXR0b25Hcm91cE9wdGlvbnMsXG4gICAgICBTdHJpY3RPbWl0PFNlbGZPcHRpb25zLCAnY3JlYXRlTGF5b3V0Tm9kZScgfCAnZ2FtZUxldmVscycgfCAnbGV2ZWxTZWxlY3Rpb25CdXR0b25PcHRpb25zJz4sIE5vZGVPcHRpb25zPigpKCB7XG4gICAgICAvLyBUaGUgZGVmYXVsdCBsYXlvdXQgaXMgYSBzaW5nbGUgcm93IG9mIGJ1dHRvbnMuXG4gICAgICBmbG93Qm94T3B0aW9uczoge1xuICAgICAgICBvcmllbnRhdGlvbjogJ2hvcml6b250YWwnLFxuICAgICAgICBzcGFjaW5nOiAxMFxuICAgICAgfSxcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgVGhpcyBkZWZhdWx0IGlzIHByb3ZpZGVkIGZvciBKYXZhU2NyaXB0IHNpbXVsYXRpb25zLlxuICAgICAgdGFuZGVtOiBUYW5kZW0uUkVRVUlSRURcbiAgICB9LCBwcm92aWRlZE9wdGlvbnMgKTtcblxuICAgIC8vIENyZWF0ZSB0aGUgTGV2ZWxTZWxlY3Rpb25CdXR0b24gaW5zdGFuY2VzLlxuICAgIGNvbnN0IGJ1dHRvbnMgPSBpdGVtcy5tYXAoICggaXRlbSwgaW5kZXggKSA9PiB7XG5cbiAgICAgIGxldCB0YW5kZW0gPSBUYW5kZW0uT1BUX09VVDtcbiAgICAgIGlmICggb3B0aW9ucy50YW5kZW0uc3VwcGxpZWQgKSB7XG4gICAgICAgIGNvbnN0IHRhbmRlbU5hbWUgPSBpdGVtLnRhbmRlbU5hbWUgfHwgYGxldmVsJHtpbmRleCArIDF9QnV0dG9uYDtcbiAgICAgICAgdGFuZGVtID0gb3B0aW9ucy50YW5kZW0uY3JlYXRlVGFuZGVtKCB0YW5kZW1OYW1lICk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGJ1dHRvbk9wdGlvbnMgPSBjb21iaW5lT3B0aW9uczxMZXZlbFNlbGVjdGlvbkJ1dHRvbk9wdGlvbnM+KCB7XG4gICAgICAgIGJ1dHRvbkhlaWdodDogb3B0aW9ucy5ncm91cEJ1dHRvbkhlaWdodCxcbiAgICAgICAgYnV0dG9uV2lkdGg6IG9wdGlvbnMuZ3JvdXBCdXR0b25XaWR0aCxcbiAgICAgICAgdGFuZGVtOiB0YW5kZW1cbiAgICAgIH0sIG9wdGlvbnMubGV2ZWxTZWxlY3Rpb25CdXR0b25PcHRpb25zLCBpdGVtLm9wdGlvbnMgKTtcblxuICAgICAgcmV0dXJuIG5ldyBMZXZlbFNlbGVjdGlvbkJ1dHRvbiggaXRlbS5pY29uLCBpdGVtLnNjb3JlUHJvcGVydHksIGJ1dHRvbk9wdGlvbnMgKTtcbiAgICB9ICk7XG5cbiAgICAvLyBIaWRlIGJ1dHRvbnMgZm9yIGxldmVscyB0aGF0IGFyZSBub3QgaW5jbHVkZWQgaW4gZ2FtZUxldmVscy5cbiAgICAvLyBBbGwgYnV0dG9ucyBtdXN0IGJlIGluc3RhbnRpYXRlZCBzbyB0aGF0IHRoZSBQaEVULWlPIEFQSSBpcyBub3QgY2hhbmdlZCBjb25kaXRpb25hbGx5LlxuICAgIC8vIFdoaWxlIG9wdGlvbnMuZ2FtZUxldmVscyBpcyByZXF1aXJlZCwgdGhpcyBndWFyZCBpcyBwcm92aWRlZCBmb3IgLmpzIHNpbXMgdGhhdCBkbyBub3QgY29tcGx5LlxuICAgIGlmICggb3B0aW9ucy5nYW1lTGV2ZWxzICkge1xuICAgICAgYXNzZXJ0ICYmIGFzc2VydCggb3B0aW9ucy5nYW1lTGV2ZWxzLmxlbmd0aCA+IDAsICdhdCBsZWFzdCAxIGdhbWVMZXZlbCBtdXN0IGJlIHZpc2libGUnICk7XG4gICAgICBhc3NlcnQgJiYgYXNzZXJ0KCBfLmV2ZXJ5KCBvcHRpb25zLmdhbWVMZXZlbHMsIGdhbWVMZXZlbCA9PiAoIE51bWJlci5pc0ludGVnZXIoIGdhbWVMZXZlbCApICYmIGdhbWVMZXZlbCA+IDAgKSApLFxuICAgICAgICAnZ2FtZUxldmVscyBtdXN0IGJlIHBvc2l0aXZlIGludGVnZXJzJyApO1xuICAgICAgYnV0dG9ucy5mb3JFYWNoKCAoIGJ1dHRvbiwgaW5kZXggKSA9PiB7XG4gICAgICAgIGJ1dHRvbi52aXNpYmxlID0gb3B0aW9ucy5nYW1lTGV2ZWxzLmluY2x1ZGVzKCBpbmRleCArIDEgKTtcbiAgICAgIH0gKTtcbiAgICB9XG5cbiAgICBsZXQgbGF5b3V0Tm9kZTtcbiAgICBpZiAoIG9wdGlvbnMuY3JlYXRlTGF5b3V0Tm9kZSApIHtcbiAgICAgIGxheW91dE5vZGUgPSBvcHRpb25zLmNyZWF0ZUxheW91dE5vZGUoIGJ1dHRvbnMgKTtcbiAgICB9XG4gICAgZWxzZSB7XG5cbiAgICAgIC8vIFRoZSBkZWZhdWx0IGxheW91dCBpcyBhIEZsb3dCb3gsIGN1c3RvbWl6YWJsZSB2aWEgb3B0aW9ucy5mbG93Qm94T3B0aW9ucy5cbiAgICAgIGxheW91dE5vZGUgPSBuZXcgRmxvd0JveCggY29tYmluZU9wdGlvbnM8Rmxvd0JveE9wdGlvbnM+KCB7XG4gICAgICAgIGNoaWxkcmVuOiBidXR0b25zXG4gICAgICB9LCBvcHRpb25zLmZsb3dCb3hPcHRpb25zICkgKTtcbiAgICB9XG5cbiAgICBvcHRpb25zLmNoaWxkcmVuID0gWyBsYXlvdXROb2RlIF07XG5cbiAgICBzdXBlciggb3B0aW9ucyApO1xuXG4gICAgdGhpcy5idXR0b25zID0gYnV0dG9ucztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBmb2N1cyB0byB0aGUgYnV0dG9uIGFzc29jaWF0ZWQgd2l0aCBhIHNwZWNpZmllZCBsZXZlbCBudW1iZXIuIElmIHlvdXIgc2ltdWxhdGlvbiBzdXBwb3J0cyBrZXlib2FyZFxuICAgKiB0cmF2ZXJzYWwsIHlvdSdsbCB0eXBpY2FsbHkgbmVlZCB0byBjYWxsIHRoaXMgd2hlbiByZXR1cm5pbmcgdG8gdGhlIFVJIHRoYXQgc2hvdyB0aGUgTGV2ZWxTZWxlY3Rpb25CdXR0b25Hcm91cCxcbiAgICogZm9yIGV4YW1wbGUsIHdoZW4gdGhlICdCYWNrJyBvciAnU3RhcnQgT3ZlcicgYnV0dG9uIGlzIHByZXNzZWQgaW4gYSBnYW1lLlxuICAgKiBAcGFyYW0gbGV2ZWwgLSBudW1iZXJlZCBzdGFydGluZyBmcm9tIDEsIHRvIGNvbXBseSB3aXRoIGdhbWVMZXZlbHMgcXVlcnkgcGFyYW1ldGVyXG4gICAqL1xuICBwdWJsaWMgZm9jdXNMZXZlbFNlbGVjdGlvbkJ1dHRvbiggbGV2ZWw6IG51bWJlciApOiB2b2lkIHtcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBOdW1iZXIuaXNJbnRlZ2VyKCBsZXZlbCApICYmIGxldmVsID4gMCAmJiBsZXZlbCA8PSB0aGlzLmJ1dHRvbnMubGVuZ3RoLFxuICAgICAgYGludmFsaWQgbGV2ZWw6ICR7bGV2ZWx9YCApO1xuICAgIHRoaXMuYnV0dG9uc1sgbGV2ZWwgLSAxIF0uZm9jdXMoKTtcbiAgfVxufVxuXG52ZWdhcy5yZWdpc3RlciggJ0xldmVsU2VsZWN0aW9uQnV0dG9uR3JvdXAnLCBMZXZlbFNlbGVjdGlvbkJ1dHRvbkdyb3VwICk7Il0sIm5hbWVzIjpbIm9wdGlvbml6ZSIsImNvbWJpbmVPcHRpb25zIiwiRmxvd0JveCIsIk5vZGUiLCJUYW5kZW0iLCJMZXZlbFNlbGVjdGlvbkJ1dHRvbiIsInZlZ2FzIiwiTGV2ZWxTZWxlY3Rpb25CdXR0b25Hcm91cCIsImZvY3VzTGV2ZWxTZWxlY3Rpb25CdXR0b24iLCJsZXZlbCIsImFzc2VydCIsIk51bWJlciIsImlzSW50ZWdlciIsImJ1dHRvbnMiLCJsZW5ndGgiLCJmb2N1cyIsIml0ZW1zIiwicHJvdmlkZWRPcHRpb25zIiwib3B0aW9ucyIsImZsb3dCb3hPcHRpb25zIiwib3JpZW50YXRpb24iLCJzcGFjaW5nIiwidGFuZGVtIiwiUkVRVUlSRUQiLCJtYXAiLCJpdGVtIiwiaW5kZXgiLCJPUFRfT1VUIiwic3VwcGxpZWQiLCJ0YW5kZW1OYW1lIiwiY3JlYXRlVGFuZGVtIiwiYnV0dG9uT3B0aW9ucyIsImJ1dHRvbkhlaWdodCIsImdyb3VwQnV0dG9uSGVpZ2h0IiwiYnV0dG9uV2lkdGgiLCJncm91cEJ1dHRvbldpZHRoIiwibGV2ZWxTZWxlY3Rpb25CdXR0b25PcHRpb25zIiwiaWNvbiIsInNjb3JlUHJvcGVydHkiLCJnYW1lTGV2ZWxzIiwiXyIsImV2ZXJ5IiwiZ2FtZUxldmVsIiwiZm9yRWFjaCIsImJ1dHRvbiIsInZpc2libGUiLCJpbmNsdWRlcyIsImxheW91dE5vZGUiLCJjcmVhdGVMYXlvdXROb2RlIiwiY2hpbGRyZW4iLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6IkFBQUEsc0RBQXNEO0FBRXREOzs7Ozs7Ozs7Ozs7Ozs7Q0FlQyxHQUdELE9BQU9BLGFBQWFDLGNBQWMsUUFBUSxrQ0FBa0M7QUFHNUUsU0FBU0MsT0FBTyxFQUE4QkMsSUFBSSxRQUEyQyw4QkFBOEI7QUFDM0gsT0FBT0MsWUFBWSw0QkFBNEI7QUFDL0MsT0FBT0MsMEJBQTJELDRCQUE0QjtBQUM5RixPQUFPQyxXQUFXLGFBQWE7QUEyQ2hCLElBQUEsQUFBTUMsNEJBQU4sTUFBTUEsa0NBQWtDSjtJQXlFckQ7Ozs7O0dBS0MsR0FDRCxBQUFPSywwQkFBMkJDLEtBQWEsRUFBUztRQUN0REMsVUFBVUEsT0FBUUMsT0FBT0MsU0FBUyxDQUFFSCxVQUFXQSxRQUFRLEtBQUtBLFNBQVMsSUFBSSxDQUFDSSxPQUFPLENBQUNDLE1BQU0sRUFDdEYsQ0FBQyxlQUFlLEVBQUVMLE9BQU87UUFDM0IsSUFBSSxDQUFDSSxPQUFPLENBQUVKLFFBQVEsRUFBRyxDQUFDTSxLQUFLO0lBQ2pDO0lBN0VBOzs7R0FHQyxHQUNELFlBQW9CQyxLQUFzQyxFQUFFQyxlQUFrRCxDQUFHO1FBQy9HUCxVQUFVQSxPQUFRTSxNQUFNRixNQUFNLEdBQUcsR0FBRztRQUVwQyxNQUFNSSxVQUFVbEIsWUFDOEY7WUFDNUcsaURBQWlEO1lBQ2pEbUIsZ0JBQWdCO2dCQUNkQyxhQUFhO2dCQUNiQyxTQUFTO1lBQ1g7WUFDQSx3RUFBd0U7WUFDeEVDLFFBQVFsQixPQUFPbUIsUUFBUTtRQUN6QixHQUFHTjtRQUVILDZDQUE2QztRQUM3QyxNQUFNSixVQUFVRyxNQUFNUSxHQUFHLENBQUUsQ0FBRUMsTUFBTUM7WUFFakMsSUFBSUosU0FBU2xCLE9BQU91QixPQUFPO1lBQzNCLElBQUtULFFBQVFJLE1BQU0sQ0FBQ00sUUFBUSxFQUFHO2dCQUM3QixNQUFNQyxhQUFhSixLQUFLSSxVQUFVLElBQUksQ0FBQyxLQUFLLEVBQUVILFFBQVEsRUFBRSxNQUFNLENBQUM7Z0JBQy9ESixTQUFTSixRQUFRSSxNQUFNLENBQUNRLFlBQVksQ0FBRUQ7WUFDeEM7WUFFQSxNQUFNRSxnQkFBZ0I5QixlQUE2QztnQkFDakUrQixjQUFjZCxRQUFRZSxpQkFBaUI7Z0JBQ3ZDQyxhQUFhaEIsUUFBUWlCLGdCQUFnQjtnQkFDckNiLFFBQVFBO1lBQ1YsR0FBR0osUUFBUWtCLDJCQUEyQixFQUFFWCxLQUFLUCxPQUFPO1lBRXBELE9BQU8sSUFBSWIscUJBQXNCb0IsS0FBS1ksSUFBSSxFQUFFWixLQUFLYSxhQUFhLEVBQUVQO1FBQ2xFO1FBRUEsK0RBQStEO1FBQy9ELHlGQUF5RjtRQUN6RixnR0FBZ0c7UUFDaEcsSUFBS2IsUUFBUXFCLFVBQVUsRUFBRztZQUN4QjdCLFVBQVVBLE9BQVFRLFFBQVFxQixVQUFVLENBQUN6QixNQUFNLEdBQUcsR0FBRztZQUNqREosVUFBVUEsT0FBUThCLEVBQUVDLEtBQUssQ0FBRXZCLFFBQVFxQixVQUFVLEVBQUVHLENBQUFBLFlBQWUvQixPQUFPQyxTQUFTLENBQUU4QixjQUFlQSxZQUFZLElBQ3pHO1lBQ0Y3QixRQUFROEIsT0FBTyxDQUFFLENBQUVDLFFBQVFsQjtnQkFDekJrQixPQUFPQyxPQUFPLEdBQUczQixRQUFRcUIsVUFBVSxDQUFDTyxRQUFRLENBQUVwQixRQUFRO1lBQ3hEO1FBQ0Y7UUFFQSxJQUFJcUI7UUFDSixJQUFLN0IsUUFBUThCLGdCQUFnQixFQUFHO1lBQzlCRCxhQUFhN0IsUUFBUThCLGdCQUFnQixDQUFFbkM7UUFDekMsT0FDSztZQUVILDRFQUE0RTtZQUM1RWtDLGFBQWEsSUFBSTdDLFFBQVNELGVBQWdDO2dCQUN4RGdELFVBQVVwQztZQUNaLEdBQUdLLFFBQVFDLGNBQWM7UUFDM0I7UUFFQUQsUUFBUStCLFFBQVEsR0FBRztZQUFFRjtTQUFZO1FBRWpDLEtBQUssQ0FBRTdCO1FBRVAsSUFBSSxDQUFDTCxPQUFPLEdBQUdBO0lBQ2pCO0FBYUY7QUFwRkEsU0FBcUJOLHVDQW9GcEI7QUFFREQsTUFBTTRDLFFBQVEsQ0FBRSw2QkFBNkIzQyJ9